<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2499973653082164"
      crossorigin="anonymous"
    ></script>
    <title>
      GST Calculator India - Free Online GST Calculator | Forge APIs
    </title>
    <meta
      name="description"
      content="Free GST Calculator for India. Calculate CGST, SGST, IGST instantly. Support for all GST rates: 0%, 3%, 5%, 12%, 18%, 28%. Powered by Forge APIs."
    />

    <!-- Schema Markup for SEO -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "GST Calculator India",
        "description": "Free online GST calculator for India. Calculate CGST, SGST, IGST with all tax rates.",
        "applicationCategory": "FinanceApplication",
        "operatingSystem": "Any",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "INR"
        },
        "provider": {
          "@type": "Organization",
          "name": "Forge APIs",
          "url": "https://forgeapis.com"
        }
      }
    </script>

    <!-- Copy the same fonts and styles from your riskscore -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
      rel="stylesheet"
    />

    <style>
      /* Copy base styles from your site */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --primary: #0066ff;
        --primary-dark: #0052cc;
        --secondary: #00d4aa;
        --secondary-dark: #00a085;
        --accent: #ff6b35;
        --accent-light: #ff8c42;
        --success: #10b981;
        --warning: #f59e0b;
        --dark: #0a0e27;
        --gray: #6b7280;
        --light-gray: #f3f4f6;
        --white: #ffffff;
        --gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        --card-gradient: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
        --shadow-color: rgba(6, 102, 255, 0.1);
      }

      body {
        font-family: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;
        background: linear-gradient(
          135deg,
          #f0f9ff 0%,
          #e0f2fe 50%,
          #f0fdfa 100%
        );
        min-height: 100vh;
        padding: 1rem;
        padding-top: 120px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
      }

      /* Navigation - same as your site */
      nav {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        z-index: 1000;
        padding: 0.5rem 0;
        border-bottom: 1px solid rgba(0, 0, 0, 0.1);
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 15px;
      }

      nav .container {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .logo {
        text-decoration: none;
        display: flex;
        align-items: center;
      }

      .nav-links {
        display: flex;
        gap: 40px;
        align-items: center;
      }

      .nav-links a {
        color: var(--dark);
        text-decoration: none;
        font-weight: 500;
        transition: color 0.3s;
      }

      .nav-links a:hover {
        color: var(--primary);
      }

      /* Tools Dropdown */
      .dropdown {
        position: relative;
        display: inline-block;
      }

      .dropdown-btn {
        background: none;
        border: none;
        color: var(--dark);
        text-decoration: none;
        font-weight: 500;
        font-size: 16px;
        cursor: pointer;
        transition: color 0.3s;
        display: flex;
        align-items: center;
        gap: 4px;
      }

      .dropdown-btn:hover {
        color: var(--primary);
      }

      .dropdown-btn:focus {
        color: var(--primary);
        outline: 2px solid var(--primary);
        outline-offset: 2px;
      }

      .dropdown-content {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        background: #1f2937;
        color: white;
        width: 224px;
        border-radius: 8px;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3),
          0 4px 6px -2px rgba(0, 0, 0, 0.2);
        padding: 8px 0;
        z-index: 1000;
        opacity: 0;
        transform: translateY(-10px);
        transition: opacity 0.2s ease, transform 0.2s ease;
      }

      .dropdown.active .dropdown-content {
        display: block;
        opacity: 1;
        transform: translateY(0);
      }

      .dropdown-section {
        margin-bottom: 8px;
      }

      .dropdown-section:last-child {
        margin-bottom: 0;
      }

      .dropdown-section-title {
        padding: 4px 12px;
        font-size: 12px;
        color: #9ca3af;
        text-transform: uppercase;
        font-weight: 500;
        letter-spacing: 0.5px;
      }

      .dropdown-section a {
        display: flex;
        align-items: center;
        padding: 8px 12px;
        color: white;
        text-decoration: none;
        font-size: 14px;
        transition: background-color 0.2s ease;
        border-radius: 6px;
        margin: 2px 8px;
      }

      .dropdown-section a:hover {
        background-color: #374151;
        transition: background-color 0.2s ease;
      }

      .dropdown-divider {
        border-top: 1px solid #374151;
        margin: 8px 0;
      }

      /* Single Responsive Calculator Wrapper */
      .calculator-wrapper {
        display: grid;
        grid-template-columns: 1fr;
        gap: 20px;
        max-width: 1400px;
        width: 100%;
        margin: 0 auto;
        padding: 0 10px;
      }

      /* Desktop Side Ads */
      .ad-column {
        display: none;
        width: 300px;
        position: relative;
      }

      .ad-sticky {
        position: sticky;
        top: 120px;
        height: fit-content;
      }

      .ad-skyscraper {
        width: 300px;
        height: 600px;
        background: #f5f5f5;
        border: 2px dashed #ddd;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
        color: #999;
      }

      /* Main Calculator */
      .calculator-main {
        max-width: 600px;
        margin: 0 auto;
        width: 100%;
      }

      /* Calculator Card */
      .calculator-card {
        background: var(--card-gradient);
        border-radius: 16px;
        padding: 2rem;
        box-shadow: 0 8px 32px var(--shadow-color),
          0 2px 8px rgba(0, 0, 0, 0.05);
        margin-bottom: 2rem;
        border: 1px solid rgba(6, 102, 255, 0.1);
        position: relative;
        overflow: hidden;
      }

      .calculator-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(
          90deg,
          var(--primary) 0%,
          var(--secondary) 50%,
          var(--accent) 100%
        );
      }

      h1 {
        color: var(--dark);
        font-size: 1.75rem;
        font-weight: 800;
        margin-bottom: 0.25rem;
        text-align: center;
      }

      .subtitle {
        color: var(--gray);
        text-align: center;
        margin-bottom: 1.5rem;
        font-size: 0.85rem;
      }

      /* Form Elements */
      .input-group {
        margin-bottom: 1.25rem;
      }

      label {
        display: block;
        color: var(--dark);
        font-weight: 600;
        margin-bottom: 0.5rem;
        font-size: 0.9rem;
      }

      input[type="number"] {
        width: 100%;
        padding: 0.75rem 1rem;
        border: 1px solid #ddd;
        border-radius: 8px;
        font-size: 1rem;
        font-weight: 400;
        color: var(--dark);
        transition: border-color 0.3s;
      }

      input[type="number"]:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(6, 102, 255, 0.1);
        transform: translateY(-1px);
      }

      /* Mode Selector */
      .mode-selector {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
        margin-bottom: 1.25rem;
      }

      .mode-btn {
        padding: 0.6rem;
        border: none;
        background: #f0f0f0;
        border-radius: 8px;
        font-size: 0.8rem;
        font-weight: 500;
        color: var(--gray);
        cursor: pointer;
        transition: all 0.3s;
      }

      .mode-btn:hover {
        background: #e0e0e0;
      }

      .mode-btn.active {
        background: linear-gradient(
          135deg,
          var(--primary) 0%,
          var(--primary-dark) 100%
        );
        color: white;
        box-shadow: 0 4px 12px rgba(6, 102, 255, 0.3);
      }

      /* GST Rate Buttons */
      .gst-rates {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 0.75rem;
        margin-bottom: 1.25rem;
      }

      .rate-btn {
        padding: 0.6rem;
        border: none;
        background: #f0f0f0;
        border-radius: 8px;
        font-size: 0.8rem;
        font-weight: 500;
        color: var(--gray);
        cursor: pointer;
        transition: all 0.3s;
      }

      .rate-btn:hover {
        background: #e0e0e0;
      }

      .rate-btn.active {
        background: linear-gradient(
          135deg,
          var(--primary) 0%,
          var(--primary-dark) 100%
        );
        color: white;
        box-shadow: 0 4px 12px rgba(6, 102, 255, 0.3);
      }

      /* Transaction Type */
      .transaction-type {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
        margin-bottom: 1.25rem;
      }

      .type-btn {
        padding: 0.6rem;
        border: none;
        background: #f0f0f0;
        border-radius: 8px;
        font-size: 0.8rem;
        font-weight: 500;
        color: var(--gray);
        cursor: pointer;
        transition: all 0.3s;
      }

      .type-btn:hover {
        background: #e0e0e0;
      }

      .type-btn.active {
        background: linear-gradient(
          135deg,
          var(--primary) 0%,
          var(--primary-dark) 100%
        );
        color: white;
        box-shadow: 0 4px 12px rgba(6, 102, 255, 0.3);
      }

      /* Results */
      .results {
        background: linear-gradient(135deg, #f8faff 0%, #e6f3ff 100%);
        border-radius: 12px;
        padding: 1.5rem;
        margin-top: 1.5rem;
        border: 1px solid rgba(6, 102, 255, 0.1);
        box-shadow: 0 4px 16px rgba(6, 102, 255, 0.08);
      }

      .result-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.5rem 0;
        border-bottom: 1px solid #e2e8f0;
      }

      .result-row:last-child {
        border-bottom: none;
        padding-top: 1rem;
        margin-top: 0.5rem;
        border-top: 2px solid #cbd5e0;
      }

      .result-label {
        color: var(--gray);
        font-size: 0.875rem;
      }

      .result-value {
        color: var(--dark);
        font-weight: 600;
        font-size: 1rem;
      }

      .result-row.total .result-value {
        font-size: 1.125rem;
        color: #0066ff;
        font-weight: 600;
      }

      /* Calculate Again Button */
      .calculate-again-container {
        margin-top: 1rem;
        text-align: center;
      }

      .calculate-again-btn {
        background: linear-gradient(
          135deg,
          var(--secondary) 0%,
          var(--secondary-dark) 100%
        );
        color: white;
        border: none;
        padding: 0.75rem 1.5rem;
        border-radius: 12px;
        font-size: 0.9rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        opacity: 0;
        transform: translateY(10px);
        pointer-events: none;
        box-shadow: 0 4px 16px rgba(0, 212, 170, 0.3);
        width: 120px;
        height: 40px;
      }

      .calculate-again-btn:hover {
        background: linear-gradient(
          135deg,
          var(--secondary-dark) 0%,
          #008f6b 100%
        );
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 212, 170, 0.4);
      }

      .calculate-again-btn.show {
        opacity: 1;
        transform: translateY(0);
        pointer-events: auto;
      }

      /* Calculation History Styles */
      .history-section {
        margin-top: 2rem;
        border: 1px solid #e2e8f0;
        border-radius: 8px;
        background: #f8f9fa;
        overflow: hidden;
      }

      .history-toggle {
        width: 100%;
        padding: 12px 16px;
        background: #f1f3f4;
        border: none;
        border-bottom: 1px solid #e2e8f0;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-weight: 600;
        color: var(--dark);
        transition: background-color 0.2s;
      }

      .history-toggle:hover {
        background: #e8eaed;
      }

      .history-toggle-icon {
        transition: transform 0.3s ease;
      }

      .history-toggle.expanded .history-toggle-icon {
        transform: rotate(180deg);
      }

      .history-content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease;
      }

      .history-content.expanded {
        max-height: 400px;
      }

      .history-widget {
        margin-top: 20px;
        border: 1px solid #e2e8f0;
        border-radius: 8px;
        background: #f8f9fa;
        padding: 16px;
      }

      .history-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 12px;
        padding-bottom: 8px;
        border-bottom: 1px solid #e2e8f0;
      }

      .history-header h3 {
        font-size: 0.9rem;
        font-weight: 600;
        color: var(--dark);
        margin: 0;
      }

      .clear-history-btn {
        background: none;
        border: 1px solid #dc3545;
        color: #dc3545;
        padding: 4px 8px;
        border-radius: 4px;
        font-size: 0.75rem;
        cursor: pointer;
        transition: all 0.2s;
      }

      .clear-history-btn:hover {
        background: #dc3545;
        color: white;
      }

      .history-list {
        max-height: 300px;
        overflow-y: auto;
      }

      .history-item {
        padding: 8px 12px;
        margin-bottom: 6px;
        background: white;
        border: 1px solid #e2e8f0;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.2s;
        font-size: 0.8rem;
      }

      .history-item:hover {
        background: #f0f8ff;
        border-color: var(--primary);
        transform: translateX(2px);
      }

      .history-item:last-child {
        margin-bottom: 0;
      }

      .history-item-amount {
        font-weight: 600;
        color: var(--primary);
        margin-bottom: 2px;
      }

      .history-item-details {
        color: var(--gray);
        font-size: 0.75rem;
        display: flex;
        justify-content: space-between;
      }

      .history-empty {
        text-align: center;
        color: var(--gray);
        font-style: italic;
        padding: 20px;
        font-size: 0.8rem;
      }

      /* Footer */
      .footer-text {
        text-align: center;
        color: #999;
        margin-top: 2rem;
        font-size: 0.8rem;
      }

      .footer-text a {
        color: var(--secondary);
        text-decoration: none;
      }

      /* Ad Container Styles */
      .ad-container {
        width: 100%;
        max-width: 728px;
        margin: 2rem auto;
        display: flex;
        justify-content: center;
        background: #f5f5f5;
        border-radius: 8px;
        min-height: 90px;
        padding: 1rem;
      }

      .ad-placeholder {
        display: flex;
        align-items: center;
        justify-content: center;
        color: #999;
        font-size: 12px;
        border: 2px dashed #ddd;
        width: 100%;
        min-height: 90px;
      }

      /* Mobile Ad Styles */
      .ad-mobile-banner {
        margin: 20px auto;
        max-width: 320px;
        height: 50px;
      }

      .ad-mobile-rectangle {
        margin: 20px auto;
        max-width: 300px;
        height: 250px;
      }

      /* Mobile Sticky Ads */
      .mobile-ad-top {
        position: sticky;
        top: 0;
        z-index: 999;
        background: white;
        border-bottom: 1px solid #e2e8f0;
        padding: 10px 0;
      }

      .mobile-ad-bottom {
        position: sticky;
        bottom: 0;
        z-index: 999;
        background: white;
        border-top: 1px solid #e2e8f0;
        padding: 10px 0;
      }

      .ad-banner-320x50,
      .ad-anchor-320x50 {
        max-width: 320px;
        height: 50px;
        margin: 0 auto;
        background: #f5f5f5;
        border: 2px dashed #ddd;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        color: #999;
      }

      /* Calculator Header Compact */
      .calculator-header-compact {
        text-align: center;
        margin-bottom: 1.5rem;
      }

      .calculator-header-compact h1 {
        margin-bottom: 0.25rem;
      }

      /* Desktop-only elements */
      .desktop-only {
        display: block;
      }

      /* Mobile-only elements */
      .mobile-only {
        display: none;
      }

      /* Mobile Menu Toggle */
      .mobile-menu-toggle {
        display: none;
        flex-direction: column;
        background: none;
        border: none;
        cursor: pointer;
        padding: 8px;
        gap: 4px;
      }

      .mobile-menu-toggle span {
        width: 25px;
        height: 3px;
        background: var(--dark);
        transition: all 0.3s;
        border-radius: 2px;
      }

      .mobile-menu-toggle.active span:nth-child(1) {
        transform: rotate(45deg) translate(6px, 6px);
      }

      .mobile-menu-toggle.active span:nth-child(2) {
        opacity: 0;
      }

      .mobile-menu-toggle.active span:nth-child(3) {
        transform: rotate(-45deg) translate(6px, -6px);
      }

      /* Mobile Menu */
      .mobile-menu {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: white;
        border-top: 1px solid rgba(0, 0, 0, 0.1);
        padding: 1rem;
        flex-direction: column;
        gap: 0.5rem;
        z-index: 1000;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }

      .mobile-menu.active {
        display: flex;
      }

      .mobile-menu a {
        padding: 0.75rem;
        color: var(--dark);
        text-decoration: none;
        border-radius: 6px;
        transition: background 0.3s;
      }

      .mobile-menu a:hover {
        background: var(--light-gray);
      }

      .mobile-dropdown {
        margin-top: 0.5rem;
        padding-top: 0.5rem;
        border-top: 1px solid #e2e8f0;
      }

      .mobile-dropdown span {
        display: block;
        padding: 0.75rem;
        color: var(--gray);
        font-size: 0.9rem;
      }

      .mobile-dropdown a {
        padding: 0.5rem 0.75rem;
        font-size: 0.875rem;
      }

      /* Tablet/Medium Desktop - Smaller navbar */
      @media (min-width: 769px) and (max-width: 1199px) {
        .logo svg {
          width: 200px;
          height: 70px;
        }
      }

      /* Desktop Layout - Show side ads on larger screens */
      @media (min-width: 1200px) {
        .calculator-wrapper {
          grid-template-columns: 300px 1fr 300px;
          gap: 30px;
        }

        .ad-column {
          display: block;
        }

        .calculator-main {
          max-width: 600px;
          margin: 0 auto;
        }

        /* Smaller desktop logo */
        .logo svg {
          width: 250px;
          height: 80px;
        }
      }

      /* Mobile Layout - Single Screen, No Scroll */
      @media (max-width: 768px) {
        /* Tighter body spacing */
        body {
          padding-top: 50px; /* Just nav height */
          padding-bottom: 70px; /* Space for sticky bottom ad + buffer */
          padding-left: 10px;
          padding-right: 10px;
          min-height: 100vh;
          overflow-x: hidden;
          overflow-y: auto; /* Allow vertical scrolling */
        }

        /* Compact nav */
        nav {
          padding: 0.25rem 0;
          height: 50px;
        }

        nav .container {
          padding: 0 5px;
        }

        .logo svg {
          width: 180px; /* Slightly bigger for readability */
          height: 50px;
          object-fit: contain;
        }

        /* MOBILE AD POSITIONING */

        /* Remove top sticky ad - wastes space */
        .mobile-ad-top {
          display: none !important;
        }

        /* Tighter calculator spacing */
        .calculator-card {
          padding: 15px;
          margin-top: 10px; /* Small gap from top */
        }

        h1 {
          font-size: 1.25rem;
          margin-bottom: 0.5rem;
        }

        .subtitle {
          display: none; /* Hide completely on mobile */
        }

        /* Mobile input */
        input[type="number"] {
          padding: 8px;
          font-size: 16px;
          margin-bottom: 8px;
          height: 32px;
          border-radius: 6px;
          border: 1px solid #ddd;
          width: 100%;
          box-sizing: border-box;
        }

        label {
          font-size: 0.7rem;
          margin-bottom: 3px;
          font-weight: 600;
          color: var(--dark);
        }

        /* Mobile mode buttons */
        .mode-selector {
          grid-template-columns: 1fr 1fr;
          gap: 6px;
          margin-bottom: 8px;
        }

        .mode-btn {
          padding: 6px 4px;
          font-size: 0.7rem;
          height: 28px;
          border: 1px solid #ddd;
          border-radius: 4px;
          background: #f8f9fa;
        }

        .mode-btn.active {
          background: var(--primary);
          color: white;
          border-color: var(--primary);
        }

        .mode-btn small {
          display: none;
        }

        /* Mobile GST rate buttons */
        .gst-rates {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          gap: 4px;
          margin-bottom: 8px;
        }

        .rate-btn {
          padding: 6px 2px;
          font-size: 0.65rem;
          height: 24px;
          border-radius: 4px;
          border: 1px solid #ddd;
          background: #f8f9fa;
        }

        .rate-btn.active {
          background: var(--primary);
          color: white;
          border-color: var(--primary);
        }

        /* Mobile transaction type */
        .transaction-type {
          gap: 6px;
          margin-bottom: 8px;
        }

        .type-btn {
          padding: 6px 4px;
          font-size: 0.7rem;
          height: 28px;
          border: 1px solid #ddd;
          border-radius: 4px;
          background: #f8f9fa;
        }

        .type-btn.active {
          background: var(--primary);
          color: white;
          border-color: var(--primary);
        }

        .type-btn small {
          display: none;
        }

        /* Mobile results */
        .results {
          background: #f8f9fa;
          padding: 12px;
          border-radius: 8px;
          margin-top: 15px;
        }

        .result-row {
          padding: 8px 0;
          font-size: 0.9rem; /* Bigger text */
        }

        .result-value {
          font-size: 1rem;
          font-weight: 600;
        }

        .result-row.total .result-value {
          font-size: 1.125rem;
          color: var(--primary);
        }

        /* Mobile Calculate Again Button */
        .calculate-again-container {
          margin-top: 15px;
          padding: 0 10px;
        }

        .calculate-again-btn {
          width: 100%;
          height: 40px;
          font-size: 0.85rem;
          padding: 0;
        }

        /* Don't hide CGST/SGST by default - show everything */
        #cgstRow,
        #sgstRow {
          display: flex !important;
        }

        /* Remove expand button since we show everything */
        .expand-details {
          display: none;
        }

        /* Hide footer and nav elements */
        .footer-text,
        .nav-links {
          display: none;
        }

        .mobile-menu-toggle {
          display: flex;
          padding: 2px;
        }

        .mobile-menu-toggle span {
          width: 16px;
          height: 1.5px;
        }

        /* Sticky bottom ad - your main mobile moneymaker */
        .mobile-ad-bottom {
          position: fixed;
          bottom: 0;
          left: 0;
          right: 0;
          z-index: 998; /* Below nav but above content */
          background: white;
          padding: 5px;
          box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.1);
          height: 60px; /* Fixed height to prevent layout shifts */
        }

        .ad-anchor-320x50 {
          max-width: 320px;
          height: 50px;
          margin: 0 auto;
        }

        /* Remove extra wrapper padding */
        .calculator-wrapper {
          padding-top: 0;
          padding-bottom: 0;
        }

        /* In-content ads - these stay in normal flow */
        .ad-container.mobile-only {
          display: block !important;
          margin: 15px auto;
          padding: 10px;
        }

        /* Strategic mobile ad sizes with proper spacing */
        .ad-mobile-banner {
          max-width: 320px;
          height: 50px;
          margin: 15px auto;
        }

        .ad-mobile-rectangle {
          max-width: 300px;
          height: 250px;
          margin: 15px auto;
        }
      }

      /* Very small phones */
      @media (max-width: 375px) {
        .gst-rates {
          grid-template-columns: repeat(3, 1fr);
        }

        .rate-btn {
          font-size: 0.6rem;
          padding: 4px 1px;
          height: 20px;
        }

        .mode-btn,
        .type-btn {
          font-size: 0.65rem;
          height: 24px;
        }

        h1 {
          font-size: 0.9rem;
        }

        .result-row {
          font-size: 0.7rem;
        }

        .result-value {
          font-size: 0.75rem;
        }

        input[type="number"] {
          height: 28px;
          padding: 6px;
        }
      }

      /* Desktop only - hide on mobile */
      @media (max-width: 1199px) {
        .desktop-only {
          display: none !important;
        }
      }

      /* Mobile only - hide on desktop */
      @media (min-width: 1200px) {
        .mobile-only {
          display: none !important;
        }
      }

      /* SEO Content Sections */
      .content-section {
        background: var(--card-gradient);
        border-radius: 16px;
        padding: 2rem;
        margin: 2rem 0;
        box-shadow: 0 8px 32px var(--shadow-color),
          0 2px 8px rgba(0, 0, 0, 0.05);
        border: 1px solid rgba(6, 102, 255, 0.1);
        position: relative;
        overflow: hidden;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
      }

      .content-section::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(
          90deg,
          var(--secondary) 0%,
          var(--accent) 100%
        );
      }

      .content-section h2 {
        color: var(--dark);
        font-size: 1.5rem;
        font-weight: 700;
        margin-bottom: 1rem;
        border-bottom: 2px solid var(--primary);
        padding-bottom: 0.5rem;
      }

      .content-section h3 {
        color: var(--dark);
        font-size: 1.25rem;
        font-weight: 600;
        margin: 1.5rem 0 1rem 0;
      }

      .content-section p {
        color: var(--gray);
        line-height: 1.6;
        margin-bottom: 1rem;
      }

      .content-section ul {
        margin: 1rem 0;
        padding-left: 1.5rem;
      }

      .content-section li {
        color: var(--gray);
        line-height: 1.6;
        margin-bottom: 0.5rem;
      }

      /* FAQ Section */
      .faq-section {
        background: var(--card-gradient);
        border-radius: 16px;
        padding: 2rem;
        margin: 2rem 0;
        box-shadow: 0 8px 32px var(--shadow-color),
          0 2px 8px rgba(0, 0, 0, 0.05);
        border: 1px solid rgba(6, 102, 255, 0.1);
        position: relative;
        overflow: hidden;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
      }

      .faq-section::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(
          90deg,
          var(--accent) 0%,
          var(--warning) 100%
        );
      }

      .faq-item {
        border-bottom: 1px solid #e2e8f0;
        padding: 1.5rem 0;
      }

      .faq-item:last-child {
        border-bottom: none;
      }

      .faq-item h3 {
        color: var(--dark);
        font-size: 1.1rem;
        font-weight: 600;
        margin-bottom: 0.75rem;
      }

      .faq-item p {
        color: var(--gray);
        line-height: 1.6;
      }

      /* Mobile responsive adjustments for content sections */
      @media (max-width: 768px) {
        .content-section,
        .faq-section {
          padding: 1.5rem;
          margin: 1.5rem 0;
        }

        .content-section h2 {
          font-size: 1.25rem;
        }

        .content-section h3,
        .faq-item h3 {
          font-size: 1.1rem;
        }
      }
    </style>
  </head>
  <body>
    <!-- Navigation - Same as your site -->
    <nav>
      <div class="container">
        <a href="/" class="logo">
          <svg
            width="300"
            height="100"
            viewBox="0 0 240 80"
            xmlns="http://www.w3.org/2000/svg"
          >
            <!-- Digital/Tech Anvil with Crossed Hammers -->
            <g transform="translate(15, 15)">
              <!-- Digital Anvil (geometric/tech style) -->
              <path
                d="M 15 35 L 12 40 L 48 40 L 45 35 Z"
                fill="#1E293B"
                stroke="#0066FF"
                stroke-width="0.5"
              />
              <rect x="18" y="30" width="24" height="5" fill="#334155" rx="1" />
              <rect x="16" y="28" width="28" height="2" fill="#475569" />
              <!-- Tech pattern on anvil -->
              <line
                x1="20"
                y1="32"
                x2="40"
                y2="32"
                stroke="#0066FF"
                stroke-width="0.5"
                opacity="0.6"
              />
              <line
                x1="22"
                y1="34"
                x2="38"
                y2="34"
                stroke="#00D4AA"
                stroke-width="0.5"
                opacity="0.6"
              />
              <!-- Crossed Hammers (geometric style) -->
              <!-- Left hammer -->
              <g transform="rotate(-30 30 25)">
                <rect
                  x="28"
                  y="15"
                  width="4"
                  height="18"
                  fill="#0066FF"
                  rx="0.5"
                />
                <path d="M 25 12 L 35 12 L 36 16 L 24 16 Z" fill="#0052CC" />
                <rect x="24" y="13" width="2" height="2" fill="#00D4AA" />
                <rect x="34" y="13" width="2" height="2" fill="#00D4AA" />
              </g>
              <!-- Right hammer -->
              <g transform="rotate(30 30 25)">
                <rect
                  x="28"
                  y="15"
                  width="4"
                  height="18"
                  fill="#0066FF"
                  rx="0.5"
                />
                <path d="M 25 12 L 35 12 L 36 16 L 24 16 Z" fill="#0052CC" />
                <rect x="24" y="13" width="2" height="2" fill="#00D4AA" />
                <rect x="34" y="13" width="2" height="2" fill="#00D4AA" />
              </g>
              <!-- Digital Fire/Energy (geometric flames) -->
              <path
                d="M 28 10 L 30 5 L 31 8 L 33 3 L 33 10 L 31 8 L 29 11 Z"
                fill="#FF6B35"
                opacity="0.9"
              />
              <path
                d="M 26 12 L 27 9 L 28 11 L 29 8 L 29 13 Z"
                fill="#FFA500"
                opacity="0.8"
              />
              <path
                d="M 31 12 L 32 9 L 33 11 L 34 8 L 34 13 Z"
                fill="#FFA500"
                opacity="0.8"
              />
              <!-- Tech sparks (pixels) -->
              <rect
                x="12"
                y="20"
                width="2"
                height="2"
                fill="#00D4AA"
                opacity="0.8"
              />
              <rect
                x="46"
                y="20"
                width="2"
                height="2"
                fill="#00D4AA"
                opacity="0.8"
              />
              <rect
                x="10"
                y="25"
                width="1.5"
                height="1.5"
                fill="#FFD700"
                opacity="0.7"
              />
              <rect
                x="48"
                y="25"
                width="1.5"
                height="1.5"
                fill="#FFD700"
                opacity="0.7"
              />
            </g>
            <!-- Text: Forge -->
            <text
              x="75"
              y="45"
              font-family="Inter, system-ui, -apple-system, sans-serif"
              font-size="28"
              font-weight="800"
              fill="#0A0E27"
            >
              Forge
            </text>
            <!-- Text: APIs -->
            <text
              x="150"
              y="45"
              font-family="Inter, system-ui, -apple-system, sans-serif"
              font-size="28"
              font-weight="400"
              fill="#6B7280"
            >
              APIs
            </text>
            <!-- Tagline -->
            <text
              x="75"
              y="63"
              font-family="Inter, system-ui, -apple-system, sans-serif"
              font-size="9"
              fill="#9CA3AF"
              letter-spacing="0.5"
            >
              PRODUCTION-READY APIS
            </text>
          </svg>
        </a>
        <div class="nav-links">
          <!-- Tools Dropdown -->
          <div class="dropdown" id="toolsDropdown">
            <button
              class="dropdown-btn"
              id="toolsDropdownBtn"
              tabindex="0"
              aria-haspopup="true"
              aria-expanded="false"
            >
              Tools <span style="font-size: 12px">▼</span>
            </button>
            <div class="dropdown-content">
              <div class="dropdown-section">
                <div class="dropdown-section-title">Premium Tools</div>
                <a href="/riskscore"> RiskScore API </a>
                <a href="/dupecheck"> DupeCheck </a>
              </div>

              <div class="dropdown-divider"></div>

              <div class="dropdown-section">
                <div class="dropdown-section-title">Free Tools</div>
                <a href="/gst-calculator"> GST Calculator </a>
                <a href="/gaming-calculators"> Gaming Calculators </a>
              </div>
            </div>
          </div>
        </div>

        <!-- Mobile Menu Toggle -->
        <button class="mobile-menu-toggle" id="mobileMenuToggle">
          <span></span>
          <span></span>
          <span></span>
        </button>

        <!-- Mobile Menu -->
        <div class="mobile-menu" id="mobileMenu">
          <div class="mobile-dropdown">
            <span style="font-weight: 600">Tools</span>
            <a href="/riskscore" style="padding-left: 20px">🛡️ RiskScore API</a>
            <a href="/dupecheck" style="padding-left: 20px">🔍 DupeCheck</a>
            <a href="/gst-calculator" style="padding-left: 20px"
              >🧮 GST Calculator</a
            >
          </div>
        </div>
      </div>
    </nav>

    <!-- Single Responsive Calculator -->
    <div class="calculator-wrapper">
      <!-- Desktop Side Ads -->
      <aside class="ad-column ad-left desktop-only">
        <div class="ad-sticky">
          <div class="ad-skyscraper">
            <!-- AdSense 300x600 -->
            <div
              style="
                text-align: center;
                padding: 40px 20px;
                background: #f8f9fa;
                border: 2px dashed #dee2e6;
                border-radius: 8px;
                color: #6c757d;
                height: 520px;
                display: flex;
                flex-direction: column;
                justify-content: center;
              "
            >
              <div
                style="font-size: 16px; font-weight: 500; margin-bottom: 12px"
              >
                Advertisement Space
              </div>
              <div style="font-size: 14px">Ad loading...</div>
            </div>
          </div>
        </div>
      </aside>

      <!-- Main Calculator -->
      <main class="calculator-main">
        <div class="calculator-card">
          <div class="calculator-header-compact">
            <h1>GST Calculator India - Free Online GST Calculator</h1>
            <!-- Remove subtitle on mobile to save space -->
            <p class="subtitle desktop-only">
              Calculate GST, CGST, SGST & IGST Instantly
            </p>
          </div>

          <!-- Calculation Mode -->
          <div class="mode-selector">
            <button class="mode-btn active" onclick="setMode('exclusive')">
              GST Exclusive<br />
              <small
                style="font-weight: normal; font-size: 0.7rem; opacity: 0.8"
                >Add GST to Amount</small
              >
            </button>
            <button class="mode-btn" onclick="setMode('inclusive')">
              GST Inclusive<br />
              <small
                style="font-weight: normal; font-size: 0.7rem; opacity: 0.8"
                >Extract GST from Total</small
              >
            </button>
          </div>

          <!-- Amount Input -->
          <div class="input-group">
            <label for="amount" id="amountLabel"
              >Enter Amount (Excluding GST)</label
            >
            <input
              type="number"
              id="amount"
              placeholder="₹0"
              step="0.01"
              oninput="calculate()"
            />
          </div>

          <!-- GST Rate Selection -->
          <div class="input-group">
            <label>Select GST Rate</label>
            <div class="gst-rates">
              <button class="rate-btn" onclick="setRate(0)">0%</button>
              <button class="rate-btn" onclick="setRate(0.25)">0.25%</button>
              <button class="rate-btn" onclick="setRate(3)">3%</button>
              <button class="rate-btn" onclick="setRate(5)">5%</button>
              <button class="rate-btn" onclick="setRate(12)">12%</button>
              <button class="rate-btn active" onclick="setRate(18)">18%</button>
              <button class="rate-btn" onclick="setRate(28)">28%</button>
            </div>
          </div>

          <!-- Transaction Type -->
          <div class="input-group">
            <label>Transaction Type</label>
            <div class="transaction-type">
              <button
                class="type-btn active"
                onclick="setTransactionType('intrastate')"
              >
                Intrastate<br />
                <small
                  style="font-weight: normal; font-size: 0.7rem; opacity: 0.8"
                  >CGST + SGST</small
                >
              </button>
              <button
                class="type-btn"
                onclick="setTransactionType('interstate')"
              >
                Interstate<br />
                <small
                  style="font-weight: normal; font-size: 0.7rem; opacity: 0.8"
                  >IGST Only</small
                >
              </button>
            </div>
          </div>

          <!-- Mobile Banner Ad - After Transaction Type Selector -->
          <div class="ad-container mobile-only ad-mobile-banner">
            <div class="ad-placeholder">
              <div
                style="
                  text-align: center;
                  padding: 15px;
                  background: #f8f9fa;
                  border: 2px dashed #dee2e6;
                  border-radius: 8px;
                  color: #6c757d;
                "
              >
                <div
                  style="font-size: 12px; font-weight: 500; margin-bottom: 4px"
                >
                  Advertisement Space
                </div>
                <div style="font-size: 10px">Ad loading...</div>
              </div>
            </div>
          </div>

          <!-- Results -->
          <div class="results">
            <div class="result-row">
              <span class="result-label">Original Amount</span>
              <span class="result-value" id="originalAmount">₹0</span>
            </div>
            <div class="result-row" id="cgstRow">
              <span class="result-label">CGST (9%)</span>
              <span class="result-value" id="cgstAmount">₹0</span>
            </div>
            <div class="result-row" id="sgstRow">
              <span class="result-label">SGST (9%)</span>
              <span class="result-value" id="sgstAmount">₹0</span>
            </div>
            <div class="result-row" id="igstRow" style="display: none">
              <span class="result-label">IGST (18%)</span>
              <span class="result-value" id="igstAmount">₹0</span>
            </div>
            <div class="result-row">
              <span class="result-label">Total GST</span>
              <span class="result-value" id="totalGst">₹0</span>
            </div>
            <div class="result-row total">
              <span class="result-label" style="font-weight: 600"
                >Total Amount</span
              >
              <span class="result-value" id="totalAmount">₹0</span>
            </div>

            <!-- Calculate Again Button -->
            <div class="calculate-again-container">
              <button
                id="calculateAgainBtn"
                class="calculate-again-btn"
                onclick="calculateAgain()"
              >
                Calculate Again
              </button>
            </div>

            <!-- Mobile expand details button -->
            <div
              class="expand-details mobile-only"
              onclick="toggleResultDetails()"
            >
              + Show Details
            </div>
          </div>

          <!-- Ad after results -->
          <div class="ad-container" style="margin: 20px 0">
            <div class="ad-placeholder">
              <div
                style="
                  text-align: center;
                  padding: 20px;
                  background: #f8f9fa;
                  border: 2px dashed #dee2e6;
                  border-radius: 8px;
                  color: #6c757d;
                "
              >
                <div
                  style="font-size: 14px; font-weight: 500; margin-bottom: 8px"
                >
                  Advertisement Space
                </div>
                <div style="font-size: 12px">Ad loading...</div>
              </div>
            </div>
          </div>

          <!-- Mobile Rectangle Ad - After Results Section -->
          <div class="ad-container mobile-only ad-mobile-rectangle">
            <div class="ad-placeholder">
              <div
                style="
                  text-align: center;
                  padding: 20px;
                  background: #f8f9fa;
                  border: 2px dashed #dee2e6;
                  border-radius: 8px;
                  color: #6c757d;
                "
              >
                <div
                  style="font-size: 14px; font-weight: 500; margin-bottom: 8px"
                >
                  Advertisement Space
                </div>
                <div style="font-size: 12px">Ad loading...</div>
              </div>
            </div>
          </div>
        </div>

        <div class="footer-text">
          Powered by <a href="https://forgeapis.com">Forge APIs</a> • Free Tools
          for Everyone
        </div>

        <!-- Calculation History -->
        <div class="history-section mobile-only">
          <button class="history-toggle" onclick="toggleHistory()">
            <span class="history-toggle-text">Show History</span>
            <span class="history-toggle-icon">▼</span>
          </button>
          <div class="history-content" id="historyContent">
            <div class="history-header">
              <h3>Recent Calculations</h3>
              <button class="clear-history-btn" onclick="clearHistory()">
                Clear
              </button>
            </div>
            <div class="history-list" id="historyList">
              <div class="history-empty">No calculations yet</div>
            </div>
          </div>
        </div>

        <!-- SEO Content Sections -->
        <div class="content-section">
          <h2>Understanding GST in India</h2>
          <p>
            Goods and Services Tax (GST) is an indirect tax levied in India on
            the supply of goods and services. GST is a comprehensive,
            multi-stage, destination-based tax that replaced many indirect taxes
            in India.
          </p>

          <h3>How to Calculate GST</h3>
          <p>
            GST calculation is straightforward using our free calculator. Simply
            enter your amount, select the appropriate GST rate, and choose
            between intrastate (CGST + SGST) or interstate (IGST) transactions.
          </p>

          <h3>Current GST Rate Slabs</h3>
          <ul>
            <li>0% - Essential items like milk, fruits, vegetables</li>
            <li>5% - Common use items like sugar, tea, coffee</li>
            <li>12% - Computers, processed foods</li>
            <li>18% - Most products and services</li>
            <li>28% - Luxury items and sin goods</li>
          </ul>
        </div>

        <!-- FAQ Section -->
        <div class="faq-section">
          <h2>Frequently Asked Questions</h2>
          <div class="faq-item">
            <h3>What is the difference between CGST and SGST?</h3>
            <p>
              CGST (Central GST) goes to the central government while SGST
              (State GST) goes to state government. Both are charged at half the
              total GST rate.
            </p>
          </div>
          <div class="faq-item">
            <h3>When is IGST applicable?</h3>
            <p>
              IGST (Integrated GST) is applicable for interstate transactions,
              where goods or services are supplied from one state to another.
            </p>
          </div>
          <div class="faq-item">
            <h3>How to calculate GST on a product?</h3>
            <p>
              To calculate GST, multiply the base price by the GST rate. For
              example, if a product costs ₹100 and GST is 18%, the GST amount is
              ₹18, making the total ₹118.
            </p>
          </div>

          <!-- Ad between 3rd and 4th FAQ items -->
          <div class="ad-container" style="margin: 20px 0; max-width: 100%">
            <div class="ad-placeholder">
              <div
                style="
                  text-align: center;
                  padding: 20px;
                  background: #f8f9fa;
                  border: 2px dashed #dee2e6;
                  border-radius: 8px;
                  color: #6c757d;
                "
              >
                <div
                  style="font-size: 14px; font-weight: 500; margin-bottom: 8px"
                >
                  Advertisement Space
                </div>
                <div style="font-size: 12px">Ad loading...</div>
              </div>
            </div>
          </div>

          <div class="faq-item">
            <h3>What is GST exclusive and inclusive pricing?</h3>
            <p>
              GST exclusive means the price shown does not include GST, and it
              will be added separately. GST inclusive means the GST is already
              included in the displayed price.
            </p>
          </div>
          <div class="faq-item">
            <h3>Is GST calculator accurate for business use?</h3>
            <p>
              Yes, our GST calculator uses official GST rates and formulas.
              However, for complex business scenarios, consult a tax
              professional.
            </p>
          </div>
          <div class="faq-item">
            <h3>Can I use this calculator for GST filing?</h3>
            <p>
              This calculator helps with GST calculations, but for official GST
              filing, use the government's GST portal and consult with a
              qualified CA.
            </p>
          </div>
        </div>
      </main>

      <!-- Desktop Side Ads -->
      <aside class="ad-column ad-right desktop-only">
        <div class="ad-sticky">
          <div class="ad-skyscraper">
            <!-- AdSense 300x600 -->
            <div
              style="
                text-align: center;
                padding: 40px 20px;
                background: #f8f9fa;
                border: 2px dashed #dee2e6;
                border-radius: 8px;
                color: #6c757d;
                height: 520px;
                display: flex;
                flex-direction: column;
                justify-content: center;
              "
            >
              <div
                style="font-size: 16px; font-weight: 500; margin-bottom: 12px"
              >
                Advertisement Space
              </div>
              <div style="font-size: 14px">Ad loading...</div>
            </div>
          </div>

          <!-- Desktop History Widget -->
          <div class="history-widget desktop-only">
            <div class="history-header">
              <h3>Recent Calculations</h3>
              <button class="clear-history-btn" onclick="clearHistory()">
                Clear
              </button>
            </div>
            <div class="history-list" id="desktopHistoryList">
              <div class="history-empty">No calculations yet</div>
            </div>
          </div>
        </div>
      </aside>
    </div>

    <!-- Mobile Sticky Bottom Ad -->
    <div class="mobile-ad-bottom mobile-only">
      <div class="ad-container ad-anchor-320x50">
        <!-- AdSense Anchor Ad -->
        <div class="ad-placeholder">
          <div
            style="
              text-align: center;
              padding: 10px;
              background: #f8f9fa;
              border: 2px dashed #dee2e6;
              border-radius: 8px;
              color: #6c757d;
            "
          >
            <div style="font-size: 11px; font-weight: 500; margin-bottom: 2px">
              Advertisement Space
            </div>
            <div style="font-size: 9px">Ad loading...</div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Calculator logic
      let currentMode = "exclusive";
      let currentRate = 18;
      let currentTransactionType = "intrastate";

      // History Management - Initialize early to avoid reference errors
      let calculationHistory = JSON.parse(
        localStorage.getItem("gstHistory") || "[]"
      );

      function formatIndianCurrency(num) {
        if (isNaN(num) || num === 0) return "₹0";

        const parts = num.toFixed(2).toString().split(".");
        let integerPart = parts[0];
        const decimalPart = parts[1];

        const lastThree = integerPart.substring(integerPart.length - 3);
        const otherNumbers = integerPart.substring(0, integerPart.length - 3);

        if (otherNumbers !== "") {
          integerPart =
            otherNumbers.replace(/\B(?=(\d{2})+(?!\d))/g, ",") +
            "," +
            lastThree;
        } else {
          integerPart = lastThree;
        }

        return "₹" + integerPart + "." + decimalPart;
      }

      function setMode(mode) {
        currentMode = mode;

        document
          .querySelectorAll(".mode-btn")
          .forEach((btn) => btn.classList.remove("active"));
        event.target.classList.add("active");

        const label = document.getElementById("amountLabel");
        if (mode === "exclusive") {
          label.textContent = "Enter Amount (Excluding GST)";
        } else {
          label.textContent = "Enter Total Amount (Including GST)";
        }

        calculate();
      }

      function setRate(rate) {
        currentRate = rate;

        document
          .querySelectorAll(".rate-btn")
          .forEach((btn) => btn.classList.remove("active"));
        event.target.classList.add("active");

        const halfRate = rate / 2;
        document.querySelector(
          "#cgstRow .result-label"
        ).textContent = `CGST (${halfRate}%)`;
        document.querySelector(
          "#sgstRow .result-label"
        ).textContent = `SGST (${halfRate}%)`;
        document.querySelector(
          "#igstRow .result-label"
        ).textContent = `IGST (${rate}%)`;

        calculate();
      }

      function setTransactionType(type) {
        currentTransactionType = type;

        document
          .querySelectorAll(".type-btn")
          .forEach((btn) => btn.classList.remove("active"));
        event.target.classList.add("active");

        if (type === "intrastate") {
          document.getElementById("cgstRow").style.display = "flex";
          document.getElementById("sgstRow").style.display = "flex";
          document.getElementById("igstRow").style.display = "none";
        } else {
          document.getElementById("cgstRow").style.display = "none";
          document.getElementById("sgstRow").style.display = "none";
          document.getElementById("igstRow").style.display = "flex";
        }

        calculate();
      }

      function calculate() {
        const inputAmount =
          parseFloat(document.getElementById("amount").value) || 0;

        let originalAmount, gstAmount, totalAmount;

        if (currentMode === "exclusive") {
          originalAmount = inputAmount;
          gstAmount = (originalAmount * currentRate) / 100;
          totalAmount = originalAmount + gstAmount;
        } else {
          totalAmount = inputAmount;
          originalAmount = (totalAmount * 100) / (100 + currentRate);
          gstAmount = totalAmount - originalAmount;
        }

        document.getElementById("originalAmount").textContent =
          formatIndianCurrency(originalAmount);
        document.getElementById("totalGst").textContent =
          formatIndianCurrency(gstAmount);
        document.getElementById("totalAmount").textContent =
          formatIndianCurrency(totalAmount);

        if (currentTransactionType === "intrastate") {
          const halfGst = gstAmount / 2;
          document.getElementById("cgstAmount").textContent =
            formatIndianCurrency(halfGst);
          document.getElementById("sgstAmount").textContent =
            formatIndianCurrency(halfGst);
        } else {
          document.getElementById("igstAmount").textContent =
            formatIndianCurrency(gstAmount);
        }

        // Show Calculate Again button when results are displayed
        if (inputAmount > 0) {
          const calculateAgainBtn =
            document.getElementById("calculateAgainBtn");
          calculateAgainBtn.classList.add("show");

          // Save to history
          saveToHistory(
            inputAmount,
            currentRate,
            currentTransactionType,
            currentMode,
            {
              originalAmount: originalAmount,
              gstAmount: gstAmount,
              totalAmount: totalAmount,
            }
          );
        }
      }

      // Initialize
      calculate();
      updateHistoryDisplay();

      // Enhanced mobile details toggle with better UX
      function toggleResultDetails() {
        const isMobile = window.innerWidth <= 768;
        if (isMobile) {
          const cgstRow = document.getElementById("cgstRow");
          const sgstRow = document.getElementById("sgstRow");
          const expandBtn = document.querySelector(".expand-details");

          if (
            cgstRow.style.display === "none" ||
            cgstRow.style.display === ""
          ) {
            cgstRow.style.display = "flex";
            sgstRow.style.display = "flex";
            if (expandBtn) expandBtn.textContent = "− Show Less";
          } else {
            cgstRow.style.display = "none";
            sgstRow.style.display = "none";
            if (expandBtn) expandBtn.textContent = "+ Show Details";
          }
        }
      }

      // Calculate Again function
      function calculateAgain() {
        // Clear input
        document.getElementById("amount").value = "";

        // Reset to defaults
        currentMode = "exclusive";
        currentRate = 18;
        currentTransactionType = "intrastate";

        // Update UI to reflect defaults
        document
          .querySelectorAll(".mode-btn")
          .forEach((btn) => btn.classList.remove("active"));
        document
          .querySelector("[onclick=\"setMode('exclusive')\"]")
          .classList.add("active");

        document
          .querySelectorAll(".rate-btn")
          .forEach((btn) => btn.classList.remove("active"));
        document
          .querySelector('[onclick="setRate(18)"]')
          .classList.add("active");

        document
          .querySelectorAll(".type-btn")
          .forEach((btn) => btn.classList.remove("active"));
        document
          .querySelector("[onclick=\"setTransactionType('intrastate')\"]")
          .classList.add("active");

        // Reset results
        document.getElementById("originalAmount").textContent = "₹0";
        document.getElementById("totalGst").textContent = "₹0";
        document.getElementById("totalAmount").textContent = "₹0";
        document.getElementById("cgst").textContent = "₹0";
        document.getElementById("sgst").textContent = "₹0";
        document.getElementById("igst").textContent = "₹0";

        // Hide Calculate Again button
        const calculateAgainBtn = document.getElementById("calculateAgainBtn");
        calculateAgainBtn.classList.remove("show");

        // Smooth scroll to top
        window.scrollTo({
          top: 0,
          behavior: "smooth",
        });

        // Focus on amount field after scroll
        setTimeout(() => {
          document.getElementById("amount").focus();
        }, 500);
      }

      // History Management functions

      function saveToHistory(amount, rate, type, mode, results) {
        const historyItem = {
          id: Date.now(),
          amount: amount,
          rate: rate,
          type: type,
          mode: mode,
          results: results,
          timestamp: new Date().toLocaleString(),
        };

        // Add to beginning of array
        calculationHistory.unshift(historyItem);

        // Keep only last 5 calculations
        calculationHistory = calculationHistory.slice(0, 5);

        // Save to localStorage
        localStorage.setItem("gstHistory", JSON.stringify(calculationHistory));

        // Update UI
        updateHistoryDisplay();
      }

      function updateHistoryDisplay() {
        const mobileList = document.getElementById("historyList");
        const desktopList = document.getElementById("desktopHistoryList");

        if (calculationHistory.length === 0) {
          mobileList.innerHTML =
            '<div class="history-empty">No calculations yet</div>';
          desktopList.innerHTML =
            '<div class="history-empty">No calculations yet</div>';
          return;
        }

        const historyHTML = calculationHistory
          .map(
            (item) => `
          <div class="history-item" onclick="loadFromHistory(${item.id})">
            <div class="history-item-amount">₹${formatIndianCurrency(
              item.amount
            )}</div>
            <div class="history-item-details">
              <span>${item.rate}% ${
              item.type === "intrastate" ? "CGST+SGST" : "IGST"
            }</span>
              <span>${item.mode === "exclusive" ? "Excl" : "Incl"}</span>
            </div>
          </div>
        `
          )
          .join("");

        mobileList.innerHTML = historyHTML;
        desktopList.innerHTML = historyHTML;
      }

      function loadFromHistory(id) {
        const item = calculationHistory.find((h) => h.id === id);
        if (!item) return;

        // Set values
        document.getElementById("amount").value = item.amount;
        currentMode = item.mode;
        currentRate = item.rate;
        currentTransactionType = item.type;

        // Update UI
        document
          .querySelectorAll(".mode-btn")
          .forEach((btn) => btn.classList.remove("active"));
        document
          .querySelector(`[onclick="setMode('${item.mode}')"]`)
          .classList.add("active");

        document
          .querySelectorAll(".rate-btn")
          .forEach((btn) => btn.classList.remove("active"));
        document
          .querySelector(`[onclick="setRate(${item.rate})"]`)
          .classList.add("active");

        document
          .querySelectorAll(".type-btn")
          .forEach((btn) => btn.classList.remove("active"));
        document
          .querySelector(`[onclick="setTransactionType('${item.type}')"]`)
          .classList.add("active");

        // Recalculate
        calculate();
      }

      function clearHistory() {
        if (confirm("Clear all calculation history?")) {
          calculationHistory = [];
          localStorage.removeItem("gstHistory");
          updateHistoryDisplay();
        }
      }

      function toggleHistory() {
        const toggle = document.querySelector(".history-toggle");
        const content = document.getElementById("historyContent");
        const icon = document.querySelector(".history-toggle-icon");
        const text = document.querySelector(".history-toggle-text");

        if (content.classList.contains("expanded")) {
          content.classList.remove("expanded");
          toggle.classList.remove("expanded");
          text.textContent = "Show History";
        } else {
          content.classList.add("expanded");
          toggle.classList.add("expanded");
          text.textContent = "Hide History";
        }
      }

      // Tools dropdown functionality
      document.addEventListener("DOMContentLoaded", function () {
        // Mobile menu toggle
        const mobileMenuToggle = document.getElementById("mobileMenuToggle");
        const mobileMenu = document.getElementById("mobileMenu");

        if (mobileMenuToggle && mobileMenu) {
          mobileMenuToggle.addEventListener("click", function (e) {
            e.preventDefault();
            e.stopPropagation();
            console.log("Mobile menu toggle clicked");
            this.classList.toggle("active");
            mobileMenu.classList.toggle("active");

            // Close dropdown when mobile menu opens
            const dropdown = document.getElementById("toolsDropdown");
            if (dropdown) {
              dropdown.classList.remove("active");
            }
          });

          // Close mobile menu when clicking outside
          document.addEventListener("click", function (e) {
            if (
              !mobileMenuToggle.contains(e.target) &&
              !mobileMenu.contains(e.target)
            ) {
              mobileMenuToggle.classList.remove("active");
              mobileMenu.classList.remove("active");
            }
          });
        } else {
          console.error("Mobile menu elements not found");
        }

        // Desktop dropdown functionality
        const dropdown = document.getElementById("toolsDropdown");
        const dropdownBtn = document.getElementById("toolsDropdownBtn");

        if (dropdown && dropdownBtn) {
          dropdownBtn.addEventListener("click", function (e) {
            e.preventDefault();
            e.stopPropagation();

            const isActive = dropdown.classList.contains("active");

            dropdown.classList.toggle("active");

            const isNowActive = dropdown.classList.contains("active");

            // Update aria-expanded for accessibility
            dropdownBtn.setAttribute("aria-expanded", isNowActive);

            // Close mobile menu when dropdown opens
            if (mobileMenu && mobileMenuToggle) {
              mobileMenu.classList.remove("active");
              mobileMenuToggle.classList.remove("active");
            }
          });

          // Add keyboard accessibility (Enter and Space keys)
          dropdownBtn.addEventListener("keydown", function (e) {
            if (e.key === "Enter" || e.key === " ") {
              e.preventDefault();
              e.stopPropagation();
              dropdown.classList.toggle("active");

              // Update aria-expanded for accessibility
              const isNowActive = dropdown.classList.contains("active");
              dropdownBtn.setAttribute("aria-expanded", isNowActive);

              // Close mobile menu when dropdown opens
              if (mobileMenu && mobileMenuToggle) {
                mobileMenu.classList.remove("active");
                mobileMenuToggle.classList.remove("active");
              }
            }
          });

          // Close dropdown when clicking outside
          document.addEventListener("click", function (e) {
            if (!dropdown.contains(e.target)) {
              dropdown.classList.remove("active");
              dropdownBtn.setAttribute("aria-expanded", "false");
            }
          });

          // Prevent dropdown from closing when clicking inside it
          dropdown.addEventListener("click", function (e) {
            e.stopPropagation();
          });

          // Toggle-based functionality only (no hover)
        }
      });

      // FAQ Schema Markup
      const faqSchema = {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        mainEntity: [
          {
            "@type": "Question",
            name: "What is the difference between CGST and SGST?",
            acceptedAnswer: {
              "@type": "Answer",
              text: "CGST (Central GST) goes to the central government while SGST (State GST) goes to state government. Both are charged at half the total GST rate.",
            },
          },
          {
            "@type": "Question",
            name: "When is IGST applicable?",
            acceptedAnswer: {
              "@type": "Answer",
              text: "IGST (Integrated GST) is applicable for interstate transactions, where goods or services are supplied from one state to another.",
            },
          },
          {
            "@type": "Question",
            name: "How to calculate GST on a product?",
            acceptedAnswer: {
              "@type": "Answer",
              text: "To calculate GST, multiply the base price by the GST rate. For example, if a product costs ₹100 and GST is 18%, the GST amount is ₹18, making the total ₹118.",
            },
          },
          {
            "@type": "Question",
            name: "What is GST exclusive and inclusive pricing?",
            acceptedAnswer: {
              "@type": "Answer",
              text: "GST exclusive means the price shown does not include GST, and it will be added separately. GST inclusive means the GST is already included in the displayed price.",
            },
          },
          {
            "@type": "Question",
            name: "Is GST calculator accurate for business use?",
            acceptedAnswer: {
              "@type": "Answer",
              text: "Yes, our GST calculator uses official GST rates and formulas. However, for complex business scenarios, consult a tax professional.",
            },
          },
          {
            "@type": "Question",
            name: "Can I use this calculator for GST filing?",
            acceptedAnswer: {
              "@type": "Answer",
              text: "This calculator helps with GST calculations, but for official GST filing, use the government's GST portal and consult with a qualified CA.",
            },
          },
        ],
      };

      // Add FAQ schema to head
      const faqSchemaScript = document.createElement("script");
      faqSchemaScript.type = "application/ld+json";
      faqSchemaScript.textContent = JSON.stringify(faqSchema);
      document.head.appendChild(faqSchemaScript);
    </script>
  </body>
</html>
