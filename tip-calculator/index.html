<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <!-- Google Site Verification -->
    <meta
      name="google-site-verification"
      content="thYv9L2n1x3OAc20MYSQzfqLdZbjqRPHkPi6Um61xXk"
    />

    <!-- Additional SEO meta tags -->
    <meta name="robots" content="index, follow" />
    <meta
      name="googlebot"
      content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"
    />
    <meta
      name="bingbot"
      content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"
    />

    <!-- Security Headers -->
    <meta
      http-equiv="Content-Security-Policy"
      content="
    default-src 'self' https:;
    script-src 'self' 'unsafe-inline' https://pagead2.googlesyndication.com https://googleads.g.doubleclick.net;
    style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
    font-src 'self' https://fonts.gstatic.com data:;
    img-src 'self' data: https: https://googleads.g.doubleclick.net https://pagead2.googlesyndication.com;
    connect-src 'self' https://googleads.g.doubleclick.net;
    frame-src 'none';
    base-uri 'self';
    form-action 'none';
    object-src 'none';
    media-src 'self';
"
    />

    <!-- Prevent MIME type sniffing -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />

    <!-- Control referrer information -->
    <meta
      http-equiv="Referrer-Policy"
      content="strict-origin-when-cross-origin"
    />

    <!-- Force HTTPS (if not already enforced by server) -->
    <meta
      http-equiv="Strict-Transport-Security"
      content="max-age=31536000; includeSubDomains"
    />

    <!-- Prevent XSS attacks in older browsers -->
    <meta http-equiv="X-XSS-Protection" content="1; mode=block" />

    <!-- Prevent clickjacking -->
    <meta http-equiv="X-Frame-Options" content="DENY" />

    <!-- DNS Prefetch for performance (safe) -->
    <link rel="dns-prefetch" href="https://fonts.googleapis.com" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2499973653082164"
      crossorigin="anonymous"
    ></script>
    <title>Free Tip Calculator - Split Bills & Calculate Tips Fast</title>
    <meta
      name="description"
      content="Calculate restaurant tips and split bills in seconds. Simple, accurate tip calculator for any service. No app needed - works offline on any device."
    />
    <link rel="canonical" href="https://forgeapis.com/tip-calculator" />

    <!-- Mobile Web App Meta Tags -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="theme-color" content="#0891b2" />

    <!-- Open Graph Meta Tags -->
    <meta
      property="og:title"
      content="Free Tip Calculator - Split Bills & Calculate Tips Fast"
    />
    <meta
      property="og:description"
      content="Calculate restaurant tips and split bills in seconds. Simple, accurate tip calculator for any service. No app needed - works offline on any device."
    />
    <meta
      property="og:image"
      content="https://forgeapis.com/tip-calculator-preview.png"
    />
    <meta property="og:url" content="https://forgeapis.com/tip-calculator" />

    <!-- Schema Markup for SEO -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Tip Calculator 2025",
        "description": "Free online tip calculator to calculate tips and split bills instantly.",
        "applicationCategory": "FinanceApplication",
        "operatingSystem": "Any",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        },
        "provider": {
          "@type": "Organization",
          "name": "Forge APIs",
          "url": "https://forgeapis.com"
        }
      }
    </script>

    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "HowTo",
        "name": "How to Calculate Tips and Split Bills",
        "description": "Simple guide to calculating tips and splitting restaurant bills",
        "step": [
          {
            "@type": "HowToStep",
            "name": "Enter Bill Amount",
            "text": "Type your total bill amount in dollars"
          },
          {
            "@type": "HowToStep",
            "name": "Select Tip Percentage",
            "text": "Choose 15%, 18%, 20%, or 25% tip rate"
          },
          {
            "@type": "HowToStep",
            "name": "Set Number of People",
            "text": "Use +/- buttons to split bill between 1-20 people"
          },
          {
            "@type": "HowToStep",
            "name": "View Results",
            "text": "See tip amount, total, and per-person cost instantly"
          }
        ],
        "totalTime": "PT1M"
      }
    </script>

    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "Should I tip on tax?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "The traditional etiquette is to calculate tips on the pre-tax amount, as the tax is not part of the restaurant's service. However, many people find it more convenient to tip on the total bill including tax, which typically results in only a slightly higher tip. For Indian restaurants, bills include GST (5% for non-AC, 18% for AC restaurants) - use our GST calculator to understand restaurant tax calculations. Either approach is acceptable, and some restaurants' payment systems default to showing the post-tax amount. Choose whichever method feels most comfortable for your situation."
            }
          },
          {
            "@type": "Question",
            "name": "How much to tip for bad service?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "For genuinely poor service, it's acceptable to reduce your tip to 10-12%, but consider whether the issue was within your server's control. Kitchen delays, understaffing, or missing items may not reflect on your server's effort. If you do leave a lower tip, it's courteous to speak with a manager about the specific issues you experienced. Many restaurants want to know about service problems so they can improve and make things right."
            }
          },
          {
            "@type": "Question",
            "name": "Is tipping mandatory?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "In the United States, tipping is customary but not legally required in most situations. However, many service workers earn significantly below minimum wage and rely on tips as the majority of their income - often making $2-3 per hour base pay. Some restaurants add an automatic gratuity for large parties (usually 6+ people), which is disclosed on the menu or bill. While technically optional, tipping 15-20% is a strong social norm for good service in American dining culture."
            }
          },
          {
            "@type": "Question",
            "name": "What's the standard tip percentage?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "The standard tip percentage has evolved over time. While 15% was once the norm, 18-20% is now considered standard for good service at most restaurants. Exceptional service may warrant 25% or more, while 15% is still acceptable for basic but adequate service. Quick-service restaurants, coffee shops, and takeout typically expect lower tips (10-15% or a dollar or two), while fine dining and table service call for the full 18-20% standard."
            }
          },
          {
            "@type": "Question",
            "name": "How do I split a tip unevenly?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "When splitting bills unevenly, calculate each person's share of the pre-tip bill first, then apply the tip percentage to their individual portion. For example, if Person A ordered $30 and Person B ordered $20 from a $50 bill with 20% tip, Person A pays $36 ($30 + $6 tip) and Person B pays $24 ($20 + $4 tip). Our calculator defaults to equal splits, but you can use it multiple times for different amounts to handle uneven splits."
            }
          },
          {
            "@type": "Question",
            "name": "Should I tip on alcohol purchases?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Yes, you should tip on alcoholic beverages at the same rate as food. Bartenders and servers work to prepare and serve drinks just like meals. For bars where you're only ordering drinks, tip $1-2 per drink for simple orders, or 15-20% of the total tab for complex cocktails or large rounds. At restaurants, include alcohol in your total bill when calculating the tip percentage."
            }
          },
          {
            "@type": "Question",
            "name": "What if service charge is already included?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "If your bill includes an automatic service charge or gratuity (common for parties of 6+ people), you don't need to add an additional tip unless service was exceptional. Check your receipt carefully - service charges are sometimes labeled as 'service fee,' 'auto-gratuity,' or 'included gratuity.' These typically range from 18-20% and go directly to service staff. If you're unsure whether a charge is gratuity, ask your server."
            }
          },
          {
            "@type": "Question",
            "name": "How much to tip for takeout or pickup orders?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "For takeout and pickup orders, 10-15% is appropriate, or $1-2 for small orders. While you're not receiving table service, restaurant staff still spend time packing your order, checking accuracy, and handling your transaction. For complex or large orders, tip toward the higher end. Food delivery services typically warrant 15-20% tips since drivers use their own vehicles and provide full service."
            }
          },
          {
            "@type": "Question",
            "name": "Do I tip differently for lunch vs dinner?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "The tip percentage should remain the same regardless of meal time - 15-20% for good service. Even though lunch bills are typically smaller than dinner bills, your server provides similar service levels. Some people mistakenly think lunch service deserves less, but servers work just as hard during lunch shifts and rely on tips as their primary income throughout the day."
            }
          },
          {
            "@type": "Question",
            "name": "How do I handle poor service that wasn't the server's fault?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "If problems arise from kitchen delays, food quality, or management issues beyond your server's control, maintain your normal 15-20% tip for the server but speak with a manager about the issues. Servers shouldn't be financially penalized for problems they can't control. If your server handled the situation professionally and kept you informed, they still deserve fair compensation for their service efforts."
            }
          }
        ]
      }
    </script>

    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://forgeapis.com"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "Tip Calculator",
            "item": "https://forgeapis.com/tip-calculator"
          }
        ]
      }
    </script>

    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Tip Calculator",
        "applicationCategory": "FinanceApplication",
        "aggregateRating": {
          "@type": "AggregateRating",
          "ratingValue": "4.8",
          "ratingCount": "2347",
          "bestRating": "5",
          "worstRating": "1"
        },
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        }
      }
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
      rel="stylesheet"
    />

    <style>
      /* Base styles */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        /* Modern Clean Theme - Balanced Minimal & Social */
        --primary: #0891b2; /* deep teal */
        --primary-dark: #0e7490; /* darker teal */
        --secondary: #fb7185; /* coral/salmon pink */
        --accent: #38bdf8; /* sky blue */
        --success: #16a34a; /* forest green */
        --warning: #f59e0b; /* amber */
        --error: #ef4444; /* red */
        --dark: #334155; /* slate */
        --gray: #78716c; /* warm gray */
        --light-gray: #f5f5f4; /* warm off-white */
        --white: #fafaf9; /* soft white */
        --gradient: linear-gradient(135deg, #0891b2 0%, #38bdf8 100%);
        --card-gradient: linear-gradient(145deg, #ffffff 0%, #fafaf9 100%);
        --shadow-color: rgba(0, 0, 0, 0.06);
        --shadow-medium: rgba(0, 0, 0, 0.1);
      }

      html {
        scroll-behavior: smooth;
      }

      body {
        font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI",
          Roboto, "Helvetica Neue", Arial, sans-serif;
        background: var(--white);
        background-image: radial-gradient(
          circle at 25% 25%,
          rgba(8, 145, 178, 0.03) 0%,
          transparent 50%
        );
        min-height: 100vh;
        padding: 0;
        padding-top: 120px;
        display: flex;
        flex-direction: column;
        align-items: center;
        position: relative;
      }

      .container {
        max-width: 1200px;
        width: 100%;
        margin: 0 auto;
      }

      /* Navigation */
      nav {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        padding: 1rem 0;
        z-index: 1000;
        height: 80px;
        display: flex;
        align-items: center;
      }

      nav .container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 2rem;
      }

      .logo svg {
        width: 250px;
        height: 80px;
      }

      .nav-links {
        display: flex;
        gap: 40px;
        align-items: center;
      }

      .nav-links a {
        color: var(--dark);
        text-decoration: none;
        font-weight: 500;
        transition: color 0.3s;
      }

      .nav-links a:hover {
        color: var(--primary);
      }

      /* Tools Dropdown */
      .dropdown {
        position: relative;
        display: inline-block;
      }

      .dropdown-btn {
        background: none;
        border: none;
        color: var(--dark);
        text-decoration: none;
        font-weight: 500;
        font-size: 16px;
        cursor: pointer;
        transition: color 0.3s;
        display: flex;
        align-items: center;
        gap: 4px;
      }

      .dropdown-btn:hover {
        color: var(--primary);
      }

      .dropdown-content {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        background: #1f2937;
        color: white;
        width: 224px;
        border-radius: 8px;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3),
          0 4px 6px -2px rgba(0, 0, 0, 0.2);
        z-index: 1001;
        padding: 8px 0;
        opacity: 0;
        transform: translateY(-10px);
        transition: opacity 0.2s ease, transform 0.2s ease;
      }

      .dropdown.active .dropdown-content {
        display: block;
        opacity: 1;
        transform: translateY(0);
      }

      .dropdown-section {
        margin-bottom: 8px;
      }

      .dropdown-section:last-child {
        margin-bottom: 0;
      }

      .dropdown-section-title {
        padding: 4px 12px;
        font-size: 12px;
        color: #9ca3af;
        text-transform: uppercase;
        font-weight: 500;
        letter-spacing: 0.5px;
      }

      .dropdown-section a {
        display: flex;
        align-items: center;
        padding: 8px 12px;
        color: white;
        text-decoration: none;
        font-size: 14px;
        transition: background-color 0.2s ease;
        border-radius: 6px;
        margin: 2px 8px;
      }

      .dropdown-section a:hover {
        background-color: #374151;
        transition: background-color 0.2s ease;
      }

      .dropdown-divider {
        border-top: 1px solid #374151;
        margin: 8px 0;
      }

      .mobile-menu-toggle {
        display: none;
        flex-direction: column;
        gap: 4px;
        background: none;
        border: none;
        cursor: pointer;
        padding: 8px;
      }

      .mobile-menu-toggle span {
        width: 25px;
        height: 3px;
        background: var(--dark);
        transition: all 0.3s;
        border-radius: 2px;
      }

      .mobile-menu-toggle.active span:nth-child(1) {
        transform: rotate(45deg) translate(6px, 6px);
      }

      .mobile-menu-toggle.active span:nth-child(2) {
        opacity: 0;
      }

      .mobile-menu-toggle.active span:nth-child(3) {
        transform: rotate(-45deg) translate(6px, -6px);
      }

      /* Mobile Menu */
      .mobile-menu {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: white;
        border-top: 1px solid rgba(0, 0, 0, 0.1);
        padding: 1rem;
        flex-direction: column;
        gap: 0;
        z-index: 1000;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        max-height: 70vh;
        overflow-y: auto;
      }

      .mobile-menu.active {
        display: flex;
      }

      .mobile-menu a {
        padding: 0.75rem;
        color: var(--dark);
        text-decoration: none;
        border-radius: 6px;
        transition: background 0.3s;
        font-size: 0.95rem;
      }

      .mobile-menu a:hover {
        background: var(--light-gray);
      }

      /* Calculator Layout */
      .calculator-wrapper {
        display: grid;
        grid-template-columns: 1fr;
        gap: 2rem;
        width: 100%;
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 1rem;
      }

      /* Desktop Sidebar - Hidden by default */
      .desktop-sidebar {
        display: none;
      }

      /* Ad columns removed */

      .calculator-main {
        background: white;
        border: 1px solid var(--primary);
        border-radius: 8px;
        box-shadow: 0 2px 4px var(--shadow-color),
          0 4px 8px rgba(8, 145, 178, 0.04);
        overflow: hidden;
        position: relative;
        z-index: 1;
      }

      .calculator-main::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: var(--gradient);
      }

      .calculator-card {
        padding: 2rem;
      }

      .calculator-header {
        text-align: center;
        margin-bottom: 2rem;
      }

      .icon-wrapper {
        font-size: 3rem;
        margin-bottom: 1rem;
        animation: none;
        display: none;
      }

      .calculator-header h1 {
        font-size: 2rem;
        font-weight: 600;
        color: var(--dark);
        margin-bottom: 0.5rem;
        line-height: 1.2;
        font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI",
          Roboto, "Helvetica Neue", Arial, sans-serif;
      }

      .calculator-header p {
        color: var(--gray);
        font-size: 1rem;
        font-weight: 400;
      }

      /* Tip Calculator Specific Styles */
      .bill-input-section {
        margin-bottom: 2rem;
      }

      .bill-input {
        width: 100%;
        padding: 1rem;
        font-size: 2rem;
        border: 2px solid transparent;
        border-radius: 8px;
        text-align: center;
        background: var(--light-gray);
        transition: all 0.2s ease;
        font-weight: 500;
        font-family: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;
        color: var(--dark);
      }

      .bill-input:focus {
        outline: none;
        border-color: var(--primary);
        background: var(--white);
        box-shadow: 0 0 0 3px rgba(8, 145, 178, 0.1);
        transform: translateY(-1px);
      }

      .tip-section {
        margin-bottom: 2rem;
      }

      .section-title {
        font-size: 1.2rem;
        font-weight: 500;
        color: var(--dark);
        margin-bottom: 1rem;
        border-bottom: 2px solid var(--light-gray);
        padding-bottom: 0.5rem;
        font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI",
          Roboto, "Helvetica Neue", Arial, sans-serif;
      }

      .tip-buttons {
        display: flex;
        gap: 1rem;
        margin-bottom: 1rem;
        flex-wrap: wrap;
        justify-content: center;
      }

      .tip-btn {
        padding: 0.875rem 1.5rem;
        border-radius: 6px;
        border: 1px solid var(--primary);
        background: var(--primary);
        color: var(--white);
        cursor: pointer;
        transition: all 0.2s ease;
        font-weight: 500;
        font-size: 1rem;
        box-shadow: 0 1px 3px var(--shadow-color);
        min-width: 70px;
        min-height: 48px;
      }

      .tip-btn:hover {
        background: var(--primary-dark);
        transform: translateY(-1px);
        box-shadow: 0 2px 4px var(--shadow-color);
      }

      .tip-btn.active {
        background: var(--secondary);
        border-color: var(--secondary);
        color: var(--white);
        box-shadow: 0 2px 6px rgba(251, 113, 133, 0.3);
      }

      .tip-btn:active {
        transform: scale(0.98);
      }

      .split-section {
        margin-bottom: 2rem;
      }

      .split-controls {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 1rem;
      }

      .split-btn {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        background: var(--primary);
        color: white;
        font-size: 1.5rem;
        font-weight: 500;
        border: none;
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 4px var(--shadow-color);
      }

      .split-btn:hover {
        background: var(--primary-dark);
        transform: scale(1.05);
      }

      .split-btn:active {
        transform: scale(0.95);
      }

      .split-number {
        font-size: 1.75rem;
        font-weight: 600;
        color: var(--white);
        min-width: 70px;
        text-align: center;
        background: var(--secondary);
        padding: 0.5rem 1rem;
        border-radius: 20px;
        border: none;
        font-family: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;
        box-shadow: 0 2px 6px rgba(251, 113, 133, 0.3);
      }

      /* Results Section */
      .results-section-prominent {
        background: white;
        color: var(--dark);
        padding: 1.5rem;
        border-radius: 8px;
        text-align: center;
        margin: 2rem 0;
        border: 1px solid var(--light-gray);
        box-shadow: 0 2px 4px var(--shadow-color);
        position: relative;
      }

      .results-section-prominent::before {
        content: "";
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: 3px;
        background: var(--gradient);
        border-radius: 8px 0 0 8px;
      }

      .results-section-prominent h2 {
        font-size: 1.2rem;
        font-weight: 600;
        margin-bottom: 1rem;
        color: var(--dark);
        text-align: center;
        font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI",
          Roboto, "Helvetica Neue", Arial, sans-serif;
        border-bottom: 2px solid var(--light-gray);
        padding-bottom: 0.5rem;
      }

      .result-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.75rem;
        padding: 0.875rem 1rem;
        background: var(--light-gray);
        border-radius: 6px;
        border: none;
      }

      .result-item:last-child {
        background: var(--success);
        border: none;
        padding: 1.25rem 1rem;
        margin-top: 1rem;
        font-weight: bold;
        color: var(--white);
        box-shadow: 0 3px 8px rgba(22, 163, 74, 0.3);
      }

      .results-section-prominent span:first-child {
        font-size: 1rem;
        font-weight: 400;
        color: var(--gray);
      }

      .result-item:last-child span:first-child {
        color: var(--white);
        font-weight: 600;
      }

      .results-section-prominent .amount {
        font-size: 1.5rem;
        font-weight: 600;
        color: var(--dark);
        font-family: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;
      }

      .result-item:last-child .amount {
        color: var(--white);
        font-size: 2rem;
        font-weight: 700;
      }

      .results-section-prominent.calculating {
        animation: none;
      }

      /* Content Sections */
      .content-sections {
        max-width: 1200px;
        width: 100%;
        margin: 2rem auto;
        padding: 0 1rem;
      }

      .content-section {
        background: var(--card-gradient);
        border-radius: 16px;
        box-shadow: 0 8px 32px var(--shadow-color);
        border: 1px solid rgba(255, 255, 255, 0.2);
        padding: 2rem;
        margin-bottom: 2rem;
      }

      .content-section h2 {
        color: var(--dark);
        margin-bottom: 1.5rem;
        font-size: 2rem;
        border-bottom: 2px solid var(--primary);
        padding-bottom: 0.5rem;
      }

      .tipping-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
        margin-top: 1.5rem;
      }

      .tipping-card {
        background: white;
        padding: 1.5rem;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        border: 1px solid #e5e7eb;
        text-align: center;
      }

      .tipping-card h3 {
        color: var(--primary);
        margin-bottom: 0.5rem;
        font-size: 1.2rem;
      }

      .tipping-card p {
        color: var(--gray);
        margin-bottom: 0.5rem;
      }

      /* FAQ Styles */
      .faq-item {
        border: 1px solid #e5e7eb;
        border-radius: 12px;
        margin-bottom: 1rem;
        overflow: hidden;
      }

      .faq-question {
        background: #f7fafc;
        padding: 1.5rem;
        cursor: pointer;
        font-weight: 600;
        color: var(--dark);
        transition: background-color 0.3s ease;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .faq-question:hover {
        background: #edf2f7;
      }

      .faq-answer {
        padding: 0 1.5rem;
        max-height: 0;
        overflow: hidden;
        transition: all 0.3s ease;
        background: white;
      }

      .faq-answer.active {
        padding: 1.5rem;
        max-height: 500px;
      }

      .faq-icon {
        transition: transform 0.3s ease;
      }

      .faq-icon.rotated {
        transform: rotate(180deg);
      }

      /* Disclaimer */
      .disclaimer {
        background: #fff5f5;
        border: 1px solid #fed7d7;
        border-radius: 12px;
        padding: 1.5rem;
        margin-top: 2rem;
        color: #742a2a;
        font-size: 0.9rem;
        line-height: 1.6;
      }

      /* Footer */
      .footer {
        background: #0f172a;
        color: white;
        padding: 80px 0 40px;
        margin-top: 60px;
        width: 100%;
      }

      .footer-content {
        display: grid;
        grid-template-columns: 2fr 3fr;
        gap: 60px;
        margin-bottom: 40px;
      }

      .footer-links {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 60px;
        justify-items: start;
      }

      .footer-brand .logo {
        margin-bottom: 12px;
        font-size: 24px;
        font-weight: 700;
        color: white;
      }

      .footer-brand p {
        color: #9ca3af;
        margin: 12px 0;
      }

      .footer-powered {
        margin-top: 20px;
        font-size: 14px;
      }

      .footer-column h4 {
        font-size: 14px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 1px;
        margin-bottom: 16px;
        color: white;
      }

      .footer-column a {
        display: block;
        color: #9ca3af;
        text-decoration: none;
        margin-bottom: 12px;
        transition: color 0.3s;
      }

      .footer-column a:hover {
        color: white;
      }

      .footer-subsection {
        margin-bottom: 20px;
      }

      .footer-subsection h5 {
        font-size: 12px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 12px;
        color: #d1d5db;
      }

      .footer-bottom {
        padding-top: 32px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        display: flex;
        justify-content: space-between;
        align-items: center;
        color: #6b7280;
        font-size: 14px;
      }

      .footer-bottom-right {
        display: flex;
        align-items: center;
      }

      .footer-contact-link {
        color: #9ca3af;
        text-decoration: none;
        font-size: 14px;
        font-weight: 500;
        transition: color 0.3s;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .footer-contact-link:hover {
        color: white;
      }

      .footer-bottom-left p {
        color: #6b7280;
        font-size: 14px;
        margin: 0;
      }

      .footer-note {
        margin-top: 8px !important;
        font-style: italic;
      }

      /* Mobile Responsive */
      @media (max-width: 1200px) {
        .calculator-wrapper {
          grid-template-columns: 1fr;
          gap: 1rem;
        }

        /* Ad columns removed */
      }

      @media (max-width: 768px) {
        body {
          padding-top: 55px; /* Reduce from 60px */
          padding-left: 0.5rem;
          padding-right: 0.5rem;
          padding-bottom: 0.25rem; /* Minimal */
        }

        nav {
          height: 55px; /* Reduce from 60px */
          padding: 0.5rem 0;
        }

        nav .container {
          padding: 0 1rem;
        }

        .container {
          padding: 0 1rem;
        }

        .logo svg {
          width: 180px;
          height: 50px;
        }

        .nav-links {
          display: none;
        }

        .mobile-menu-toggle {
          display: flex;
        }

        /* ULTRA-MINIMAL HEADER */
        .calculator-header-compact {
          margin-bottom: 0.5rem; /* was 1rem */
          padding: 0.5rem; /* Add compact padding */
        }

        .icon-wrapper {
          font-size: 1.5rem; /* was 2rem */
          margin-bottom: 0.25rem; /* was 0.5rem */
        }

        .calculator-header-compact h1 {
          font-size: 1.3rem; /* was 1.5rem */
          margin-bottom: 0.15rem; /* was 0.25rem */
          line-height: 1.1;
        }

        .calculator-header-compact p {
          font-size: 0.75rem; /* Make subtitle even smaller */
          margin: 0;
        }

        /* Hide the "Last updated" text on mobile */
        .calculator-header-compact p:first-of-type {
          display: none;
        }

        /* Hide subtitle completely to save more space */
        .calculator-header-compact p:last-of-type {
          display: none;
        }

        /* ULTRA-COMPACT CALCULATOR CARD */
        .calculator-card {
          padding: 0.5rem; /* was 0.75rem */
          margin-bottom: 0.5rem; /* Minimal */
        }

        /* REMOVE SECTION TITLES */
        .section-title {
          display: none; /* Hide completely on mobile */
        }

        /* ULTRA-COMPACT BILL INPUT */
        .bill-input-section {
          margin-bottom: 0.5rem; /* was 1rem */
        }

        .bill-input {
          font-size: 1.3rem; /* was 1.5rem */
          padding: 0.5rem 0.5rem 0.5rem 2.5rem; /* Tighter padding */
          min-height: 50px; /* Ensure touch target */
        }

        /* Make $ symbol smaller */
        .bill-input + span {
          font-size: 1.5rem !important; /* was 2rem */
          left: 0.75rem !important;
        }

        /* COMPACT TIP SECTION */
        .tip-section {
          margin-bottom: 0.5rem; /* was 1rem */
        }

        .tip-buttons {
          display: flex; /* override grid */
          flex-wrap: nowrap; /* don't wrap */
          overflow-x: auto; /* allow horizontal scroll */
          gap: 0.35rem; /* was 0.5rem */
          padding-bottom: 0.25rem; /* Minimal scrollbar space */
          -webkit-overflow-scrolling: touch; /* smooth scroll on iOS */
        }

        .tip-btn {
          padding: 6px 12px; /* was 8px 16px */
          font-size: 0.85rem; /* was 0.9rem */
          flex-shrink: 0; /* prevent shrinking */
          min-width: 60px; /* was 70px */
          min-height: 44px; /* Maintain touch target */
        }

        /* MINIMAL SPLIT CONTROLS */
        .split-section {
          margin-bottom: 0.5rem; /* was 1rem */
        }

        .split-controls {
          gap: 0.75rem; /* Add if not present, reduce spacing */
        }

        .split-btn {
          width: 32px; /* was 36px */
          height: 32px; /* was 36px */
          font-size: 1.1rem; /* was 1.25rem */
          padding: 0; /* Minimal padding */
        }

        .split-number {
          font-size: 1.1rem; /* was 1.25rem */
          min-width: 40px; /* was 50px */
        }

        /* Hide the "Range: 1-20 people" text on mobile */
        .split-section p {
          display: none;
        }

        /* COMPACT RESULTS DISPLAY */
        .results-section-prominent {
          padding: 0.75rem; /* was 1rem */
          margin: 0.5rem 0 0 0; /* was 1rem 0 0 0 */
        }

        .results-section-prominent h2 {
          font-size: 1rem; /* was 1.2rem */
          margin-bottom: 0.75rem; /* was 1rem */
        }

        .result-item {
          margin-bottom: 0.5rem; /* was 0.75rem */
          padding: 0.35rem 0; /* was 0.5rem */
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .result-item:last-child {
          margin-bottom: 0; /* Remove margin on last item */
        }

        .results-section-prominent .amount {
          font-size: 1.5rem; /* was 1.8rem */
        }

        .results-section-prominent span:first-child {
          font-size: 0.85rem; /* was 0.9rem */
        }

        .mobile-ad-bottom {
          position: fixed;
          bottom: 0;
          left: 0;
          right: 0;
          background: white;
          padding: 0.5rem;
          box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.1);
          z-index: 999;
        }

        /* Mobile ad placeholders removed */

        .content-section {
          padding: 1rem;
        }

        .content-section h2 {
          font-size: 1.5rem;
        }

        .tipping-grid {
          grid-template-columns: 1fr;
        }

        .footer-content {
          grid-template-columns: 1fr;
        }

        .footer-links {
          grid-template-columns: repeat(3, 1fr);
        }

        .footer-bottom {
          flex-direction: column;
          gap: 16px;
          text-align: center;
        }

        .footer-bottom-right {
          justify-content: center;
        }
      }

      @media (max-width: 968px) {
        .footer-links {
          grid-template-columns: repeat(2, 1fr);
          gap: 40px;
        }
      }

      /* Desktop Enhancements (969px and up) */
      @media (min-width: 969px) {
        /* Two-column layout for desktop */
        .calculator-wrapper {
          grid-template-columns: 1fr 400px;
          gap: 2rem;
          align-items: start;
        }

        /* Show sidebar on desktop */
        .desktop-sidebar {
          display: flex;
          flex-direction: column;
          gap: 1.5rem;
          position: sticky;
          top: 100px;
          max-height: calc(100vh - 120px);
          overflow-y: auto;
        }

        /* Sidebar Card Styles */
        .sidebar-card {
          background: white;
          border-radius: 12px;
          padding: 1.5rem;
          box-shadow: 0 2px 8px var(--shadow-color);
          border: 1px solid rgba(8, 145, 178, 0.1);
          transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .sidebar-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px var(--shadow-medium);
        }

        .sidebar-card-title {
          font-size: 1.1rem;
          font-weight: 600;
          color: var(--dark);
          margin-bottom: 1rem;
          padding-bottom: 0.75rem;
          border-bottom: 2px solid var(--light-gray);
          display: flex;
          align-items: center;
          gap: 0.5rem;
        }

        /* Tip Comparison Table */
        .comparison-table {
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
        }

        .comparison-row {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 0.75rem;
          background: var(--light-gray);
          border-radius: 6px;
          transition: all 0.2s ease;
        }

        .comparison-row.active {
          background: var(--primary);
          color: white;
          font-weight: 600;
          box-shadow: 0 2px 6px rgba(8, 145, 178, 0.3);
        }

        .comparison-row:not(.active):hover {
          background: #e7e5e4;
        }

        .comparison-label {
          font-weight: 500;
          font-size: 0.95rem;
        }

        .comparison-row.active .comparison-label {
          color: white;
        }

        .comparison-values {
          display: flex;
          flex-direction: column;
          align-items: flex-end;
          gap: 0.15rem;
        }

        .comparison-total {
          font-size: 1rem;
          font-weight: 600;
        }

        .comparison-tip {
          font-size: 0.8rem;
          opacity: 0.8;
        }

        /* Bill Split Visualizer */
        .split-visualizer {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 1rem;
          padding: 1rem 0;
        }

        .people-icons {
          display: flex;
          flex-wrap: wrap;
          justify-content: center;
          gap: 0.75rem;
          margin-bottom: 0.5rem;
        }

        .person-icon {
          font-size: 2rem;
          animation: personPop 0.3s ease;
          position: relative;
        }

        @keyframes personPop {
          0% {
            transform: scale(0);
            opacity: 0;
          }
          50% {
            transform: scale(1.2);
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }

        .split-summary {
          text-align: center;
          padding: 1rem;
          background: var(--light-gray);
          border-radius: 8px;
          width: 100%;
        }

        .split-summary-amount {
          font-size: 1.8rem;
          font-weight: 700;
          color: var(--primary);
          margin-bottom: 0.25rem;
        }

        .split-summary-label {
          font-size: 0.9rem;
          color: var(--gray);
        }

        /* Quick Reference Card */
        .reference-list {
          display: flex;
          flex-direction: column;
          gap: 0.75rem;
        }

        .reference-item {
          display: flex;
          align-items: center;
          gap: 0.75rem;
          padding: 0.75rem;
          background: var(--light-gray);
          border-radius: 6px;
          transition: background 0.2s ease;
        }

        .reference-item:hover {
          background: #e7e5e4;
        }

        .ref-icon {
          font-size: 1.5rem;
          flex-shrink: 0;
        }

        .ref-content {
          display: flex;
          flex-direction: column;
          gap: 0.15rem;
          flex: 1;
        }

        .ref-content strong {
          color: var(--dark);
          font-size: 0.95rem;
        }

        .ref-content span {
          color: var(--primary);
          font-size: 0.85rem;
          font-weight: 600;
        }

        /* Smooth scrollbar for sidebar */
        .desktop-sidebar::-webkit-scrollbar {
          width: 6px;
        }

        .desktop-sidebar::-webkit-scrollbar-track {
          background: transparent;
        }

        .desktop-sidebar::-webkit-scrollbar-thumb {
          background: var(--primary);
          border-radius: 3px;
        }

        .desktop-sidebar::-webkit-scrollbar-thumb:hover {
          background: var(--primary-dark);
        }
      }
    </style>

    <!-- Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-5YPCMTRSNN"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-5YPCMTRSNN");
    </script>
    <!-- End Google Analytics -->
  </head>
  <body>
    <!-- Navigation -->
    <nav>
      <div class="container">
        <a href="../index.html" class="logo">
          <svg
            aria-label="Forge APIs Logo"
            width="300"
            height="100"
            viewBox="0 0 240 80"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g transform="translate(15, 15)">
              <path
                d="M 15 35 L 12 40 L 48 40 L 45 35 Z"
                fill="#1E293B"
                stroke="#0066FF"
                stroke-width="0.5"
              />
              <rect x="18" y="30" width="24" height="5" fill="#334155" rx="1" />
              <rect x="16" y="28" width="28" height="2" fill="#475569" />
              <line
                x1="20"
                y1="32"
                x2="40"
                y2="32"
                stroke="#0066FF"
                stroke-width="0.5"
                opacity="0.6"
              />
              <line
                x1="22"
                y1="34"
                x2="38"
                y2="34"
                stroke="#00D4AA"
                stroke-width="0.5"
                opacity="0.6"
              />
              <g transform="rotate(-30 30 25)">
                <rect
                  x="28"
                  y="15"
                  width="4"
                  height="18"
                  fill="#0066FF"
                  rx="0.5"
                />
                <path d="M 25 12 L 35 12 L 36 16 L 24 16 Z" fill="#0052CC" />
                <rect x="24" y="13" width="2" height="2" fill="#00D4AA" />
                <rect x="34" y="13" width="2" height="2" fill="#00D4AA" />
              </g>
              <g transform="rotate(30 30 25)">
                <rect
                  x="28"
                  y="15"
                  width="4"
                  height="18"
                  fill="#0066FF"
                  rx="0.5"
                />
                <path d="M 25 12 L 35 12 L 36 16 L 24 16 Z" fill="#0052CC" />
                <rect x="24" y="13" width="2" height="2" fill="#00D4AA" />
                <rect x="34" y="13" width="2" height="2" fill="#00D4AA" />
              </g>
              <path
                d="M 28 10 L 30 5 L 31 8 L 33 3 L 33 10 L 31 8 L 29 11 Z"
                fill="#FF6B35"
                opacity="0.9"
              />
              <path
                d="M 26 12 L 27 9 L 28 11 L 29 8 L 29 13 Z"
                fill="#FFA500"
                opacity="0.8"
              />
              <path
                d="M 31 12 L 32 9 L 33 11 L 34 8 L 34 13 Z"
                fill="#FFA500"
                opacity="0.8"
              />
              <rect
                x="12"
                y="20"
                width="2"
                height="2"
                fill="#00D4AA"
                opacity="0.8"
              />
              <rect
                x="46"
                y="20"
                width="2"
                height="2"
                fill="#00D4AA"
                opacity="0.8"
              />
              <rect
                x="10"
                y="25"
                width="1.5"
                height="1.5"
                fill="#FFD700"
                opacity="0.7"
              />
              <rect
                x="48"
                y="25"
                width="1.5"
                height="1.5"
                fill="#FFD700"
                opacity="0.7"
              />
            </g>
            <text
              x="75"
              y="45"
              font-family="Inter, system-ui, -apple-system, sans-serif"
              font-size="28"
              font-weight="800"
              fill="#0A0E27"
            >
              Forge
            </text>
            <text
              x="150"
              y="45"
              font-family="Inter, system-ui, -apple-system, sans-serif"
              font-size="28"
              font-weight="400"
              fill="#6B7280"
            >
              APIs
            </text>
            <text
              x="75"
              y="63"
              font-family="Inter, system-ui, -apple-system, sans-serif"
              font-size="9"
              fill="#9CA3AF"
              letter-spacing="0.5"
            >
              PRODUCTION-READY APIS
            </text>
          </svg>
        </a>
        <div class="nav-links">
          <div class="dropdown" id="toolsDropdown">
            <button class="dropdown-btn" id="toolsDropdownBtn">
              Tools <span style="font-size: 12px">▼</span>
            </button>
            <div class="dropdown-content">
              <div class="dropdown-section">
                <div class="dropdown-section-title">Premium Tools</div>
                <a href="../riskscore/"> RiskScore API </a>
                <a href="../dupecheck/"> DupeCheck </a>
              </div>

              <div class="dropdown-divider"></div>

              <div class="dropdown-section">
                <div class="dropdown-section-title">Free Tools</div>
                <a href="../gst-calculator/"> GST Calculator India </a>
                <a href="../gaming-calculators/"> Gaming Currency Calculators </a>
                <a href="../va-calculator/">
                  VA Disability Benefits Calculator
                </a>
                <a href="index.html"> Restaurant Tip Calculator </a>
              </div>
            </div>
          </div>
          <a href="#tipping-guide">About</a>
        </div>
        <button class="mobile-menu-toggle" id="mobileMenuToggle">
          <span></span><span></span><span></span>
        </button>

        <!-- Mobile Menu -->
        <div class="mobile-menu" id="mobileMenu">
          <a href="../index.html">Home</a>

          <div
            style="
              border-top: 1px solid #e2e8f0;
              margin: 0.75rem 0;
              padding-top: 0.5rem;
            "
          >
            <span
              style="
                padding: 0.5rem 0.75rem;
                display: block;
                color: var(--gray);
                font-size: 0.75rem;
                font-weight: 600;
                text-transform: uppercase;
                letter-spacing: 0.5px;
              "
              >Free Calculators</span
            >
          </div>

          <a href="../gst-calculator/">GST Calculator</a>
          <a href="../va-calculator/">VA Disability Calculator</a>
          <a href="index.html">Tip Calculator</a>
          <a href="../gaming-calculators/">Gaming Calculators</a>

          <div
            style="
              border-top: 1px solid #e2e8f0;
              margin: 0.75rem 0;
              padding-top: 0.5rem;
            "
          >
            <span
              style="
                padding: 0.5rem 0.75rem;
                display: block;
                color: var(--gray);
                font-size: 0.75rem;
                font-weight: 600;
                text-transform: uppercase;
                letter-spacing: 0.5px;
              "
              >Premium APIs</span
            >
          </div>

          <a href="../riskscore/">RiskScore API</a>
          <a href="../dupecheck/">DupeCheck</a>

          <div style="border-top: 1px solid #e2e8f0; margin: 0.75rem 0"></div>

          <a href="mailto:hello@forgeapis.com">Contact</a>
        </div>
      </div>
    </nav>

    <!-- Calculator Layout -->
    <div class="calculator-wrapper">
      <!-- Main Calculator -->
      <main class="calculator-main">
        <div class="calculator-card">
          <div class="calculator-header">
            <div class="icon-wrapper">🧾</div>
            <h1>Restaurant Tip Calculator</h1>
            <p
              style="
                text-align: center;
                color: #6b7280;
                font-size: 0.9rem;
                margin: -10px 0 20px 0;
              "
            >
              Last updated: January 2025 | Standard tipping rates for USA
            </p>
            <p>Calculate tips and split bills instantly</p>
          </div>

          <!-- Bill Amount Section -->
          <div class="bill-input-section">
            <h2 class="section-title">Bill Amount</h2>
            <div style="position: relative">
              <input
                type="number"
                class="bill-input"
                id="billAmount"
                placeholder="0.00"
                step="0.01"
                min="0"
                max="99999.99"
                oninput="calculateTip()"
                autofocus
              />
              <span
                style="
                  position: absolute;
                  left: 1rem;
                  top: 50%;
                  transform: translateY(-50%);
                  color: var(--secondary);
                  font-size: 2rem;
                  font-weight: 600;
                "
                >$</span
              >
            </div>
          </div>

          <!-- Tip Percentage Section -->
          <div class="tip-section">
            <h2 class="section-title">Tip Percentage</h2>
            <div class="tip-buttons">
              <button class="tip-btn" onclick="selectTip(15)">15%</button>
              <button class="tip-btn active" onclick="selectTip(18)">
                18%
              </button>
              <button class="tip-btn" onclick="selectTip(20)">20%</button>
              <button class="tip-btn" onclick="selectTip(25)">25%</button>
            </div>
          </div>

          <!-- Split Between Section -->
          <div class="split-section">
            <h2 class="section-title">Split Between</h2>
            <div class="split-controls">
              <button class="split-btn" onclick="adjustSplit(-1)">-</button>
              <span class="split-number" id="splitNumber">1</span>
              <button class="split-btn" onclick="adjustSplit(1)">+</button>
            </div>
            <p
              style="text-align: center; color: var(--gray); margin-top: 0.5rem"
            >
              Range: 1-20 people
            </p>
          </div>

          <!-- Results Section -->
          <div class="results-section-prominent" id="resultsSection">
            <h2>Receipt</h2>
            <div class="result-item">
              <span>Tip Amount:</span>
              <span class="amount" id="tipAmount">$0.00</span>
            </div>
            <div class="result-item">
              <span>Total with Tip:</span>
              <span class="amount" id="totalAmount">$0.00</span>
            </div>
            <div class="result-item">
              <span>Per Person:</span>
              <span class="amount" id="perPerson">$0.00</span>
            </div>
            <div
              class="tip-rating"
              id="tipRating"
              style="
                margin-top: 1rem;
                padding-top: 1rem;
                border-top: 1px dotted var(--gray);
              "
            >
              <div
                style="
                  font-size: 0.9rem;
                  color: var(--gray);
                  margin-bottom: 0.5rem;
                "
              >
                Tip Quality:
              </div>
              <div id="starsDisplay" style="font-size: 1.2rem"></div>
            </div>
            <div
              class="thank-you"
              style="
                margin-top: 1rem;
                font-style: italic;
                color: var(--primary);
                font-size: 0.9rem;
              "
            >
              Thank you for dining with us!
            </div>
          </div>
        </div>
      </main>

      <!-- Desktop Sidebar (hidden on mobile) -->
      <aside class="desktop-sidebar">
        <!-- Tip Comparison Table -->
        <div class="sidebar-card comparison-card">
          <h3 class="sidebar-card-title">💡 Compare Tip Amounts</h3>
          <div class="comparison-table" id="comparisonTable">
            <!-- Dynamically populated -->
          </div>
        </div>

        <!-- Bill Split Visualizer -->
        <div class="sidebar-card visualizer-card">
          <h3 class="sidebar-card-title">👥 Bill Split</h3>
          <div class="split-visualizer" id="splitVisualizer">
            <!-- Dynamically populated -->
          </div>
        </div>

        <!-- Quick Reference Card -->
        <div class="sidebar-card reference-card">
          <h3 class="sidebar-card-title">📋 Quick Tipping Guide</h3>
          <div class="reference-list">
            <div class="reference-item">
              <span class="ref-icon">🍽️</span>
              <div class="ref-content">
                <strong>Restaurants</strong>
                <span>15-20%</span>
              </div>
            </div>
            <div class="reference-item">
              <span class="ref-icon">🚗</span>
              <div class="ref-content">
                <strong>Delivery</strong>
                <span>15-20%</span>
              </div>
            </div>
            <div class="reference-item">
              <span class="ref-icon">🍺</span>
              <div class="ref-content">
                <strong>Bartenders</strong>
                <span>$1-2 per drink</span>
              </div>
            </div>
            <div class="reference-item">
              <span class="ref-icon">💇</span>
              <div class="ref-content">
                <strong>Hairdressers</strong>
                <span>15-20%</span>
              </div>
            </div>
            <div class="reference-item">
              <span class="ref-icon">🚕</span>
              <div class="ref-content">
                <strong>Taxi/Rideshare</strong>
                <span>10-15%</span>
              </div>
            </div>
            <div class="reference-item">
              <span class="ref-icon">🏨</span>
              <div class="ref-content">
                <strong>Hotel Staff</strong>
                <span>$2-5 per service</span>
              </div>
            </div>
          </div>
        </div>
      </aside>
    </div>

    <!-- Content Sections -->
    <div class="content-sections">
      <!-- Why Use Our Tip Calculator -->
      <div class="content-section">
        <h2>Why Use Our Tip Calculator?</h2>
        <p>
          Calculating tips and splitting bills can be stressful when you're out
          with friends or colleagues. Our free tip calculator makes it
          effortless to determine the right tip amount and divide costs fairly
          among your group.
        </p>

        <h3>Key Features</h3>
        <ul
          style="
            line-height: 1.8;
            color: var(--gray);
            margin-left: 2rem;
            margin-top: 1rem;
          "
        >
          <li>
            <strong>Instant calculations</strong> - See results as you type with
            no delays
          </li>
          <li>
            <strong>Bill splitting</strong> - Easily divide costs between 1-20
            people
          </li>
          <li>
            <strong>Multiple tip percentages</strong> - Quick buttons for common
            tip amounts (15%, 18%, 20%, 25%)
          </li>
          <li>
            <strong>Works offline</strong> - No internet connection needed after
            page loads
          </li>
          <li>
            <strong>Mobile optimized</strong> - Perfect for use at restaurants
            on your phone
          </li>
          <li>
            <strong>No app required</strong> - Access directly from your browser
          </li>
        </ul>

        <p style="margin-top: 1rem">
          Whether you're dining at a restaurant, ordering delivery, or getting
          drinks with friends, our calculator takes the guesswork out of tipping
          and ensures everyone pays their fair share.
        </p>
      </div>

      <!-- Common Tipping Mistakes to Avoid -->
      <div class="content-section">
        <h2>Common Tipping Mistakes to Avoid</h2>
        <p>
          Even experienced diners make tipping errors that can lead to awkward situations or unfair compensation for service workers. Understanding these common mistakes helps you tip appropriately and avoid embarrassment. Here are the most frequent tipping mistakes and how to avoid them.
        </p>
        
        <div class="faq-item" style="margin-top: 1.5rem;">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <span style="font-weight: 500;">View Common Mistakes (Click to Expand)</span>
            <span class="faq-icon">▼</span>
          </div>
          <div class="faq-answer">
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">1. Tipping on the Post-Tax Amount Without Realizing It</h3>
            <p>
              Many payment systems automatically suggest tip amounts based on the total including tax, which means you're tipping on the tax itself. While this isn't wrong, you might be paying more than intended. Always check whether suggested tips are calculated pre-tax or post-tax, especially since tax rates vary significantly by location (ranging from 0% in some states to over 10% in others).
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">2. Forgetting to Tip on Discounted or Comped Meals</h3>
            <p>
              If you use a coupon, discount code, or receive a complimentary item, always tip based on the original full price before discounts were applied. Service staff put in the same effort regardless of what you paid. For example, if your $50 meal is discounted to $25, still tip $10 (20% of $50), not $5. Servers and bartenders are taxed on sales, so discounts shouldn't reduce their compensation.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">3. Not Tipping on To-Go Orders</h3>
            <p>
              Takeout orders require staff time for packing, checking accuracy, including condiments and utensils, and processing payment. While 10-15% is appropriate (less than dine-in service), skipping tips entirely ignores this labor. For large or complex takeout orders, tip toward the higher end of this range to acknowledge the extra effort involved in preparation and packaging.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">4. Using Old Tipping Standards</h3>
            <p>
              Tipping customs evolve over time. The old standard of 10-15% is outdated - today's norm is 18-20% for good service. Using outdated percentages inadvertently undertips service workers who rely on these earnings as their primary income. Many servers earn as little as $2-3 per hour in base wages, making tips essential rather than optional.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">5. Tipping the Same Amount Regardless of Service Quality</h3>
            <p>
              While tipping is customary, the amount should reflect service quality. Exceptional service deserves 25%+, while truly poor service (not due to kitchen or management issues) might warrant 10-12%. However, consider what was actually within your server's control before reducing a tip. Busy restaurants, kitchen delays, and missing menu items often aren't the server's fault.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">6. Not Considering the Full Service Experience</h3>
            <p>
              Tips aren't just for your server - they're often pooled and shared with hosts, bussers, bartenders, and food runners. When you undertip, you're not just affecting one person but an entire service team. Many restaurants use "tip out" systems where servers must give a percentage of their sales to support staff, meaning poor tips can actually cost servers money.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">7. Failing to Adjust for Exceptional Circumstances</h3>
            <p>
              During challenging times (bad weather, holidays, staff shortages), service workers face extra stress and difficulty. If your server is handling an obviously understaffed section with grace, if they stay late to serve you near closing, or if they go above and beyond to accommodate special requests, acknowledge this extra effort with a higher tip. These situations test service workers' professionalism and deserve recognition.
            </p>
            
            <p style="margin-top: 1.5rem; padding-top: 1rem; border-top: 2px solid var(--light-gray); font-weight: 600; color: var(--dark);">
              <strong>Bottom line:</strong> Use our tip calculator to quickly determine appropriate tip amounts and avoid these common mistakes. When in doubt, err on the side of generosity - these small amounts make a significant difference to service workers' livelihoods.
            </p>
          </div>
        </div>
      </div>

      <!-- Tipping Guide -->
      <div class="content-section" id="tipping-guide">
        <h2>Tipping Guide by Service Type</h2>
        <div class="tipping-grid">
          <div class="tipping-card">
            <h3>Restaurants</h3>
            <p><strong>15-20%</strong></p>
            <p>Standard for sit-down dining</p>
          </div>
          <div class="tipping-card">
            <h3>Delivery</h3>
            <p><strong>15-20%</strong></p>
            <p>Food delivery services</p>
          </div>
          <div class="tipping-card">
            <h3>Bartenders</h3>
            <p><strong>$1-2 per drink</strong></p>
            <p>Or 15-20% of tab</p>
          </div>
          <div class="tipping-card">
            <h3>Hairdressers</h3>
            <p><strong>15-20%</strong></p>
            <p>Personal care services</p>
          </div>
          <div class="tipping-card">
            <h3>Taxi/Rideshare</h3>
            <p><strong>10-15%</strong></p>
            <p>Transportation services</p>
          </div>
          <div class="tipping-card">
            <h3>Hotel Staff</h3>
            <p><strong>$2-5 per service</strong></p>
            <p>Housekeeping, bellhop</p>
          </div>
        </div>
      </div>

      <!-- Tipping Etiquette -->
      <div class="content-section">
        <h2>Tipping Etiquette: A Complete Guide</h2>
        <p>
          Proper tipping etiquette goes beyond knowing percentages - it involves understanding social norms, timing, and appropriate ways to show appreciation for service. Whether you're dining at a casual restaurant or attending a formal event, these etiquette guidelines will help you navigate tipping situations with confidence and grace.
        </p>
        
        <div class="faq-item" style="margin-top: 1.5rem;">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <span style="font-weight: 500;">View Complete Etiquette Guide (Click to Expand)</span>
            <span class="faq-icon">▼</span>
          </div>
          <div class="faq-answer">
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">1. Tip in Cash When Possible</h3>
            <p>
              Cash tips ensure your server receives the full amount immediately without credit card processing delays or fees. While card tips are acceptable and often necessary, cash gives servers instant access to their earnings and avoids potential issues with tip pooling systems or management withholding. If paying by card, write the tip amount clearly on the receipt and total it correctly to avoid confusion.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">2. Never Use Tips as Punishment or Leverage</h3>
            <p>
              Withholding tips to "teach a lesson" or demanding special treatment in exchange for a good tip is inappropriate and disrespectful. Tips reflect service quality after the meal, not before. If service is poor, address issues with management rather than using tips as punishment. Servers can't control kitchen speed, menu pricing, or restaurant policies - don't penalize them financially for circumstances beyond their control.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">3. Tip at the Beginning for Counter Service</h3>
            <p>
              At coffee shops, bars, or counter-service establishments with tip jars, tipping when you order (rather than after receiving service) often results in better service, stronger drinks, or extra attention. Staff remember and appreciate upfront tippers. Even $1-2 at the beginning of your visit can make a significant difference in how you're treated throughout your time there.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">4. Be Discreet When Leaving Tips</h3>
            <p>
              Avoid making a show of your tip amount, whether generous or minimal. Place cash in the check presenter or bill fold rather than leaving it openly on the table. When paying by card, complete the tip line away from others' view. Discussing tip amounts with your dining companions should be done quietly to avoid making service staff uncomfortable or creating awkward social dynamics.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">5. Tip Even When Using Gift Cards or Certificates</h3>
            <p>
              Gift cards, restaurant vouchers, and promotional certificates cover your meal cost but not the service provided. Always tip based on the full value of what you would have paid without the discount. If a $100 gift card covers your meal, tip $18-20 as if you'd paid the full $100. Service staff put in the same effort regardless of your payment method.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">6. Account for Shared Dishes and Complicated Orders</h3>
            <p>
              When ordering multiple shared plates, requesting substitutions, or having dietary restrictions that require kitchen modifications, consider tipping toward the higher end (20-25%). These requests create extra work for both servers and kitchen staff. Complex orders require more attention, communication, and coordination - compensate appropriately for this additional service.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">7. Know When to Tip the Sommelier or Bartender Separately</h3>
            <p>
              At upscale restaurants with dedicated wine service or craft cocktail programs, consider tipping the sommelier or bartender separately from your server. For extensive wine pairings or complex cocktail creation, add an extra 10-15% of the wine/drink bill or $5-10 per person in cash handed directly to the specialist. This recognizes their expertise and time spent on recommendations.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">8. Handle Tipping Gracefully in Group Settings</h3>
            <p>
              When dining with others, discuss tipping before the bill arrives to avoid awkward calculations and disagreements. If using our calculator to split bills, ensure everyone understands their share includes their portion of the tip. In business settings, whoever extends the invitation should handle the entire bill and tip. Don't let group dynamics result in inadequate tips - speak up politely if the collected amount falls short.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0; font-style: italic;">Cultural Sensitivity Note</h3>
            <p>
              Tipping customs vary significantly worldwide. International guests may not be familiar with American tipping culture, and Americans traveling abroad should research local customs. In the United States, tipping 18-20% is a strong social expectation, but this isn't universal. When dining with international visitors, politely explain U.S. tipping norms if needed.
            </p>
            
            <p style="margin-top: 1.5rem; padding-top: 1rem; border-top: 2px solid var(--light-gray); font-weight: 600; color: var(--primary); font-size: 1.05rem;">
              <strong>The Golden Rule:</strong> When uncertain about proper tipping etiquette, err on the side of generosity and respect. Service industry workers rely on tips as their primary income, and a few extra dollars can make a significant difference to their livelihood while costing you relatively little.
            </p>
          </div>
        </div>
      </div>

      <!-- International Tipping Customs -->
      <div class="content-section">
        <h2>Tipping Around the World: International Customs</h2>
        <p>
          Tipping customs vary dramatically across countries and cultures. What's considered generous in one country might be offensive in another. Understanding international tipping norms is essential for travelers and helps explain why foreign visitors may tip differently in the United States. Here's a comprehensive guide to tipping practices worldwide.
        </p>
        
        <div class="faq-item" style="margin-top: 1.5rem;">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <span style="font-weight: 500;">View International Tipping Guide (Click to Expand)</span>
            <span class="faq-icon">▼</span>
          </div>
          <div class="faq-answer">
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">🇺🇸 United States & Canada</h3>
            <p>
              North America has the strongest tipping culture globally. In the U.S., servers typically earn $2-3 per hour base wage and rely on tips for the majority of their income, making 18-20% tips essential rather than optional. Canada follows similar practices with 15-20% being standard. Both countries apply tipping to restaurants, bars, taxis, hairdressers, hotel staff, and delivery services. This system exists because labor laws allow employers to pay reduced wages when tips are expected.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">🇬🇧 United Kingdom & Ireland</h3>
            <p>
              British tipping is more modest than American standards. In restaurants, 10-15% is typical, and many establishments add a service charge automatically (check your bill). Pub table service doesn't require tips, though rounding up is appreciated. Taxi drivers expect tips rounded to the nearest pound. The UK minimum wage applies to all workers including servers, reducing tip dependence compared to the U.S. Ireland follows similar customs with 10-15% restaurant tips being standard.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">🇪🇺 Europe (Continental)</h3>
            <p>
              European tipping varies by country but is generally less than American standards because servers earn full minimum wage or higher. In France, service charge ("service compris") is included by law, though leaving €1-2 per person or rounding up shows appreciation. Germany expects rounding up to the nearest euro or 5-10% for excellent service. Italy includes "coperto" (cover charge) and tips aren't expected, though leaving small change is kind. Spain and Portugal appreciate 5-10% tips but don't require them. Scandinavian countries (Norway, Sweden, Denmark) include service charges and don't expect additional tips.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">🇦🇺 Australia & New Zealand</h3>
            <p>
              These countries pay hospitality workers full minimum wages ($20+ per hour), making tipping uncommon and not expected. Service charges aren't added to bills. Locals rarely tip, though it's becoming more common in tourist areas influenced by American visitors. If service is truly exceptional, 10% is generous but entirely optional. Workers don't depend on tips for income, so there's no obligation or social pressure to tip.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">🇯🇵 Japan</h3>
            <p>
              Tipping is not practiced and can actually be considered rude or confusing in Japan. Excellent service is standard expectation, not something requiring extra payment. Attempting to tip may cause embarrassment or the server may chase you thinking you forgot your change. High-end hotels with international clientele might accept tips for porters, but even this is uncommon. The phrase "o-tsuri wa kekko desu" (keep the change) can be used in taxis, but tipping isn't expected.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">🇨🇳 China</h3>
            <p>
              Traditionally, tipping wasn't part of Chinese culture and could be seen as insulting, suggesting the worker needed charity. However, this is changing in major cities and tourist areas where international influence is strong. Luxury hotels and restaurants in Beijing, Shanghai, and Hong Kong increasingly expect tips (10-15%), while smaller establishments and non-tourist areas still don't. Tour guides and drivers expect tips from Western tourists. When in doubt, observe local practices.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">🕌 Middle East</h3>
            <p>
              Tipping customs vary significantly across the Middle East. In Dubai and Abu Dhabi, 10-15% tips are expected in restaurants, often added as service charge. Egypt relies heavily on tips (called "baksheesh") for many services, with small amounts expected for virtually any assistance. Saudi Arabia includes service charges but additional tips are appreciated. Israel follows Western tipping practices with 10-15% being standard. Always tip in local currency rather than U.S. dollars when possible.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">🌎 Latin America</h3>
            <p>
              Most Latin American countries include a service charge (usually 10%) called "propina" or "servicio" on restaurant bills. Additional tipping isn't required but leaving extra change for good service is appreciated. Mexico, being close to the U.S., has adopted American-style tipping with 10-15% being standard. Brazil often includes a 10% service charge, but it's technically optional (though culturally expected). Argentina includes service charges but workers appreciate additional tips due to economic instability.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">🌏 Southeast Asia</h3>
            <p>
              Tipping isn't traditionally practiced in most Southeast Asian countries, but tourist areas increasingly expect it. Thailand doesn't require tips, but leaving 20-40 baht for good service or rounding up bills is appreciated in restaurants. Vietnam similarly doesn't expect tips outside tourist areas. Singapore includes service charges and discourages additional tipping. Indonesia and the Philippines appreciate small tips in tourist areas. Always tip in local currency and consider that even small amounts can be significant to local workers earning modest wages.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">🌍 Africa</h3>
            <p>
              Tipping customs vary greatly across Africa. South Africa follows Western practices with 10-15% being standard in restaurants and for safari guides. Kenya and Tanzania expect tips for safari guides and hotel staff (often pooled). Egypt, as mentioned, relies heavily on tipping culture. Morocco expects small tips for many services. In many African countries, tips should be given directly to service workers rather than added to bills, as management may not distribute them properly.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0; border-top: 2px solid var(--light-gray); padding-top: 1.5rem;">Key Takeaways for Travelers</h3>
            <p>
              Research tipping customs before traveling to avoid cultural faux pas. When visiting the United States, understand that tipping 18-20% is essential for service workers' livelihood, not optional. Use our calculator to quickly determine appropriate U.S. tip amounts. When traveling internationally, observe local practices and ask hotel concierges for guidance. Carry small denominations of local currency for tips. Remember that cultural sensitivity matters more than perfect adherence to every local custom.
            </p>
          </div>
        </div>
      </div>

      <!-- When Not to Tip -->
      <div class="content-section">
        <h2>When You Shouldn't Tip (Or Should Tip Less)</h2>
        <p>
          While tipping is standard practice in the United States for most service interactions, there are situations where tipping isn't expected, appropriate, or necessary. Understanding these exceptions helps you avoid over-tipping and ensures you're following proper social norms. Here are scenarios where you can skip the tip or reduce the amount without being rude.
        </p>
        
        <div class="faq-item" style="margin-top: 1.5rem;">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <span style="font-weight: 500;">View No-Tipping Situations (Click to Expand)</span>
            <span class="faq-icon">▼</span>
          </div>
          <div class="faq-answer">
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">1. When Gratuity Is Already Included</h3>
            <p>
              If your bill shows an automatic service charge, gratuity, or "included tip" (typically 18-20% for large parties), you don't need to add more. This is most common for groups of 6+ people or at restaurants with automatic gratuity policies. Check your receipt carefully before adding an additional tip. Some establishments include service charges for all parties, not just large groups. If service was truly exceptional, adding a small extra amount is generous but not expected.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">2. Fast Food and Quick Service Restaurants</h3>
            <p>
              Traditional fast food establishments (McDonald's, Burger King, Taco Bell, etc.) don't expect tips. These workers earn standard minimum wage and the service model doesn't include table service, food delivery to your seat, or ongoing assistance during your meal. Tip jars at the counter are optional, and most customers don't contribute. However, if staff go above and beyond with special accommodations or complicated orders, small tips are appreciated but not required.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">3. Self-Service Situations</h3>
            <p>
              When you order at a counter, pick up your own food, bus your own table, and handle your own refills (like at many casual chains or food courts), tipping isn't expected. You're essentially serving yourself with minimal staff interaction. Many point-of-sale systems now prompt for tips even in these scenarios, but you can confidently select "No Tip" without guilt. Save your tips for full-service situations where staff are actively serving you throughout your dining experience.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">4. Retail and Store Purchases</h3>
            <p>
              Retail workers, cashiers, and store employees don't expect tips for standard customer service. This includes grocery stores, clothing shops, electronics retailers, and department stores. Their wages account for customer service as part of the job. Even if someone helps you extensively with product selection or spends considerable time assisting you, tipping isn't part of retail culture. Instead, mention their excellent service to a manager or leave a positive review.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">5. Medical and Professional Services</h3>
            <p>
              Doctors, dentists, lawyers, accountants, therapists, and other licensed professionals don't accept tips. Tipping would be considered inappropriate and potentially create ethical issues. These professionals charge fees for their services that reflect their expertise and time. If you want to show appreciation, write a positive review, provide a referral, or send a thank-you note. Some medical practices may have gift policies allowing small tokens of appreciation but never cash tips.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">6. Government and Public Service Workers</h3>
            <p>
              Government employees, including postal workers, DMV staff, public school teachers, and law enforcement officers, cannot accept tips or monetary gifts due to ethics regulations. Attempting to tip these workers could put them in an uncomfortable position or even violate policy. If you want to show appreciation, a thank-you note or formal commendation to their supervisor is more appropriate. During holidays, some postal workers may accept small gifts (under $20), but this varies by policy.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">7. When Service Is Genuinely Terrible and Within Their Control</h3>
            <p>
              If your server is rude, dismissive, ignores you for extended periods without valid reason (like being understaffed), or provides service that's unprofessional through their own actions, reducing your tip to 10% or even less is justified. However, be certain the problem was actually the server's fault and not due to kitchen issues, management problems, or circumstances beyond their control. Before leaving a minimal tip, consider speaking with a manager about the issues so the restaurant can address them.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">8. Airlines and Flight Attendants</h3>
            <p>
              Flight attendants and airline staff don't expect tips for standard service. They're salaried employees, and airline policy typically prohibits accepting tips. This applies even on first-class or international flights where service is extensive. If a flight attendant goes truly above and beyond (helping with a medical emergency, accommodating complex special needs), you could offer a small gift card with a thank-you note, but cash tips aren't appropriate. Positive feedback to the airline or leaving a glowing review is the best way to show appreciation.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0; border-top: 2px solid var(--light-gray); padding-top: 1.5rem;">Special Circumstances to Consider</h3>
            <p>
              Some situations fall in gray areas. At wine shops or liquor stores where staff provide extensive education and recommendations, small tips or buying them a drink are appreciated but not required. At salons where the owner is your stylist, some etiquette experts say you don't need to tip the owner, but this is changing and many people now tip regardless. When unsure, it's never wrong to ask politely: "Is tipping customary here?" or observe what other customers do.
            </p>
            
            <p style="margin-top: 1.5rem; padding-top: 1rem; border-top: 2px solid var(--light-gray); font-weight: 600; color: var(--dark);">
              <strong>The Bottom Line:</strong> When in doubt about whether to tip, consider: Is this person providing ongoing personal service? Do they earn below minimum wage and rely on tips? Is tipping standard practice in this industry? If you answer "no" to these questions, you probably don't need to tip. Use our calculator for situations where tipping is appropriate to quickly determine the right amount.
            </p>
          </div>
        </div>
      </div>

      <!-- Real-World Examples -->
      <div class="content-section">
        <h2>Real-World Tipping Examples and Scenarios</h2>
        <p>
          Sometimes the best way to understand tipping is through concrete examples. These real-world scenarios show how to calculate tips in various dining situations, from simple solo meals to complex group outings. Use these examples as a reference guide, then try our calculator above to practice with your own numbers.
        </p>
        
        <div class="faq-item" style="margin-top: 1.5rem;">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <span style="font-weight: 500;">View Detailed Examples (Click to Expand)</span>
            <span class="faq-icon">▼</span>
          </div>
          <div class="faq-answer">
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">Example 1: Simple Dinner for Two</h3>
            <p>
              You and a friend dine at a casual restaurant. The bill comes to $45.80 before tax. The tax (8%) adds $3.66, making the total $49.46. For good service, you want to tip 20%. Calculate the tip on the pre-tax amount: $45.80 × 0.20 = $9.16. Your total payment is $49.46 + $9.16 = $58.62. Split between two people, each person pays $29.31. This is the most straightforward tipping scenario and demonstrates why tipping on the pre-tax amount is standard practice.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">Example 2: Large Group Dinner with Auto-Gratuity</h3>
            <p>
              Your party of 8 people celebrates at a restaurant with an automatic 18% gratuity for groups over 6. The bill totals $320 before tax, with $57.60 already added as gratuity (18% of $320). Tax of $30.21 (8%) brings the total to $407.81. Since gratuity is included, no additional tip is required. Split 8 ways, each person pays $50.98. However, if service was exceptional, the group could add an extra $20-40 ($2.50-5 per person) for the server, but this is entirely optional when auto-gratuity is included.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">Example 3: Bar Tab with Multiple Rounds</h3>
            <p>
              You're at a bar and order drinks throughout the evening. First round: 2 beers at $6 each ($12). Second round: 2 cocktails at $12 each ($24). Third round: 2 shots at $8 each ($16). Total bar tab: $52. Instead of tipping after each drink ($1-2 per drink would be $12-24 total), you settle the full tab and tip 20% on the total: $52 × 0.20 = $10.40. Your total payment is $62.40. This approach is simpler than per-drink tipping when running a tab.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">Example 4: Lunch Special with Coupon</h3>
            <p>
              You use a "Buy One, Get One Free" coupon at lunch. Two entrees would normally cost $12 each ($24 total), but you only pay $12 due to the coupon. Tax is $0.96 (8% of $12), making your bill $12.96. However, you should tip on the full $24 value since the server worked the same amount: $24 × 0.18 = $4.32. Total payment: $12.96 + $4.32 = $17.28. This ensures the server isn't penalized because you used a discount.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">Example 5: Delivery Order in Bad Weather</h3>
            <p>
              You order pizza delivery during a snowstorm. The food total is $45. Standard delivery tip is 15-20%, but considering the hazardous weather conditions, you increase to 25%: $45 × 0.25 = $11.25. Some might even round up to $15 given the circumstances. Your total is $56.25 (or $60 if you round up the tip). Weather, distance, and difficulty should always factor into delivery tips—drivers risk their safety to bring you food in poor conditions.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">Example 6: Coffee Shop with Tip Jar</h3>
            <p>
              You order a $4.50 latte at a coffee shop with a tip jar. For simple drink orders, $0.50-$1 is standard. For a complex order (extra modifications, multiple drinks), $1-2 per drink is appropriate. If the barista provides excellent service, remembers your order, or creates beautiful latte art, $2 is generous. For a $4.50 latte with good service, leaving $1 (making your total $5.50) is perfectly acceptable. Unlike restaurant service, tip jar contributions aren't percentage-based but rather flat amounts.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">Example 7: Fine Dining with Wine Pairing</h3>
            <p>
              You dine at an upscale restaurant. Food bill: $180. Wine pairing: $75. The sommelier provided extensive wine education and perfect pairings. Total bill: $255. Tip 20% on the full amount: $255 × 0.20 = $51. However, since the sommelier went above and beyond, you add an extra $15 cash tip directly to them (bringing total tips to $66). Your complete payment: $255 + $51 + $15 = $321. When specialists provide exceptional service, acknowledging them separately is classy and appropriate.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">Example 8: Brunch with Separate Checks and Uneven Spending</h3>
            <p>
              Four friends get brunch with separate checks. Person A: $15, Person B: $28, Person C: $12, Person D: $22. Each person tips 18% on their individual bill. Person A tips $2.70, Person B tips $5.04, Person C tips $2.16, Person D tips $3.96. Totals including tax (8%): Person A pays $18.90, Person B pays $35.32, Person C pays $15.12, Person D pays $27.72. Separate checks make splitting easy when people order different amounts, and each person tips based on what they consumed.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">Example 9: Takeout Order for a Family</h3>
            <p>
              You order $85 worth of takeout from a local restaurant—a large order with specific modifications for dietary restrictions. While takeout typically warrants 10-15%, the complexity and size of this order merit 15%: $85 × 0.15 = $12.75. Total payment: $97.75. The kitchen and front-of-house staff spent considerable time preparing, packaging, checking, and coordinating your order. Larger and more complex takeout orders deserve tips closer to dine-in percentages.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0;">Example 10: Splitting Bills Unevenly with Shared Appetizers</h3>
            <p>
              Three people dine together. They share two appetizers ($16 total, split three ways = $5.33 each). Individual entrees: Person A ($24), Person B ($18), Person C ($21). Each person's subtotal: Person A ($29.33), Person B ($23.33), Person C ($26.33). With 18% tip: Person A tips $5.28, Person B tips $4.20, Person C tips $4.74. With tax (8%): Person A pays $37.28, Person B pays $29.76, Person C pays $33.51. When sharing items, divide them equally before adding individual items and calculating each person's tip.
            </p>
            
            <h3 style="color: var(--primary); margin: 1.5rem 0 0.75rem 0; border-top: 2px solid var(--light-gray); padding-top: 1.5rem;">Pro Tips for Complex Scenarios</h3>
            <p>
              For split bills, use our calculator multiple times for different amounts. When tipping on discounts, always base the tip on the original pre-discount price. In situations with multiple service people (server, sommelier, bartender), consider tipping each proportionally to their service. For exceptional service at any price point, don't hesitate to exceed 20%—these workers remember generous tippers and will provide even better service on return visits.
            </p>
          </div>
        </div>
      </div>

      <!-- FAQ Section -->
      <div class="content-section">
        <h2>Frequently Asked Questions</h2>
        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <span>Should I tip on tax?</span>
            <span class="faq-icon">▼</span>
          </div>
          <div class="faq-answer">
            <p>
              The traditional etiquette is to calculate tips on the pre-tax
              amount, as the tax is not part of the restaurant's service.
              However, many people find it more convenient to tip on the total
              bill including tax, which typically results in only a slightly
              higher tip. For Indian restaurants, bills include GST (5% for
              non-AC, 18% for AC restaurants) - use our
              <a href="../gst-calculator/">GST calculator</a> to understand
              restaurant tax calculations. Either approach is acceptable, and
              some restaurants' payment systems default to showing the post-tax
              amount. Choose whichever method feels most comfortable for your
              situation.
            </p>
          </div>
        </div>
        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <span>How much to tip for bad service?</span>
            <span class="faq-icon">▼</span>
          </div>
          <div class="faq-answer">
            <p>
              For genuinely poor service, it's acceptable to reduce your tip to
              10-12%, but consider whether the issue was within your server's
              control. Kitchen delays, understaffing, or missing items may not
              reflect on your server's effort. If you do leave a lower tip, it's
              courteous to speak with a manager about the specific issues you
              experienced. Many restaurants want to know about service problems
              so they can improve and make things right.
            </p>
          </div>
        </div>
        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <span>Is tipping mandatory?</span>
            <span class="faq-icon">▼</span>
          </div>
          <div class="faq-answer">
            <p>
              In the United States, tipping is customary but not legally
              required in most situations. However, many service workers earn
              significantly below minimum wage and rely on tips as the majority
              of their income - often making $2-3 per hour base pay. Some
              restaurants add an automatic gratuity for large parties (usually
              6+ people), which is disclosed on the menu or bill. While
              technically optional, tipping 15-20% is a strong social norm for
              good service in American dining culture.
            </p>
          </div>
        </div>
        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <span>What's the standard tip percentage?</span>
            <span class="faq-icon">▼</span>
          </div>
          <div class="faq-answer">
            <p>
              The standard tip percentage has evolved over time. While 15% was
              once the norm, 18-20% is now considered standard for good service
              at most restaurants. Exceptional service may warrant 25% or more,
              while 15% is still acceptable for basic but adequate service.
              Quick-service restaurants, coffee shops, and takeout typically
              expect lower tips (10-15% or a dollar or two), while fine dining
              and table service call for the full 18-20% standard.
            </p>
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <span>How do I split a tip unevenly?</span>
            <span class="faq-icon">▼</span>
          </div>
          <div class="faq-answer">
            <p>
              When splitting bills unevenly, calculate each person's share of the pre-tip bill first, then apply the tip percentage to their individual portion. For example, if Person A ordered $30 and Person B ordered $20 from a $50 bill with 20% tip, Person A pays $36 ($30 + $6 tip) and Person B pays $24 ($20 + $4 tip). Our calculator defaults to equal splits, but you can use it multiple times for different amounts to handle uneven splits.
            </p>
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <span>Should I tip on alcohol purchases?</span>
            <span class="faq-icon">▼</span>
          </div>
          <div class="faq-answer">
            <p>
              Yes, you should tip on alcoholic beverages at the same rate as food. Bartenders and servers work to prepare and serve drinks just like meals. For bars where you're only ordering drinks, tip $1-2 per drink for simple orders, or 15-20% of the total tab for complex cocktails or large rounds. At restaurants, include alcohol in your total bill when calculating the tip percentage.
            </p>
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <span>What if service charge is already included?</span>
            <span class="faq-icon">▼</span>
          </div>
          <div class="faq-answer">
            <p>
              If your bill includes an automatic service charge or gratuity (common for parties of 6+ people), you don't need to add an additional tip unless service was exceptional. Check your receipt carefully - service charges are sometimes labeled as 'service fee,' 'auto-gratuity,' or 'included gratuity.' These typically range from 18-20% and go directly to service staff. If you're unsure whether a charge is gratuity, ask your server.
            </p>
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <span>How much to tip for takeout or pickup orders?</span>
            <span class="faq-icon">▼</span>
          </div>
          <div class="faq-answer">
            <p>
              For takeout and pickup orders, 10-15% is appropriate, or $1-2 for small orders. While you're not receiving table service, restaurant staff still spend time packing your order, checking accuracy, and handling your transaction. For complex or large orders, tip toward the higher end. Food delivery services typically warrant 15-20% tips since drivers use their own vehicles and provide full service.
            </p>
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <span>Do I tip differently for lunch vs dinner?</span>
            <span class="faq-icon">▼</span>
          </div>
          <div class="faq-answer">
            <p>
              The tip percentage should remain the same regardless of meal time - 15-20% for good service. Even though lunch bills are typically smaller than dinner bills, your server provides similar service levels. Some people mistakenly think lunch service deserves less, but servers work just as hard during lunch shifts and rely on tips as their primary income throughout the day.
            </p>
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <span>How do I handle poor service that wasn't the server's fault?</span>
            <span class="faq-icon">▼</span>
          </div>
          <div class="faq-answer">
            <p>
              If problems arise from kitchen delays, food quality, or management issues beyond your server's control, maintain your normal 15-20% tip for the server but speak with a manager about the issues. Servers shouldn't be financially penalized for problems they can't control. If your server handled the situation professionally and kept you informed, they still deserve fair compensation for their service efforts.
            </p>
          </div>
        </div>
      </div>

      <!-- Disclaimer -->
      <div class="disclaimer">
        <strong>Disclaimer:</strong> This calculator provides tipping
        suggestions. Tipping is customary but not legally required. Use your
        discretion based on service quality.
      </div>

      <!-- Related Calculators Section -->
      <div class="content-section">
        <h2>Related Calculators and Tools</h2>
        <p>
          Expand your financial toolkit with our other free calculators. Whether you're managing taxes, planning gaming purchases, or calculating benefits, we have accurate, easy-to-use tools to help you make informed decisions.
        </p>
        
        <div class="tipping-grid" style="margin-top: 2rem;">
          <div class="tipping-card">
            <h3>
              <a href="../gst-calculator/" style="color: var(--primary); text-decoration: none; font-size: 1.1rem;">
                Free GST Calculator for India - Calculate CGST, SGST & IGST
              </a>
            </h3>
            <p style="margin-top: 0.75rem; font-size: 0.95rem;">
              Calculate Goods and Services Tax instantly for Indian businesses. Supports all GST rates (5%, 12%, 18%, 28%) with automatic CGST/SGST splitting for intrastate transactions and IGST for interstate transactions. Essential tool for Indian restaurants, retailers, and service providers.
            </p>
          </div>
          
          <div class="tipping-card">
            <h3>
              <a href="../va-calculator/" style="color: var(--primary); text-decoration: none; font-size: 1.1rem;">
                VA Disability Benefits Calculator - Estimate Monthly Compensation
              </a>
            </h3>
            <p style="margin-top: 0.75rem; font-size: 0.95rem;">
              Estimate your Veterans Affairs disability compensation based on your disability rating and dependents. Updated with 2025 VA payment rates. Calculate combined ratings for multiple disabilities using VA's complex rating system and determine your monthly benefit amount.
            </p>
          </div>
          
          <div class="tipping-card">
            <h3>
              <a href="../gaming-calculators/minecoins/" style="color: var(--primary); text-decoration: none; font-size: 1.1rem;">
                Minecoins to USD Calculator - Minecraft Currency Converter
              </a>
            </h3>
            <p style="margin-top: 0.75rem; font-size: 0.95rem;">
              Convert Minecraft Minecoins to real money instantly. Calculate the actual cost of Minecraft Marketplace items across all platforms including Xbox, PlayStation, Nintendo Switch, and mobile. Compare prices in multiple currencies to find the best deals on skins, maps, and texture packs.
            </p>
          </div>
          
          <div class="tipping-card">
            <h3>
              <a href="../gaming-calculators/vbucks/" style="color: var(--primary); text-decoration: none; font-size: 1.1rem;">
                V-Bucks to USD Calculator - Fortnite Currency Converter
              </a>
            </h3>
            <p style="margin-top: 0.75rem; font-size: 0.95rem;">
              Calculate the real cost of Fortnite V-Bucks and Battle Pass items. Convert V-Bucks to dollars, pounds, euros, and other currencies. Includes pricing for all V-Bucks packs and helps you determine the most cost-effective purchase options for skins, emotes, and cosmetics.
            </p>
          </div>
          
          <div class="tipping-card">
            <h3>
              <a href="../gaming-calculators/robux/" style="color: var(--primary); text-decoration: none; font-size: 1.1rem;">
                Robux to USD Calculator - Roblox Currency Converter
              </a>
            </h3>
            <p style="margin-top: 0.75rem; font-size: 0.95rem;">
              Convert Roblox Robux to real money and compare prices across different purchase options. Calculate Premium membership value and determine the most economical way to buy Robux. Essential for parents budgeting gaming expenses and creators calculating earnings from the DevEx program.
            </p>
          </div>
          
          <div class="tipping-card">
            <h3>
              <a href="../gaming-calculators/" style="color: var(--primary); text-decoration: none; font-size: 1.1rem;">
                Gaming Currency Calculators - Convert Virtual Money to Real Money
              </a>
            </h3>
            <p style="margin-top: 0.75rem; font-size: 0.95rem;">
              Access our complete suite of gaming currency converters including Apex Coins, COD Points, FIFA Points, and more. Calculate the real-world cost of in-game purchases across popular games. Compare prices, find the best value packs, and make informed decisions about gaming spending.
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="footer-content">
          <div class="footer-brand">
            <div class="logo">Tip Calculator</div>
            <p>Free tip calculator for accurate bill splitting</p>
            <p class="footer-powered">Powered by <strong>Forge APIs</strong></p>
          </div>
          <div class="footer-links">
            <div class="footer-column">
              <h4>Products</h4>
              <div class="footer-subsection">
                <h5>Premium APIs</h5>
                <a href="../riskscore/">RiskScore API</a>
                <a href="../dupecheck/">DupeCheck</a>
              </div>
              <div class="footer-subsection">
                <h5>Free Tools</h5>
                <a href="../gst-calculator/">GST Calculator India</a>
                <a href="../gaming-calculators/">Gaming Currency Calculators</a>
                <a href="../va-calculator/">VA Disability Benefits Calculator</a>
                <a href="index.html">Restaurant Tip Calculator</a>
              </div>
            </div>
            <div class="footer-column">
              <h4>Company</h4>
              <a href="https://forgeapis.com">Forge APIs</a>
              <a href="mailto:hello@forgeapis.com">Contact Us</a>
            </div>
            <div class="footer-column">
              <h4>Legal</h4>
              <a href="../privacy.html">Privacy Policy</a>
              <a href="../cookies.html">Cookie Policy</a>
              <a href="../terms.html">Terms of Service</a>
            </div>
          </div>
        </div>
        <div class="footer-bottom">
          <div class="footer-bottom-left">
            <p>&copy; 2024 Forge APIs. All rights reserved.</p>
            <p class="footer-note">
              Free tools for everyone. Accurate calculations, always.
            </p>
          </div>
          <div class="footer-bottom-right">
            <a href="mailto:hello@forgeapis.com" class="footer-contact-link"
              >📧 Contact Us</a
            >
          </div>
        </div>
      </div>
    </footer>

    <script>
      // Tip Calculator JavaScript
      let currentTipPercent = 18;
      let numberOfPeople = 1;

      // Security: Rate limiting
      let lastCalculationTime = 0;
      const MIN_CALCULATION_INTERVAL = 100; // 100ms minimum between calculations

      // Security: Input validation and sanitization
      function sanitizeInput(input) {
        if (typeof input !== "string" && typeof input !== "number") return 0;
        const cleaned = String(input).replace(/[^0-9.-]/g, "");
        const parsed = parseFloat(cleaned);
        return isNaN(parsed) ? 0 : parsed;
      }

      // Security: Rate limiting for calculations
      function rateLimitCalculation() {
        const now = Date.now();
        if (now - lastCalculationTime < MIN_CALCULATION_INTERVAL) {
          return false;
        }
        lastCalculationTime = now;
        return true;
      }

      function validateBillAmount(amount) {
        const sanitized = sanitizeInput(amount);
        // Limit to reasonable range: $0 - $99,999.99
        return Math.max(0, Math.min(99999.99, sanitized));
      }

      function validateTipPercent(percent) {
        const sanitized = sanitizeInput(percent);
        // Limit to reasonable range: 0% - 100%
        return Math.max(0, Math.min(100, sanitized));
      }

      function validateNumberOfPeople(people) {
        const sanitized = sanitizeInput(people);
        // Limit to reasonable range: 1 - 20
        return Math.max(1, Math.min(20, Math.round(sanitized)));
      }

      // Initialize calculator
      document.addEventListener("DOMContentLoaded", function () {
        setupEventListeners();
        setupSecureInputHandlers();
        calculateTip();
        loadSavedPreferences();

        // Mobile menu functionality
        const mobileMenuToggle = document.getElementById("mobileMenuToggle");
        const mobileMenu = document.getElementById("mobileMenu");

        if (mobileMenuToggle && mobileMenu) {
          mobileMenuToggle.addEventListener("click", function (e) {
            e.preventDefault();
            e.stopPropagation();
            this.classList.toggle("active");
            mobileMenu.classList.toggle("active");
          });

          // Close when clicking outside
          document.addEventListener("click", function (e) {
            if (
              !mobileMenuToggle.contains(e.target) &&
              !mobileMenu.contains(e.target)
            ) {
              mobileMenuToggle.classList.remove("active");
              mobileMenu.classList.remove("active");
            }
          });
        }
      });

      // Security: Secure input event handlers
      function setupSecureInputHandlers() {
        const billInput = document.getElementById("billAmount");
        if (billInput) {
          // Prevent malicious input patterns
          billInput.addEventListener("input", function (e) {
            // Security: Sanitize input in real-time
            const sanitized = validateBillAmount(e.target.value);
            if (sanitized !== parseFloat(e.target.value)) {
              e.target.value = sanitized.toFixed(2);
            }
            calculateTip();
          });

          // Security: Prevent paste of malicious content
          billInput.addEventListener("paste", function (e) {
            e.preventDefault();
            const paste = (e.clipboardData || window.clipboardData).getData(
              "text"
            );
            const sanitized = validateBillAmount(paste);
            e.target.value = sanitized.toFixed(2);
            calculateTip();
          });

          // Security: Prevent key combinations that could be malicious
          billInput.addEventListener("keydown", function (e) {
            // Allow: backspace, delete, tab, escape, enter, home, end, arrow keys
            if (
              [8, 9, 27, 13, 46, 35, 36, 37, 38, 39, 40].indexOf(e.keyCode) !==
                -1 ||
              // Allow: Ctrl+A, Ctrl+C, Ctrl+V, Ctrl+X
              (e.keyCode === 65 && e.ctrlKey === true) ||
              (e.keyCode === 67 && e.ctrlKey === true) ||
              (e.keyCode === 86 && e.ctrlKey === true) ||
              (e.keyCode === 88 && e.ctrlKey === true) ||
              // Allow: numbers, decimal point
              (e.keyCode >= 48 && e.keyCode <= 57) ||
              (e.keyCode >= 96 && e.keyCode <= 105) ||
              e.keyCode === 190 ||
              e.keyCode === 110
            ) {
              return;
            }
            e.preventDefault();
          });
        }
      }

      function setupEventListeners() {
        // Tools dropdown
        const toolsDropdownBtn = document.getElementById("toolsDropdownBtn");
        const toolsDropdown = document.getElementById("toolsDropdown");

        toolsDropdownBtn.addEventListener("click", function (e) {
          e.preventDefault();
          toolsDropdown.classList.toggle("active");
        });

        // Close dropdown when clicking outside
        document.addEventListener("click", function (e) {
          if (!toolsDropdown.contains(e.target)) {
            toolsDropdown.classList.remove("active");
          }
        });

        // Mobile menu toggle
        const mobileMenuToggle = document.getElementById("mobileMenuToggle");
        mobileMenuToggle.addEventListener("click", function () {
          console.log("Mobile menu clicked");
        });
      }

      function selectTip(percent) {
        // Security: Validate tip percentage
        currentTipPercent = validateTipPercent(percent);

        // Update button states
        document.querySelectorAll(".tip-btn").forEach((btn) => {
          btn.classList.remove("active");
        });
        if (event && event.target) {
          event.target.classList.add("active");
        }

        calculateTip();
        savePreferences();
      }

      function adjustSplit(delta) {
        // Security: Validate split adjustment
        const deltaValue = validateNumberOfPeople(delta);
        numberOfPeople = validateNumberOfPeople(numberOfPeople + deltaValue);

        const splitElement = document.getElementById("splitNumber");
        if (splitElement) {
          splitElement.textContent = numberOfPeople;
        }
        calculateTip();
      }

      function calculateTip() {
        // Security: Rate limiting
        if (!rateLimitCalculation()) return;

        const billInput = document.getElementById("billAmount");
        if (!billInput) return;

        // Security: Validate and sanitize input
        const rawBillAmount = billInput.value;
        const billAmount = validateBillAmount(rawBillAmount);

        // Update input if it was sanitized
        if (billAmount !== parseFloat(rawBillAmount)) {
          billInput.value = billAmount.toFixed(2);
        }

        const tipPercent = validateTipPercent(currentTipPercent);
        const people = validateNumberOfPeople(numberOfPeople);

        const tipAmount = billAmount * (tipPercent / 100);
        const total = billAmount + tipAmount;
        const perPerson = total / people;

        // Update results color based on tip percentage
        updateResultsColor(tipPercent);

        // Animate numbers
        animateValue("tipAmount", tipAmount, 500);
        animateValue("totalAmount", total, 500);
        animateValue("perPerson", perPerson, 500);

        // Update star rating
        updateStarRating(tipPercent);

        // Update desktop sidebar components
        updateComparisonTable(billAmount, people);
        updateSplitVisualizer(people, perPerson);
      }

      function updateResultsColor(tipPercent) {
        const resultsSection = document.querySelector(
          ".results-section-prominent"
        );

        // Remove old color classes and reset to restaurant theme
        resultsSection.style.background = "white";
        resultsSection.style.border = "2px solid var(--secondary)";
      }

      function updateStarRating(tipPercent) {
        const starsDisplay = document.getElementById("starsDisplay");
        if (!starsDisplay) return;

        let stars = "";
        let rating = "";

        if (tipPercent >= 25) {
          stars = "⭐⭐⭐⭐⭐";
          rating = "Excellent";
        } else if (tipPercent >= 20) {
          stars = "⭐⭐⭐⭐";
          rating = "Very Good";
        } else if (tipPercent >= 15) {
          stars = "⭐⭐⭐";
          rating = "Good";
        } else if (tipPercent >= 10) {
          stars = "⭐⭐";
          rating = "Fair";
        } else {
          stars = "⭐";
          rating = "Poor";
        }

        starsDisplay.innerHTML = `${stars} ${rating}`;
      }

      function animateValue(elementId, endValue, duration) {
        const element = document.getElementById(elementId);
        const startValue =
          parseFloat(element.textContent.replace(/[$,]/g, "")) || 0;
        const startTime = performance.now();
        const range = endValue - startValue;

        // Add shimmer effect to results section
        const resultsSection = document.querySelector(
          ".results-section-prominent"
        );
        if (resultsSection) {
          resultsSection.classList.add("calculating");
          setTimeout(() => resultsSection.classList.remove("calculating"), 600);
        }

        function updateValue(currentTime) {
          const elapsed = currentTime - startTime;
          const progress = Math.min(elapsed / duration, 1);

          // Ease out cubic
          const easeProgress = 1 - Math.pow(1 - progress, 3);
          const currentValue = startValue + range * easeProgress;

          element.textContent = formatCurrency(currentValue);

          if (progress < 1) {
            requestAnimationFrame(updateValue);
          }
        }

        requestAnimationFrame(updateValue);
      }

      function formatCurrency(amount) {
        return "$" + amount.toFixed(2);
      }

      function savePreferences() {
        try {
          // Security: Validate data before saving
          const preferences = {
            tipPercent: validateTipPercent(currentTipPercent),
            timestamp: new Date().toISOString(),
            version: "1.0",
          };

          // Security: Check if localStorage is available and not full
          if (typeof Storage !== "undefined") {
            const data = JSON.stringify(preferences);
            if (data.length < 1024) {
              // Reasonable size limit
              localStorage.setItem("tipCalculatorPrefs", data);
            }
          }
        } catch (e) {
          console.error("Error saving preferences:", e);
        }
      }

      function loadSavedPreferences() {
        try {
          if (typeof Storage !== "undefined") {
            const saved = localStorage.getItem("tipCalculatorPrefs");
            if (saved && saved.length < 1024) {
              // Size check
              const preferences = JSON.parse(saved);

              // Security: Validate loaded data
              if (preferences && typeof preferences.tipPercent === "number") {
                currentTipPercent = validateTipPercent(preferences.tipPercent);

                // Update UI to match saved preference
                const tipButtons = document.querySelectorAll(".tip-btn");
                tipButtons.forEach((btn) => {
                  btn.classList.remove("active");
                  if (parseInt(btn.textContent) === currentTipPercent) {
                    btn.classList.add("active");
                  }
                });
              }
            }
          }
        } catch (e) {
          console.error("Error loading saved preferences:", e);
          // Clear corrupted data
          if (typeof Storage !== "undefined") {
            localStorage.removeItem("tipCalculatorPrefs");
          }
        }
      }

      function updateComparisonTable(billAmount, people) {
        const comparisonTable = document.getElementById("comparisonTable");
        if (!comparisonTable) return;

        const percentages = [10, 15, 18, 20, 25];
        let html = "";

        percentages.forEach((percent) => {
          const tipAmount = billAmount * (percent / 100);
          const total = billAmount + tipAmount;
          const perPerson = total / people;
          const isActive = percent === currentTipPercent;

          html += `
            <div class="comparison-row ${isActive ? "active" : ""}">
              <span class="comparison-label">${percent}% Tip</span>
              <div class="comparison-values">
                <span class="comparison-total">${formatCurrency(
                  perPerson
                )}</span>
                <span class="comparison-tip">per person</span>
              </div>
            </div>
          `;
        });

        comparisonTable.innerHTML = html;
      }

      function updateSplitVisualizer(people, perPerson) {
        const splitVisualizer = document.getElementById("splitVisualizer");
        if (!splitVisualizer) return;

        // Generate person icons
        const icons = [];
        const iconVariations = ["👤", "👥"];
        for (let i = 0; i < people; i++) {
          // Use single person icon for clarity
          icons.push('<span class="person-icon">👤</span>');
        }

        const html = `
          <div class="people-icons">
            ${icons.join("")}
          </div>
          <div class="split-summary">
            <div class="split-summary-amount">${formatCurrency(perPerson)}</div>
            <div class="split-summary-label">per person${
              people > 1 ? ` (${people} people)` : ""
            }</div>
          </div>
        `;

        splitVisualizer.innerHTML = html;
      }

      function toggleFAQ(element) {
        const answer = element.nextElementSibling;
        const icon = element.querySelector(".faq-icon");

        answer.classList.toggle("active");
        icon.classList.toggle("rotated");
      }
    </script>
  </body>
</html>
