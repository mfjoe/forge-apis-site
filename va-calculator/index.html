<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Mobile Optimization Meta Tags -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="VA Disability Calculator">
    <meta name="theme-color" content="#002868">
    <meta name="format-detection" content="telephone=no">

    <!-- Google Site Verification -->
    <meta
      name="google-site-verification"
      content="thYv9L2n1x3OAc20MYSQzfqLdZbjqRPHkPi6Um61xXk"
    />

    <!-- Additional SEO meta tags -->
    <meta name="robots" content="index, follow" />
    <meta
      name="googlebot"
      content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"
    />
    <meta
      name="bingbot"
      content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"
    />

    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2499973683982164"
      crossorigin="anonymous"
    ></script>
    <title>
      Veterans Affairs (VA) Disability Calculator 2025 - Calculate Your Monthly
      Benefits
    </title>
    <meta
      name="description"
      content="Free VA disability calculator to estimate your monthly Veterans Affairs compensation. Calculate combined ratings, dependent benefits, and 2025 payment rates instantly."
    />

    <!-- Open Graph Meta Tags -->
    <meta
      property="og:title"
      content="Veterans Affairs (VA) Disability Calculator 2025"
    />
    <meta
      property="og:description"
      content="Calculate your monthly VA disability compensation with combined ratings and dependent benefits."
    />
    <meta
      property="og:image"
      content="https://forgeapis.com/va-calculator-preview.png"
    />
    <meta property="og:url" content="https://forgeapis.com/va-calculator" />

    <!-- Schema Markup for SEO -->
    <!-- Breadcrumb Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://forgeapis.com/"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "VA Disability Calculator",
          "item": "https://forgeapis.com/va-calculator"
        }
      ]
    }
    </script>

    <!-- Review Snippets Schema with AggregateRating -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "VA Disability Calculator 2025",
      "description": "Free Veterans Affairs disability calculator to estimate monthly compensation with combined ratings and dependent benefits. 2025 payment rates included.",
      "url": "https://forgeapis.com/va-calculator",
      "applicationCategory": "FinanceApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "ratingCount": "2943",
        "bestRating": "5",
        "worstRating": "1"
      },
      "author": {
        "@type": "Organization",
        "name": "ForgeAPIs"
      }
    }
    </script>

    <!-- JSON-LD Structured Data - HowTo -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "HowTo",
      "name": "How to Calculate VA Disability Benefits",
      "description": "Step-by-step guide to using the VA disability calculator",
      "step": [
        {
          "@type": "HowToStep",
          "position": 1,
          "name": "Add your disabilities",
          "text": "Enter each service-connected disability with its rating percentage (0-100%)"
        },
        {
          "@type": "HowToStep",
          "position": 2,
          "name": "Review combined rating",
          "text": "The calculator automatically combines multiple disabilities using VA's combined rating table"
        },
        {
          "@type": "HowToStep",
          "position": 3,
          "name": "Add dependents",
          "text": "Select your marital status and add any dependent children or parents"
        },
        {
          "@type": "HowToStep",
          "position": 4,
          "name": "View estimated benefits",
          "text": "See your estimated monthly compensation based on 2025 VA payment rates"
        }
      ]
    }
    </script>

    <!-- JSON-LD Structured Data - FAQ -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "How does VA calculate combined disability ratings?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "VA uses a combined ratings table that doesn't simply add percentages. Starting with the highest rating, each additional disability is calculated against the remaining 'able' percentage. This calculator uses the official VA combined ratings table for accurate calculations."
          }
        },
        {
          "@type": "Question",
          "name": "What are the 2025 VA disability payment rates?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "VA disability rates are updated annually based on cost-of-living adjustments (COLA). The calculator uses the most current 2025 rates for single veterans, veterans with dependents, and veterans with dependent parents."
          }
        },
        {
          "@type": "Question",
          "name": "How do dependents affect VA disability compensation?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Dependents (spouse, children, dependent parents) increase your monthly compensation. The exact amount depends on your combined disability rating and the number and type of dependents. Rates are higher for veterans with spouses and children."
          }
        },
        {
          "@type": "Question",
          "name": "What is bilateral factor in VA disability ratings?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Bilateral factor is a 10% bonus added when you have disabilities affecting both arms, both legs, or paired skeletal muscles. This calculator automatically applies the bilateral factor when applicable."
          }
        },
        {
          "@type": "Question",
          "name": "Is this VA calculator accurate?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "This calculator uses the official VA combined ratings table and 2025 payment rates. However, actual benefits may vary based on individual circumstances, special monthly compensation (SMC), and other factors. Always verify with the VA for official benefit amounts."
          }
        }
      ]
    }
    </script>

    <!-- HowTo Schema Markup - Enhanced Version -->
    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "HowTo",
  "name": "How to Calculate Your VA Disability Rating and Benefits",
  "description": "Step-by-step guide to calculate your combined VA disability rating and estimate monthly compensation using our Veterans Affairs calculator. Learn how to use VA math, add dependents, understand bilateral factors, and calculate 2025 payment rates.",
  "image": "https://forgeapis.com/va-calculator-preview.png",
  "totalTime": "PT3M",
  "estimatedCost": {
    "@type": "MonetaryAmount",
    "currency": "USD",
    "value": "0"
  },
  "step": [
    {
      "@type": "HowToStep",
      "name": "Enter Your Disability Ratings",
      "text": "Input each individual disability rating (0% to 100%) from your VA rating decision letter. Use the 'Add Another Disability' button for multiple conditions. The calculator accepts all standard VA percentages in 10% increments.",
      "position": 1
    },
    {
      "@type": "HowToStep",
      "name": "Mark Bilateral Disabilities",
      "text": "For disabilities affecting paired body parts (arms, legs, hands, feet, knees, shoulders, etc.), check the 'Left Side' or 'Right Side' boxes. When you have disabilities on BOTH sides of paired body parts, the calculator automatically applies a 10% bilateral factor bonus to recognize the increased impact.",
      "position": 2
    },
    {
      "@type": "HowToStep",
      "name": "Add Your Dependents",
      "text": "Check boxes for spouse, children under 18, children over 18 in school, parents, and spouse requiring aid and attendance. Dependent benefits apply only if you're rated 30% or higher. These dependents increase your monthly compensation at ratings of 30% or higher.",
      "position": 3
    },
    {
      "@type": "HowToStep",
      "name": "Enable TDIU if Applicable",
      "text": "If you qualify for Total Disability Individual Unemployability (TDIU), check the TDIU box. This automatically calculates your payment at the 100% rate even if your combined rating is 70-90%, reflecting your inability to maintain substantially gainful employment.",
      "position": 4
    },
    {
      "@type": "HowToStep",
      "name": "Review Combined Rating & Calculation Breakdown",
      "text": "The calculator shows your combined VA disability rating using the official formula, always rounded to nearest 10%. Click 'Show Step-by-Step Calculation' to see exactly how each disability was combined, including any bilateral factor bonuses applied.",
      "position": 5
    },
    {
      "@type": "HowToStep",
      "name": "Check Path to 100%",
      "text": "If you're rated between 70-94%, the calculator shows you exactly what additional rating percentage you need to reach 95% (which rounds to 100%). This helps you understand how close you are to maximum compensation.",
      "position": 6
    },
    {
      "@type": "HowToStep",
      "name": "View Monthly Payment with Full Breakdown",
      "text": "See your estimated monthly VA compensation based on 2025 rates. The calculator shows base payment, dependent allowances, total monthly benefit, and annual payment. It also displays a month-by-month breakdown if you have retroactive effective dates.",
      "position": 7
    },
    {
      "@type": "HowToStep",
      "name": "Save or Print Results",
      "text": "Use the save button to store your calculation locally, or print your results for VSO appointments, financial planning, or personal records. Results can also be copied to clipboard for sharing with VSO representatives or family members.",
      "position": 8
    }
  ],
  "tool": [
    {
      "@type": "HowToTool",
      "name": "VA Disability Calculator 2025"
    }
  ]
}
    </script>

    <!-- FAQPage Schema - Merged Single Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "How does VA math work?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "VA math, officially called \"combined ratings,\" uses the \"whole person\" concept that recognizes you can't be more than 100% disabled. Instead of simply adding percentages together, the VA calculates each additional disability as a percentage of your remaining ability to function. This system ensures fair compensation while preventing ratings from exceeding 100%.\n\nHere's how it works step-by-step: First, the VA takes your highest-rated disability. Then, for each additional disability, they calculate what percentage of your remaining ability it affects. The formula is: remaining ability = 100% - current combined rating. Each new disability is then calculated as a percentage of this remaining ability.\n\nConcrete Example: Let's say you have three disabilities: 40% PTSD, 30% back injury, and 20% knee injury. Start with 40% PTSD (highest rating). Remaining ability: 100% - 40% = 60%. The 30% back injury affects 30% of your remaining 60% ability = 18%. New total: 40% + 18% = 58%. Remaining ability: 100% - 58% = 42%. The 20% knee injury affects 20% of your remaining 42% ability = 8.4%. Final combined rating: 58% + 8.4% = 66.4%, which rounds to 70% for payment purposes.\n\nThis system recognizes that disabilities don't simply add together but interact in complex ways. A veteran with multiple conditions often experiences compounded effects that traditional addition wouldn't capture. The VA rounds final ratings to the nearest 10%, which can sometimes work in your favor (66.4% becomes 70%) or against you (74.4% becomes 70%)."
          }
        },
        {
          "@type": "Question",
          "name": "Why doesn't 50% + 50% = 100%?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "This is one of the most confusing aspects of VA disability compensation, but it makes sense once you understand the \"whole person\" concept. The VA doesn't view disabilities as simply additive because that would imply you could be more than 100% disabled, which is impossible. Instead, they consider how much functional ability you have left after each disability.\n\nHere's the detailed breakdown: If you have a 50% disability, the VA considers you 50% able to function normally. When you add a second 50% disability, it doesn't affect your original 50% loss - it affects your remaining 50% ability. So the second disability is calculated as 50% of your remaining 50% ability, which equals 25% additional disability. Your combined rating becomes 50% + 25% = 75%, which rounds to 80%.\n\nWhy This System Exists: The VA's approach recognizes that disabilities interact with each other in complex ways. A veteran with two 50% disabilities doesn't experience twice the impact of one 50% disability - the effects compound and overlap. This system also prevents veterans from receiving compensation that exceeds what's possible (you can't be more than 100% disabled).\n\nReal-World Impact: This means that as you add more disabilities, each additional one has a smaller impact on your overall rating. This can be frustrating for veterans who feel their multiple conditions should add up to 100%, but it's designed to be fair and mathematically consistent. Understanding this system helps veterans set realistic expectations about their potential combined ratings."
          }
        },
        {
          "@type": "Question",
          "name": "What is the bilateral factor?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The bilateral factor is a special calculation that recognizes that disabilities affecting both sides of paired body parts are more disabling than the sum of their individual ratings. This applies to paired extremities (both arms, both legs, both feet, both hands) and paired skeletal muscles. The VA adds 10% of the combined value of bilateral disabilities before applying them to your overall rating calculation.\n\nThe Bilateral Factor Formula: First, combine your bilateral disabilities using regular VA math. Then, add 10% of that combined value. The formula is: Bilateral Factor = (Combined Bilateral Rating) + (Combined Bilateral Rating Ã— 0.10). This additional percentage recognizes the compounded functional impact of bilateral conditions.\n\nReal Scenario Example: Let's say you have 40% for your left knee and 30% for your right knee. First, combine them using VA math: Start with 40% left knee. Remaining ability: 100% - 40% = 60%. Right knee (30%) affects 30% of remaining 60% = 18%. Combined bilateral rating: 40% + 18% = 58%. Now apply the bilateral factor: 58% + (58% Ã— 0.10) = 58% + 5.8% = 63.8%. This bilateral factor (63.8%) is then used in your overall rating calculation with other disabilities.\n\nWhy It Exists: Bilateral disabilities create unique challenges that single-sided disabilities don't. Losing function in both knees, for example, affects your entire mobility system, balance, and ability to perform daily activities in ways that two separate knee injuries wouldn't. The bilateral factor compensates for this compounded functional loss and recognizes the increased difficulty in adapting to bilateral impairments.\n\nImportant Note: The bilateral factor only applies to disabilities affecting paired body parts. If you have a 40% back injury and a 30% knee injury (unilateral), the bilateral factor doesn't apply because these aren't paired conditions. The factor specifically recognizes the unique challenges of bilateral impairments."
          }
        },
        {
          "@type": "Question",
          "name": "Can I receive more than 100% disability?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "No, the maximum combined disability rating is 100% - you cannot receive more than 100% for your disability rating itself. However, this doesn't mean your total monthly compensation is capped at the 100% rate. The VA provides several ways to increase your monthly payment beyond the base 100% compensation through additional benefits and special circumstances.\n\nSpecial Monthly Compensation (SMC): This is the most significant way to receive additional compensation. SMC is paid for specific severe disabilities or combinations of disabilities that result in unusual circumstances. There are multiple SMC levels (SMC-K through SMC-S), each providing different amounts of additional compensation.\n\nSMC-K: Awarded for specific conditions like loss of use of a hand, foot, or reproductive organ, or for severe conditions like erectile dysfunction due to service-connected medication. Pays approximately $128 per month in 2025.\n\nSMC-L through SMC-N: Awarded for loss of use of paired extremities or combinations of severe disabilities. For example, SMC-L is for loss of use of both feet, both hands, or one hand and one foot. SMC-M is for loss of use of both legs at or above the knee. These levels provide significantly higher compensation than the base 100% rate.\n\nSMC-R: Awarded when you need regular aid and attendance for daily activities, or are permanently housebound due to service-connected disabilities. This can provide substantial additional compensation.\n\nOther Additional Compensation: Dependents (spouse, children, parents) can add hundreds of dollars to your monthly payment. Veterans with 100% ratings and a spouse and two children can receive over $4,000 monthly in 2025. You may also qualify for additional compensation for specific conditions like bilateral blindness or deafness.\n\nHow to Apply: SMC is typically awarded automatically when the VA recognizes qualifying conditions, but you can also file for it specifically if you believe you qualify. The key is ensuring all your disabilities are properly documented and rated."
          }
        },
        {
          "@type": "Question",
          "name": "How often do VA disability rates increase?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "VA disability compensation rates increase annually based on the Cost of Living Adjustment (COLA), which is determined by the Social Security Administration using the Consumer Price Index for Urban Wage Earners and Clerical Workers (CPI-W). This ensures that veterans' benefits maintain their purchasing power as the cost of living rises.\n\nTimeline and Process: The COLA calculation is based on the average CPI-W for the third quarter (July, August, September) of the current year compared to the same period from the previous year. The Social Security Administration typically announces the COLA percentage in October, and the VA adopts this same percentage for disability compensation.\n\n2025 COLA Increase: For 2025, veterans received a 3.2% increase in their disability compensation, reflecting the rising cost of living. This means a veteran with a 100% disability rating saw their monthly compensation increase from approximately $3,737 to $3,857. Even veterans with lower ratings received proportional increases.\n\nWhen Changes Take Effect: The new rates typically take effect on December 1st of each year, with the first increased payment arriving in January. Veterans don't need to apply for these increases - they're automatically applied to all eligible compensation payments. The VA usually publishes the new rate tables in October, giving veterans advance notice of their increased benefits.\n\nHistorical Context: COLA increases have varied significantly over the years, from 0% during periods of low inflation to over 14% during high inflation periods like the 1980s. The 3.2% increase for 2025 represents a moderate adjustment that helps veterans keep pace with rising costs while maintaining the program's fiscal sustainability.\n\nAutomatic Application: Unlike many other benefits, veterans don't need to take any action to receive COLA increases. The VA automatically applies the new rates to all active disability compensation payments, ensuring that all eligible veterans receive the adjustment without delay."
          }
        },
        {
          "@type": "Question",
          "name": "How do I file for VA disability?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Filing for VA disability benefits can seem overwhelming, but the process has been streamlined in recent years to make it more accessible. You have three main options for filing: online through VA.gov (the fastest and most efficient method), by mail using VA Form 21-526EZ, or in person at a VA regional office. Each method has its advantages, but online filing is generally recommended for faster processing.\n\nRequired Documentation: You'll need several key documents to support your claim. Most importantly, you need medical evidence that connects your current condition to your military service. This includes current medical records showing your diagnosis and treatment, military service records documenting any injuries or illnesses during service, and your DD-214 (Certificate of Release or Discharge from Active Duty). You should also gather any private medical records, statements from family members or fellow service members, and documentation of any incidents that caused your condition.\n\nThe Filing Process: Start by completing VA Form 21-526EZ (Application for Disability Compensation and Related Compensation Benefits). This form asks for detailed information about your military service, current disabilities, and medical treatment. You'll need to provide specific dates, locations, and circumstances related to your conditions. Be as detailed as possible - vague or incomplete information can delay your claim or result in denial.\n\nWhat Happens Next: After filing, the VA will review your application and may request additional information or schedule you for a Compensation and Pension (C&P) examination. This exam is conducted by a VA-contracted doctor who will evaluate your conditions and provide an opinion on whether they're connected to your military service. The entire process typically takes 3-6 months for initial claims, though this can vary based on complexity and VA workload.\n\nTips for Success: Consider working with a Veterans Service Organization (VSO) like the American Legion, VFW, or DAV, which provide free assistance with claims. These organizations have accredited representatives who understand the VA system and can help ensure your claim is properly prepared. Keep copies of everything you submit, and respond promptly to any VA requests for additional information.\n\nGetting Help: Don't navigate this process alone. The VA has Veterans Service Representatives who can help, and many communities have VSOs that provide free assistance. You can also consult with accredited attorneys or claims agents, though these services typically require a fee. The key is to be thorough, accurate, and persistent throughout the process."
          }
        },
        {
          "@type": "Question",
          "name": "How is VA combined disability rating calculated?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "VA combined disability rating uses a mathematical formula rather than simple addition to avoid over-compensation. The VA starts with your highest disability rating and applies each subsequent rating to the remaining \"efficiency\" (100% minus current combined rating). For example, if you have ratings of 50%, 30%, and 20%, the calculation works as follows: Start with 50% (leaving 50% efficiency remaining), then apply 30% to the remaining 50% efficiency (30% Ã— 50% = 15%), giving you 65% combined. Next, apply 20% to the remaining 35% efficiency (20% Ã— 35% = 7%), resulting in 72% combined. The final result is always rounded to the nearest 10%, so 72% rounds to 70%. This ensures veterans with multiple conditions receive fair compensation while preventing ratings from exceeding 100% efficiency loss."
          }
        },
        {
          "@type": "Question",
          "name": "What are the 2025 VA disability payment rates?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The 2025 VA disability compensation rates range from $171.23 monthly for 10% disability to $3,737.85 monthly for 100% disability (without dependents). Veterans rated 30% or higher receive additional compensation for dependents: married veterans receive extra monthly payments, children under 18 add approximately $31-75 per child depending on your rating tier, and children over 18 in school qualify for additional benefits. Veterans with a spouse requiring aid and attendance receive an additional $101 monthly at 30% rating or higher. Parents can also qualify as dependents, adding $86-141 per parent monthly. These rates are adjusted annually based on the Consumer Price Index to ensure benefits keep pace with inflation and cost of living increases across the United States."
          }
        },
        {
          "@type": "Question",
          "name": "Do I qualify for dependent benefits?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Veterans rated 30% or higher qualify for additional compensation for dependents. Eligible dependents include your spouse (legal marriage recognized by the state where you were married), unmarried children under 18 years old, children ages 18-23 enrolled full-time in approved educational institutions, children of any age who became permanently incapable of self-support before age 18, and dependent parents with income below VA-established limits (approximately $24,000 annually). Spouses requiring aid and attendance (needing assistance with daily activities like bathing, feeding, or dressing) qualify for additional monthly compensation. To receive dependent benefits, you must add dependents to your VA records by submitting VA Form 21-686c (Declaration of Status of Dependents) along with supporting documentation such as marriage certificates, birth certificates, and school enrollment verification."
          }
        },
        {
          "@type": "Question",
          "name": "Is VA disability compensation taxable?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "No, VA disability compensation is completely tax-free at federal, state, and local levels. The IRS does not consider VA disability payments as taxable income, meaning you don't report these benefits on your tax return and they don't affect your adjusted gross income (AGI) or tax bracket. This tax-exempt status applies to all VA disability compensation including base payments, dependent allowances, special monthly compensation (SMC), and any retroactive payments you receive. Additionally, VA disability compensation doesn't count toward income limits for federal assistance programs like SNAP (food stamps), though it may affect state-specific benefit calculations. Veterans receiving concurrent retirement and disability pay (CRDP) should note that only the VA disability portion is tax-free; military retirement pay remains taxable unless it's combat-related special compensation (CRSC)."
          }
        },
        {
          "@type": "Question",
          "name": "How long does it take to receive VA disability payments?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "VA disability claim processing times vary significantly based on claim complexity, evidence requirements, and regional workload, but the VA aims to complete claims within 125 days of submission. Initial claims for first-time applicants typically take 3-6 months from submission to decision, while supplemental claims or appeals can take 6-18 months depending on the level of appeal (Supplemental Claim, Higher-Level Review, or Board of Veterans' Appeals). Once your claim is approved, you'll typically receive your first payment within 15 days of the decision date via direct deposit to your bank account. Retroactive payments (back pay) are included in your first payment, calculated from your effective date (usually your claim filing date or date of service separation, whichever is later). To expedite processing, submit a fully developed claim with all medical records, service records, and supporting evidence upfront, or work with an accredited Veterans Service Organization (VSO) representative who can help ensure your claim is complete."
          }
        },
        {
          "@type": "Question",
          "name": "Can I work while receiving VA disability compensation?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes, you can work and earn income while receiving VA disability compensation without any earnings restrictions or benefit reductions. Unlike Social Security Disability Insurance (SSDI) which has strict income limits, VA disability compensation has no income cap regardless of your disability rating percentage. However, if you're rated 100% disabled under Individual Unemployability (TDIU) status, the VA considers you unable to maintain substantially gainful employment, and earning above marginal employment thresholds ($13,000-14,000 annually as of 2025) may trigger a review of your TDIU status. Veterans rated 100% schedular (based on symptom severity rather than employability) can work without restrictions. If you receive Social Security benefits in addition to VA compensation, be aware that Social Security has separate earnings limits that could affect those benefits. The VA encourages veterans to pursue employment through vocational rehabilitation programs, and working doesn't automatically trigger disability re-evaluation unless your condition significantly improves."
          }
        },
        {
          "@type": "Question",
          "name": "What is the difference between VA disability rating and percentage?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "VA disability rating and percentage refer to the same concept - the VA uses these terms interchangeably to express the severity of your service-connected conditions. Your individual disability ratings (assigned to each specific condition like PTSD at 70%, tinnitus at 10%, back injury at 40%) represent how severely each condition impacts your ability to work and function. Your combined disability rating is the mathematical combination of all individual ratings using VA's combined ratings table, always rounded to the nearest 10% increment (0%, 10%, 20%, up to 100%). This combined rating determines your monthly compensation tier and benefit eligibility. For example, you might have individual ratings of 50%, 30%, and 20%, which combine to a 72% rating that rounds to 70% combined - that 70% is what determines your payment and benefits. Higher combined ratings unlock additional benefits like commissary access (50%), CHAMPVA for dependents (100%), and property tax exemptions in many states."
          }
        }
      ]
    }
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
      rel="stylesheet"
    />

    <style>
      /* Base styles */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        /* VA Professional Patriotic Color Palette */
        --primary: #002868;
        --primary-dark: #001a4a;
        --secondary: #bf0a30;
        --secondary-dark: #8b0722;
        --accent: #ffd700;
        --accent-light: #ffeb3b;
        --success: #006847;
        --success-light: #16a34a;
        --warning: #facc15;
        --dark: #1a1f35;
        --gray: #64748b;
        --light-gray: #f0f4f8;
        --white: #ffffff;
        --gradient: linear-gradient(135deg, #002868 0%, #bf0a30 100%);
        --card-gradient: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
        --shadow-color: rgba(0, 40, 104, 0.1);

        /* Service Ribbon Colors for Rating Tiers */
        --rating-service: #dc2626;
        --rating-caution: #facc15;
        --rating-active: #86efac;
        --rating-honor: #ffd700;

        /* Professional Background Pattern */
        --stars-pattern: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23002868' fill-opacity='0.03'%3E%3Cpath d='M20 20l-8-8-8 8 8 8 8-8zm0 0l8-8 8 8-8 8-8-8z'/%3E%3C/g%3E%3C/svg%3E");
      }

      html {
        scroll-behavior: smooth;
        height: 100%;
      }

      body {
        font-family: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;
        background: linear-gradient(
          135deg,
          #f0f9ff 0%,
          #e0f2fe 50%,
          #f0fdfa 100%
        );
        background-image: var(--stars-pattern);
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        padding: 80px 0 0 0;
        color: var(--dark);
        line-height: 1.6;
      }

      .container {
        max-width: 1200px;
        width: 100%;
        margin: 0 auto;
        padding: 0 20px;
      }

      /* Navigation */
      nav {
        position: fixed;
        top: 0;
        width: 100%;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        z-index: 1000;
        padding: 20px 0;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }

      /* Breadcrumb Navigation */
      #breadcrumb-container {
        margin-top: 120px; /* Account for fixed nav */
        position: relative;
        z-index: 998;
      }

      .breadcrumb {
        background: white;
        padding: 12px 0;
        border-bottom: 1px solid #e5e7eb;
        position: relative;
        z-index: 999;
      }

      .breadcrumb-list {
        display: flex;
        align-items: center;
        gap: 8px;
        flex-wrap: wrap;
        font-size: 14px;
      }

      .breadcrumb-item {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .breadcrumb-item:not(:last-child)::after {
        content: "â€º";
        color: #9ca3af;
        font-size: 16px;
        margin-left: 4px;
      }

      .breadcrumb-link {
        color: var(--primary);
        text-decoration: none;
        transition: color 0.2s;
      }

      .breadcrumb-link:hover {
        color: var(--primary-dark);
        text-decoration: underline;
      }

      .breadcrumb-current {
        color: var(--dark);
        font-weight: 600;
      }

      /* Responsive Breadcrumb */
      @media (max-width: 768px) {
        #breadcrumb-container {
          margin-top: 90px; /* Slightly less for mobile but still safe */
        }

        .breadcrumb {
          top: 70px;
          padding: 10px 0;
        }

        .breadcrumb-list {
          font-size: 12px;
          gap: 6px;
        }

        .breadcrumb-item::after {
          font-size: 14px;
          margin-left: 2px;
        }
      }

      nav .container {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .logo {
        text-decoration: none;
        display: flex;
        align-items: center;
        transition: opacity 0.3s;
      }

      .logo:hover {
        opacity: 0.8;
      }

      .nav-links {
        display: flex;
        gap: 40px;
        align-items: center;
      }

      .nav-links a {
        color: var(--dark);
        text-decoration: none;
        font-weight: 500;
        transition: color 0.3s;
      }

      .nav-links a:hover {
        color: var(--primary);
      }

      /* Mobile Menu */
      .mobile-menu-btn {
        display: none;
        flex-direction: column;
        justify-content: space-around;
        width: 30px;
        height: 30px;
        background: transparent;
        border: none;
        cursor: pointer;
        padding: 0;
        z-index: 1001;
      }

      .hamburger-line {
        width: 25px;
        height: 3px;
        background: var(--dark);
        transition: all 0.3s ease;
      }

      /* Responsive */
      @media (max-width: 768px) {
        .nav-links {
          display: none;
        }

        .mobile-menu-btn {
          display: flex;
        }
      }

      /* Calculator Layout */
      .calculator-wrapper {
        display: grid;
        grid-template-columns: 1fr;
        gap: 2rem;
        width: 100%;
        max-width: 1400px;
        margin: 0 auto;
      }

      /* Ad columns removed */

      .calculator-main {
        background: var(--card-gradient);
        border-radius: 16px;
        box-shadow: 0 8px 32px var(--shadow-color);
        border: 1px solid rgba(255, 255, 255, 0.2);
        overflow: hidden;
      }

      .calculator-card {
        padding: 1.5rem;
        background: var(--white);
        border-radius: 6px;
        box-shadow: 0 4px 12px rgba(0, 40, 104, 0.1);
        border: 1px solid rgba(0, 40, 104, 0.1);
      }

      .calculator-header-compact {
        text-align: center;
        margin-bottom: 2rem;
        padding: 2rem 1rem;
        background: var(--white);
        border-radius: 8px;
        border: 2px solid var(--accent);
        position: relative;
        box-shadow: 0 4px 12px rgba(0, 40, 104, 0.1);
      }

      .calculator-header-compact::before {
        content: "ðŸ‡ºðŸ‡¸";
        font-size: 3rem;
        display: block;
        margin-bottom: 1rem;
      }

      .calculator-header-compact::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 80px;
        height: 3px;
        background: var(--accent);
        border-radius: 2px;
      }

      .calculator-header-compact h1 {
        font-size: 2.2rem;
        font-weight: 700;
        color: var(--primary);
        margin-bottom: 0.75rem;
        line-height: 1.2;
        letter-spacing: -0.02em;
      }

      .calculator-header-compact p {
        color: var(--gray);
        font-size: 1.1rem;
        font-weight: 500;
        margin-bottom: 0.5rem;
      }

      .trust-badge {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        margin-top: 0.75rem;
        padding: 0.75rem 1.25rem;
        background: rgba(0, 104, 71, 0.1);
        border: 1px solid var(--success);
        border-radius: 6px;
        font-size: 0.85rem;
        color: var(--success);
        font-weight: 600;
        box-shadow: 0 2px 4px rgba(0, 104, 71, 0.1);
      }

      .trust-badge .checkmark {
        color: var(--success);
        font-weight: 700;
        font-size: 0.9rem;
      }

      .trust-badge .separator {
        color: var(--gray);
        margin: 0 0.25rem;
        font-weight: 400;
      }

      /* Floating Guide Button - Mobile Only */
      .floating-guide-btn {
        display: none;
        position: fixed;
        bottom: 10px;
        right: 10px;
        background: var(--primary);
        color: white;
        border: none;
        border-radius: 25px;
        padding: 8px 12px;
        font-size: 0.75rem;
        font-weight: 600;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        cursor: pointer;
        z-index: 1000;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 0.3rem;
      }

      .floating-guide-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        background: var(--primary-dark, #0ea5e9);
      }

      .floating-guide-btn:active {
        transform: translateY(0);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      }

      .floating-guide-btn .guide-emoji {
        font-size: 0.8rem;
      }

      .introduction-box {
        background: #f0f9ff;
        border: 1px solid #bae6fd;
        border-radius: 8px;
        padding: 1rem;
        margin-top: 1rem;
        border-left: 4px solid #0ea5e9;
      }

      .instructions {
        background: #f8fafc;
        border: 1px solid #e2e8f0;
        border-radius: 8px;
        padding: 1rem;
        margin-top: 1rem;
        border-left: 4px solid var(--primary);
      }

      .introduction-box p {
        margin: 0;
        color: var(--dark);
        font-size: 0.95rem;
        line-height: 1.5;
      }

      .introduction-box a {
        color: #0ea5e9;
        text-decoration: none;
        font-weight: 500;
      }

      .introduction-box a:hover {
        text-decoration: underline;
      }

      .instructions p {
        margin: 0;
        color: var(--dark);
        font-size: 0.95rem;
        line-height: 1.5;
      }

      /* Form Styles */
      .section-title {
        font-size: 1.5rem;
        font-weight: 600;
        color: var(--dark);
        margin-bottom: 1.5rem;
        border-bottom: 2px solid var(--primary);
        padding-bottom: 0.5rem;
      }

      .disability-inputs {
        margin-bottom: 2rem;
      }

      .disability-item {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 0.75rem;
        padding: 0.75rem;
        background: var(--light-gray);
        border-radius: 6px;
        border: 1px solid #e5e7eb;
        transition: all 0.2s ease;
      }

      .disability-item:hover {
        border-color: var(--primary);
        box-shadow: 0 4px 12px rgba(6, 102, 255, 0.1);
      }

      .disability-item label {
        font-weight: 600;
        min-width: 120px;
        color: var(--dark);
      }

      .disability-select {
        flex: 1;
        padding: 12px;
        border: 2px solid #e5e7eb;
        border-radius: 8px;
        font-size: 16px;
        background: white;
        transition: border-color 0.3s ease;
      }

      .disability-select:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(6, 102, 255, 0.1);
      }

      .bilateral-checkboxes {
        display: flex;
        gap: 0.75rem;
        flex-wrap: wrap;
      }

      .bilateral-checkboxes label {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.9rem;
        cursor: pointer;
        padding: 0.5rem;
        border-radius: 6px;
        transition: background 0.2s ease;
      }

      .bilateral-checkboxes label:hover {
        background: rgba(6, 102, 255, 0.05);
      }

      .bilateral-checkboxes input[type="checkbox"] {
        cursor: pointer;
        width: 18px;
        height: 18px;
      }

      .remove-btn {
        background: #ef4444;
        color: white;
        border: none;
        padding: 10px 15px;
        border-radius: 8px;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.3s ease;
      }

      .remove-btn:hover {
        background: #dc2626;
        transform: translateY(-2px);
      }

      .add-disability-btn {
        background: var(--primary);
        color: var(--accent);
        border: 2px solid var(--primary);
        padding: 16px 28px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 16px;
        font-weight: 700;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        gap: 10px;
        margin: 0 auto;
        min-height: 44px;
        box-shadow: 0 2px 4px rgba(0, 40, 104, 0.2);
      }

      .add-disability-btn:hover {
        background: var(--primary-dark);
        border-color: var(--primary-dark);
        box-shadow: 0 4px 8px rgba(0, 40, 104, 0.3),
          0 0 0 3px rgba(255, 215, 0, 0.2);
        transform: none;
      }

      .add-disability-btn:focus {
        outline: none;
        box-shadow: 0 0 0 3px rgba(255, 215, 0, 0.5);
      }

      /* Results Section - Compact Combined Rating */
      .combined-rating-compact {
        background: var(--primary);
        color: white;
        padding: 1.5rem;
        border-radius: 6px;
        text-align: center;
        margin: 1.5rem 0;
        max-width: 500px;
        margin-left: auto;
        margin-right: auto;
        border: 2px solid var(--accent);
        position: relative;
        box-shadow: 0 4px 12px rgba(0, 40, 104, 0.2);
      }

      .combined-rating-compact::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: var(--accent);
        border-radius: 6px 6px 0 0;
      }

      .rating-summary {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 1rem;
        margin-bottom: 1rem;
      }

      .rating-label {
        font-size: 1.1rem;
        font-weight: 600;
      }

      .rating-number {
        font-size: 2rem;
        font-weight: bold;
      }

      .progress-bar {
        width: 100%;
        height: 24px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 4px;
        overflow: hidden;
        margin: 1rem 0;
        border: 1px solid rgba(255, 215, 0, 0.3);
      }

      .progress-fill {
        height: 100%;
        transition: width 0.8s ease;
        border-radius: 3px;
        position: relative;
      }

      .progress-fill::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
          90deg,
          transparent 0%,
          rgba(255, 255, 255, 0.3) 50%,
          transparent 100%
        );
        animation: shimmer 2s infinite;
      }

      @keyframes shimmer {
        0% {
          transform: translateX(-100%);
        }
        100% {
          transform: translateX(100%);
        }
      }

      @keyframes slideDown {
        from {
          opacity: 0;
          max-height: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          max-height: 2000px;
          transform: translateY(0);
        }
      }

      .progress-0-30 {
        background: var(--rating-service);
      }
      .progress-40-60 {
        background: var(--rating-caution);
      }
      .progress-70-90 {
        background: var(--rating-active);
      }
      .progress-100 {
        background: var(--rating-honor);
      }

      .results-section-prominent {
        background: var(--success);
        color: white;
        padding: 1.5rem;
        border-radius: 6px;
        text-align: center;
        margin: 1.5rem 0;
        box-shadow: 0 4px 12px rgba(0, 104, 71, 0.2);
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
        border: 2px solid var(--accent);
        position: relative;
      }

      .results-section-prominent::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: var(--accent);
        border-radius: 6px 6px 0 0;
      }

      .results-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
      }

      .results-header h2 {
        font-size: 1.5rem;
        margin: 0;
      }

      .clear-btn {
        background: rgba(255, 255, 255, 0.2);
        color: white;
        border: 1px solid rgba(255, 255, 255, 0.3);
        padding: 0.5rem 1rem;
        border-radius: 8px;
        cursor: pointer;
        font-weight: 500;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .clear-btn:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: translateY(-1px);
      }

      .payment-display {
        margin: 1rem 0;
      }

      .monthly-payment {
        font-size: 2.5rem;
        font-weight: bold;
        margin: 0.5rem 0;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .annual-payment {
        font-size: 1.2rem;
        opacity: 0.9;
        margin-bottom: 1rem;
      }

      .breakdown {
        background: rgba(255, 255, 255, 0.1);
        padding: 1.5rem;
        border-radius: 12px;
        margin-top: 1rem;
      }

      .breakdown h4 {
        margin-bottom: 1rem;
        font-size: 1.2rem;
      }

      .breakdown-item {
        display: flex;
        justify-content: space-between;
        margin-bottom: 0.5rem;
        padding: 0.5rem 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.2);
      }

      /* Removed old action buttons - now integrated into results header */

      /* Tab Interface */
      .tab-container {
        margin-bottom: 2rem;
      }

      .tab-buttons {
        display: flex;
        background: var(--light-gray);
        border-radius: 6px 6px 0 0;
        overflow: hidden;
        margin-bottom: 0;
      }

      .tab-button {
        flex: 1;
        padding: 1rem 1.5rem;
        background: transparent;
        border: none;
        font-family: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;
        font-weight: 600;
        font-size: 1rem;
        color: var(--gray);
        cursor: pointer;
        transition: all 0.2s ease;
        border-radius: 6px 6px 0 0;
        min-height: 44px;
      }

      .tab-button.active {
        background: white;
        color: var(--primary);
        box-shadow: 0 -2px 8px rgba(0, 40, 104, 0.15);
        border-bottom: 3px solid var(--accent);
      }

      .tab-button:hover:not(.active) {
        background: rgba(255, 255, 255, 0.7);
        color: var(--dark);
      }

      .tab-button:focus {
        outline: none;
        box-shadow: 0 0 0 2px rgba(255, 215, 0, 0.5);
      }

      .tab-content {
        background: white;
        border-radius: 0 0 6px 6px;
        box-shadow: 0 4px 12px rgba(0, 40, 104, 0.1);
        overflow: hidden;
      }

      .tab-panel {
        display: none;
        padding: 2rem;
      }

      .tab-panel.active {
        display: block;
      }

      /* Dependents Section Styling - 2-column layout for desktop */
      .dependents-section {
        margin-bottom: 0;
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 2rem;
      }

      .dependent-group {
        margin-bottom: 0;
        padding-bottom: 0;
        border-bottom: none;
      }

      .dependent-group:last-child {
        border-bottom: none;
        margin-bottom: 0;
        padding-bottom: 0;
      }

      .dependent-group h4 {
        color: var(--dark);
        margin-bottom: 1.5rem;
        font-size: 1.2rem;
        font-weight: 600;
        border-bottom: 2px solid var(--primary);
        padding-bottom: 0.5rem;
      }

      .checkbox-group {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 0.75rem;
        padding: 0.75rem;
        background: white;
        border-radius: 6px;
        border: 2px solid #e5e7eb;
        transition: all 0.2s ease;
        min-height: 44px;
      }

      .checkbox-group:hover {
        border-color: var(--primary);
        box-shadow: 0 2px 8px rgba(0, 40, 104, 0.1);
      }

      .checkbox-group input[type="checkbox"] {
        width: 24px;
        height: 24px;
        accent-color: var(--primary);
        cursor: pointer;
        border-radius: 4px;
      }

      .checkbox-group label {
        font-weight: 600;
        color: var(--dark);
        cursor: pointer;
        flex: 1;
        font-size: 1rem;
      }

      .input-group {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 0.75rem;
        padding: 0.75rem;
        background: white;
        border-radius: 6px;
        border: 2px solid #e5e7eb;
        transition: all 0.2s ease;
        min-height: 44px;
      }

      .input-group:hover {
        border-color: var(--primary);
        box-shadow: 0 2px 8px rgba(0, 40, 104, 0.1);
      }

      .input-group label {
        min-width: 180px;
        font-weight: 500;
        color: var(--dark);
      }

      .input-group input[type="number"] {
        padding: 12px 16px;
        border: 2px solid #e5e7eb;
        border-radius: 8px;
        font-size: 16px;
        width: 120px;
        text-align: center;
        background: white;
        transition: border-color 0.3s ease;
      }

      .input-group input[type="number"]:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(6, 102, 255, 0.1);
      }

      .input-group input[type="number"]:hover {
        border-color: var(--primary);
      }

      /* Mobile Responsive */
      @media (max-width: 1200px) {
        .calculator-wrapper {
          grid-template-columns: 1fr;
          gap: 1rem;
        }

        /* Ad columns removed */
      }

      @media (max-width: 768px) {
        body {
          padding-top: 80px; /* Account for fixed navbar */
          padding-left: 0.5rem;
          padding-right: 0.5rem;
          padding-bottom: 60px; /* Reduced from 80px */
        }

        .breadcrumb {
          margin-top: 70px; /* Slightly less for mobile */
        }

        /* Compact header */
        .calculator-header-compact {
          padding: 0.5rem 0.5rem; /* Reduced from 1rem 0.75rem */
          margin-bottom: 0.75rem; /* Reduced from 1rem */
        }

        .calculator-header-compact h1 {
          font-size: 1.2rem; /* Reduced from 1.5rem */
          margin-bottom: 0.25rem; /* Reduced from 0.5rem */
          line-height: 1.1;
        }

        .calculator-header-compact::before {
          display: block !important; /* Show American flag emoji */
          font-size: 2rem; /* Smaller on mobile */
          margin-bottom: 0.5rem;
        }

        .calculator-header-compact p {
          font-size: 0.75rem;
          margin: 0;
        }

        /* Hide the "Last updated" text on mobile */
        .calculator-header-compact p:last-of-type {
          display: none;
        }

        .trust-badge {
          font-size: 0.7rem;
          padding: 0.35rem 0.6rem;
          gap: 0.4rem;
          display: flex;
          flex-wrap: wrap;
          justify-content: center;
        }

        /* Hide quick stats on mobile */
        .quick-stats {
          display: none;
        }

        /* Hide calculator info box on mobile */
        .calculator-info-box {
          display: none;
        }

        /* Show floating guide button on mobile */
        .floating-guide-btn {
          display: flex !important;
        }

        /* Hide desktop tabs, show dropdown */
        .tab-buttons {
          display: none;
        }

        .calculator-card {
          padding: 0.75rem;
          margin-bottom: 0.5rem;
          border-radius: 12px;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }

        .calculator-wrapper {
          padding: 0;
          max-width: 100%;
          margin: 0;
        }

        .calculator-main {
          width: 100%;
          padding: 0.5rem;
        }

        .tab-button {
          padding: 0.6rem 0.75rem;
          font-size: 0.85rem;
        }

        .tab-panel {
          padding: 0.75rem; /* Reduced from 1rem */
        }

        .section-title {
          font-size: 1.1rem; /* Reduced from 1.2rem */
          margin-bottom: 0.5rem; /* Reduced from 0.75rem */
          padding-bottom: 0.2rem; /* Reduced from 0.25rem */
        }

        .disability-item {
          flex-direction: column;
          align-items: stretch;
          gap: 0.75rem; /* Increased spacing for mobile */
          padding: 1rem; /* Increased padding for touch targets */
          margin-bottom: 1rem; /* Increased margin between rows */
          border-radius: 8px;
        }

        .disability-item label {
          font-size: 0.95rem; /* Increased for better readability */
          margin-bottom: 0.5rem; /* Increased spacing */
          font-weight: 600;
          color: var(--dark);
        }

        .disability-select {
          padding: 14px 16px; /* Increased for 44px minimum touch target */
          font-size: 16px; /* Prevent zoom on iOS */
          min-height: 48px; /* Exceeds 44px minimum */
          appearance: none; /* Remove dropdown arrow */
          background-image: none; /* Remove dropdown arrow */
          border: 2px solid #e5e7eb;
          border-radius: 8px;
          background: white;
          font-weight: 500;
        }

        .remove-btn {
          padding: 12px 20px; /* Increased for touch target */
          font-size: 0.9rem;
          min-height: 48px; /* Exceeds 44px minimum */
          font-weight: 600;
          border-radius: 8px;
        }

        .add-disability-btn {
          margin-bottom: 1rem; /* Increased margin */
          padding: 16px 24px; /* Larger, more prominent */
          font-size: 16px; /* Prevent zoom on iOS */
          min-height: 56px; /* Very large and prominent */
          font-weight: 700;
          border-radius: 10px;
          box-shadow: 0 4px 12px rgba(6, 102, 255, 0.25);
        }

        .bilateral-checkboxes {
          gap: 0.75rem;
          flex-wrap: wrap;
        }

        .bilateral-checkboxes label {
          padding: 0.75rem 1rem;
          border-radius: 8px;
          min-height: 44px;
          display: flex;
          align-items: center;
          font-size: 0.95rem;
        }

        .bilateral-checkboxes input[type="checkbox"] {
          width: 22px;
          height: 22px;
        }

        /* Mobile dependents - single column */
        .dependents-section {
          display: block;
        }

        .dependent-group {
          margin-bottom: 1rem; /* Reduced from 1.5rem */
          padding: 0;
        }

        .dependent-group h4 {
          font-size: 1rem; /* Reduced from 1.1rem */
          margin-bottom: 0.75rem; /* Reduced from 1rem */
        }

        .checkbox-group {
          padding: 0.75rem; /* Increased for touch targets */
          margin-bottom: 0.75rem;
          min-height: 48px; /* Exceeds 44px minimum */
          border-radius: 8px;
          background: white;
          border: 1px solid #e5e7eb;
        }

        .checkbox-group input[type="checkbox"] {
          width: 22px; /* Larger checkbox */
          height: 22px;
          min-width: 22px;
          min-height: 22px;
        }

        .checkbox-group label {
          font-size: 0.95rem; /* Increased for readability */
          line-height: 1.4;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 0.5rem;
        }

        .input-group {
          padding: 0.75rem; /* Increased padding */
          margin-bottom: 0.75rem;
          min-height: auto;
          flex-direction: column;
          align-items: stretch;
          gap: 0.5rem;
        }

        .input-group label {
          min-width: auto;
          text-align: left;
          font-size: 0.95rem; /* Increased for readability */
          font-weight: 600;
          color: var(--dark);
          margin-bottom: 0.25rem;
        }

        .input-group input[type="number"],
        .input-group input[type="date"],
        .input-group select {
          width: 100%;
          padding: 14px 16px;
          font-size: 16px; /* Prevent zoom on iOS */
          min-height: 48px; /* Exceeds 44px minimum */
          border: 2px solid #e5e7eb;
          border-radius: 8px;
          background: white;
          font-weight: 500;
        }

        .monthly-payment {
          font-size: 1.5rem; /* Reduced from 1.75rem */
        }

        .annual-payment {
          font-size: 0.9rem; /* Reduced from 1rem */
        }

        .combined-rating-compact {
          max-width: 100%;
          padding: 1rem; /* Increased for readability */
          margin: 1rem 0; /* Increased spacing */
          position: sticky;
          top: 60px; /* Stick below nav */
          z-index: 10;
          background: linear-gradient(135deg, rgba(0, 40, 104, 0.05), rgba(0, 40, 104, 0.02));
          border-radius: 12px;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
          border: 2px solid var(--primary);
          color: var(--dark) !important;
        }

        .combined-rating-compact .rating-summary,
        .combined-rating-compact .rating-label,
        .combined-rating-compact .rating-number,
        .combined-rating-compact p {
          color: var(--dark) !important;
        }

        .rating-number {
          font-size: 1.75rem; /* Increased for visibility */
          font-weight: 900;
          color: var(--primary) !important;
        }

        .progress-bar {
          height: 24px; /* Increased for visibility */
          margin: 0.75rem 0;
          border-radius: 12px;
        }

        .results-section-prominent {
          max-width: 100%;
          padding: 1rem;
          margin: 1rem 0;
          position: sticky;
          top: 80px; /* Stick below combined rating */
          z-index: 9;
          background: white;
          border-radius: 12px;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .results-header {
          flex-direction: column;
          gap: 1rem;
          text-align: center;
        }

        .clear-btn {
          min-height: 48px; /* Touch target size */
          padding: 14px 24px;
          font-size: 0.95rem;
          font-weight: 700;
        }

        /* Mobile tab buttons and primary actions */
        .mobile-tab-select {
          width: 100%;
          padding: 14px 16px;
          font-size: 16px; /* Prevent zoom on iOS */
          min-height: 48px;
          border: 2px solid #e5e7eb;
          border-radius: 8px;
          background: white;
          font-weight: 600;
        }

        /* Compact introduction and instructions on mobile */
        .introduction-box,
        .instructions {
          font-size: 0.85rem;
          padding: 0.75rem;
          margin-top: 0.75rem;
        }

        /* Calculation breakdown on mobile */
        #calculationBreakdown {
          margin-top: 1rem;
          padding: 1rem;
        }

        #calculationBreakdown h4 {
          font-size: 1rem;
          margin-bottom: 0.75rem;
        }

        #breakdownSteps > div {
          padding: 0.75rem; /* Increased for readability */
          font-size: 0.95rem;
          line-height: 1.6;
          border-radius: 6px;
        }

        /* Mobile guide toggle button */
        .mobile-guide-toggle {
          display: block;
          width: 100%;
          padding: 1rem;
          background: var(--primary);
          color: white;
          border: none;
          border-radius: 6px;
          font-weight: 600;
          margin-top: 1rem;
          font-size: 0.9rem;
          min-height: 48px; /* Touch target */
        }

        .mobile-guide-toggle:hover {
          background: var(--primary-dark);
        }

        /* Hide comprehensive guide initially on mobile */
        .comprehensive-guide {
          display: none;
        }

        .comprehensive-guide.show {
          display: block;
        }

        /* Hide mobile guide toggle on desktop */
        .mobile-guide-toggle {
          display: none;
        }

        .results-header h2 {
          font-size: 1.3rem;
        }

        .clear-btn {
          align-self: center;
        }

        .mobile-ad-bottom {
          position: fixed;
          bottom: 0;
          left: 0;
          right: 0;
          background: white;
          padding: 0.5rem;
          box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.1);
          z-index: 999;
        }

        /* Mobile ad placeholders removed */

        /* Mobile responsive for disability ratings two-column layout */
        #ratings-tab > div {
          grid-template-columns: 1fr !important;
          gap: 1.5rem !important;
        }

        /* Mobile tab dropdown */
        .mobile-tab-select {
          display: block !important;
          width: 100%;
          padding: 12px 16px;
          font-size: 16px;
          font-weight: 600;
          background: var(--primary);
          color: white;
          border: 2px solid var(--accent);
          border-radius: 6px;
          margin-bottom: 0.75rem; /* Reduced from 1rem */
          appearance: none;
          background-image: none; /* Remove dropdown arrow */
          min-height: 44px;
        }

        /* Mobile Footer - Ultra Minimal */
        .footer {
          padding: 20px 0 15px; /* Much smaller padding */
          margin-top: 30px; /* Reduced margin */
        }

        .footer-content {
          display: none !important; /* Hide main footer content on mobile */
        }

        .footer-links {
          display: none !important; /* Hide footer links on mobile */
        }

        .footer-brand {
          display: none !important; /* Hide brand section on mobile */
        }

        /* Show only minimal footer bottom on mobile */
        .footer-bottom {
          padding-top: 0; /* No top padding */
          flex-direction: column;
          gap: 8px; /* Minimal gap */
          text-align: center;
          border-top: 1px solid rgba(255, 255, 255, 0.2);
        }

        .footer-bottom-left p {
          font-size: 11px; /* Very small copyright text */
          margin: 0;
          color: #9ca3af;
        }

        .footer-bottom-right {
          justify-content: center;
        }

        .footer-contact-link {
          font-size: 12px;
          padding: 6px 12px;
          background: rgba(255, 255, 255, 0.1);
          border-radius: 4px;
          text-decoration: none;
        }

        /* Add minimal mobile footer links */
        .footer-mobile-links {
          display: flex;
          justify-content: center;
          gap: 15px;
          margin-bottom: 10px;
          flex-wrap: wrap;
        }

        .footer-mobile-links a {
          color: #9ca3af;
          text-decoration: none;
          font-size: 11px;
          padding: 4px 8px;
          border-radius: 3px;
          transition: color 0.3s;
        }

        .footer-mobile-links a:hover {
          color: white;
          background: rgba(255, 255, 255, 0.1);
        }

        /* Hide breadcrumb on mobile */
        .breadcrumb {
          display: none !important;
        }

        /* Results section mobile optimization */
        .result-card {
          padding: 1rem 0.75rem;
          margin: 0.75rem 0;
        }

        .result-card h3 {
          font-size: 1rem;
          margin-bottom: 0.5rem;
        }

        .payment-display {
          padding: 1rem;
          display: block !important;
          visibility: visible !important;
          opacity: 1 !important;
          background: white;
          border: 2px solid var(--accent);
          border-radius: 12px;
          margin: 1rem 0;
        }

        .monthly-payment {
          font-size: 1.75rem !important;
          font-weight: 800;
          color: var(--success) !important;
          text-align: center;
          margin-bottom: 0.5rem;
          display: block !important;
        }

        .annual-payment {
          font-size: 1rem !important;
          margin-top: 0.5rem;
          color: var(--dark) !important;
          text-align: center;
          display: block !important;
        }

        .payment-breakdown {
          font-size: 0.85rem;
          padding: 0.75rem;
          margin-top: 0.75rem;
          display: block !important;
        }

        .breakdown {
          display: block !important;
          visibility: visible !important;
          opacity: 1 !important;
          background: white;
          padding: 1rem;
          border-radius: 8px;
          margin-top: 1rem;
          border: 1px solid #e5e7eb;
        }

        .breakdown h4 {
          color: var(--dark) !important;
          font-size: 1rem;
          font-weight: 700;
          margin-bottom: 0.75rem;
        }

        .breakdown-item {
          display: flex !important;
          justify-content: space-between;
          padding: 0.75rem 0;
          color: var(--dark) !important;
          border-bottom: 1px solid #e5e7eb;
        }

        .breakdown-item:last-child {
          border-bottom: none;
        }

        /* How to Use section mobile */
        .calculator-header-compact + section {
          padding: 0 1rem !important;
          margin: 1rem auto !important;
        }

        .calculator-header-compact + section > div {
          padding: 1rem !important;
        }

        .calculator-header-compact + section h2 {
          font-size: 1.1rem !important;
          margin-bottom: 1rem !important;
        }

        .calculator-header-compact + section h3 {
          font-size: 0.95rem !important;
          margin-bottom: 0.4rem !important;
        }

        .calculator-header-compact + section p {
          font-size: 0.85rem !important;
          line-height: 1.5 !important;
        }

        /* Step number badges */
        .calculator-header-compact + section [style*="min-width: 36px"] {
          min-width: 32px !important;
          height: 32px !important;
          font-size: 0.95rem !important;
        }

        /* Tables and charts mobile */
        .pay-chart {
          overflow-x: auto;
          -webkit-overflow-scrolling: touch;
          margin: 1rem -0.75rem;
          padding: 0 0.75rem;
        }

        .pay-chart table {
          font-size: 0.85rem;
          min-width: 100%; /* Changed from 600px */
          max-width: 100%; /* Ensure it doesn't exceed container */
          display: block; /* Make it scrollable */
          overflow-x: auto;
        }

        .pay-chart th,
        .pay-chart td {
          padding: 0.5rem 0.35rem; /* Reduced from 0.75rem 0.5rem */
          white-space: normal; /* Allow wrapping instead of nowrap */
          font-size: 0.75rem; /* Slightly smaller on mobile */
          word-break: break-word; /* Break long words */
        }

        .pay-chart th {
          font-size: 0.8rem;
          position: sticky;
          left: 0;
          background: var(--primary);
          z-index: 1;
        }

        /* Add scroll hint */
        .pay-chart::after {
          content: "â† Swipe to see more â†’";
          display: block;
          text-align: center;
          font-size: 0.75rem;
          color: var(--gray);
          padding: 0.5rem;
          font-style: italic;
        }

        /* Comprehensive guide mobile */
        .comprehensive-guide {
          padding: 0 0.75rem;
          padding-top: 60px;
        }

        .comprehensive-guide h2 {
          font-size: 1.3rem;
          margin-bottom: 1rem;
          padding: 0 0.25rem;
        }

        .guide-section {
          margin-bottom: 1rem;
          border-radius: 8px;
        }

        .guide-section summary {
          padding: 1rem;
          font-size: 1rem;
          line-height: 1.3;
          cursor: pointer;
        }

        .guide-content {
          padding: 1rem;
          font-size: 0.9rem;
          line-height: 1.6;
        }

        .guide-content h3 {
          font-size: 1.1rem;
          margin: 1rem 0 0.75rem;
        }

        .guide-content h4 {
          font-size: 1rem;
          margin: 0.75rem 0 0.5rem;
        }

        .guide-content p {
          margin-bottom: 0.75rem;
        }

        .guide-content ul,
        .guide-content ol {
          margin-left: 1.25rem;
          margin-bottom: 0.75rem;
        }

        .guide-content li {
          margin-bottom: 0.5rem;
          line-height: 1.5;
        }

        /* Content sections mobile */
        .content-section {
          padding: 1rem;
          margin-bottom: 1rem;
          border-radius: 12px;
        }

        .content-section h2 {
          font-size: 1.4rem;
          margin-bottom: 1rem;
          padding-bottom: 0.5rem;
        }

        .content-section h3 {
          font-size: 1.2rem;
          margin: 1rem 0 0.75rem;
        }

        .content-section h4 {
          font-size: 1.05rem;
          margin: 0.75rem 0 0.5rem;
        }

        .content-section p {
          font-size: 0.9rem;
          line-height: 1.6;
          margin-bottom: 0.75rem;
        }

        .example-box {
          padding: 1rem;
          margin: 1rem 0;
          border-radius: 8px;
          font-size: 0.9rem;
        }

        .example-box h4 {
          font-size: 1rem;
          margin-bottom: 0.75rem;
        }

        /* Resource cards mobile */
        .resources-grid {
          grid-template-columns: 1fr;
          gap: 1rem;
        }

        .resource-card {
          padding: 1rem;
        }

        .resource-card h3 {
          font-size: 1.1rem;
        }

        /* Global mobile typography */
        h1 {
          font-size: 1.5rem !important;
          line-height: 1.2;
        }

        h2 {
          font-size: 1.3rem !important;
          line-height: 1.3;
        }

        h3 {
          font-size: 1.15rem !important;
          line-height: 1.3;
        }

        /* Improve touch scrolling */
        * {
          -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
          -webkit-touch-callout: none;
        }

        /* Ensure no horizontal scroll - CRITICAL */
        html, body {
          overflow-x: hidden;
          max-width: 100vw;
        }

        .container {
          padding-left: 1rem;
          padding-right: 1rem;
          max-width: 100%;
          overflow-x: hidden; /* Add this */
        }

        /* Fix any elements that might overflow */
        * {
          max-width: 100%;
        }

        /* Specifically fix tables */
        table {
          width: 100% !important;
          max-width: 100% !important;
          table-layout: auto;
        }

        .pay-chart {
          overflow-x: auto;
          -webkit-overflow-scrolling: touch;
          margin: 1rem -0.75rem;
          padding: 0 0.75rem;
          max-width: calc(100vw - 2rem); /* Ensure container respects viewport */
        }

        .pay-chart table {
          font-size: 0.85rem;
          min-width: 100%; /* Changed from 600px */
          max-width: 100%;
          display: block; /* Make it scrollable */
          overflow-x: auto;
        }

        .pay-chart th,
        .pay-chart td {
          padding: 0.5rem 0.35rem; /* Reduced from 0.75rem 0.5rem */
          white-space: normal; /* Allow wrapping instead of nowrap */
          font-size: 0.75rem; /* Slightly smaller on mobile */
          word-break: break-word; /* Break long words */
        }

        /* Ensure calculator wrapper doesn't overflow */
        .calculator-wrapper {
          padding: 0;
          max-width: 100%;
          margin: 0;
          overflow-x: hidden; /* Add this */
        }

        .calculator-main {
          width: 100%;
          max-width: 100%; /* Add this */
          padding: 0.5rem;
          overflow-x: hidden; /* Add this */
        }

        /* Fix tab panels */
        .tab-panel {
          padding: 0.75rem;
          max-width: 100%; /* Add this */
          overflow-x: hidden; /* Add this */
        }

        /* Ensure all cards fit */
        .calculator-card {
          padding: 0.75rem;
          margin-bottom: 0.5rem;
          border-radius: 12px;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
          max-width: 100%; /* Add this */
          overflow-x: hidden; /* Add this */
        }

        /* Mobile-specific utility classes */
        .mobile-only {
          display: block !important;
        }

        .desktop-only {
          display: none !important;
        }

        /* Improve form elements on mobile */
        input[type="text"],
        input[type="number"],
        input[type="date"],
        select,
        textarea {
          font-size: 16px !important; /* Prevents iOS zoom */
          max-width: 100%;
        }


        .footer {
          display: none !important;
        }

        body {
          padding-top: 0 !important;
          padding-bottom: 100px !important; /* Space for sticky bar */
        }

        /* Mobile sticky results bar */
        .mobile-results-sticky {
          position: fixed;
          bottom: 0;
          left: 0;
          right: 0;
          background: white;
          box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.15);
          padding: 1rem;
          z-index: 1000;
          border-top: 3px solid var(--primary);
          display: block !important;
        }

        .mobile-results-sticky button {
          touch-action: manipulation;
          min-height: 44px;
        }

        /* Collapsible sections */
        .mobile-collapsible-section {
          background: white;
          border: 2px solid #e5e7eb;
          border-radius: 12px;
          margin-bottom: 1rem;
          overflow: hidden;
        }

        .mobile-collapsible-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 1rem;
          cursor: pointer;
          background: linear-gradient(135deg, rgba(0, 40, 104, 0.05), rgba(0, 40, 104, 0.02));
          user-select: none;
          touch-action: manipulation;
          min-height: 60px;
        }

        .mobile-collapsible-header h3 {
          font-size: 1.1rem;
          font-weight: 700;
          color: var(--dark);
          margin: 0;
          display: flex;
          align-items: center;
          gap: 0.5rem;
        }

        .mobile-collapsible-badge {
          font-size: 0.75rem;
          background: var(--success);
          color: white;
          padding: 0.25rem 0.5rem;
          border-radius: 12px;
          font-weight: 600;
          margin-left: 0.5rem;
        }

        .mobile-collapsible-icon {
          font-size: 1.5rem;
          color: var(--primary);
          transition: transform 0.3s ease;
        }

        .mobile-collapsible-icon.expanded {
          transform: rotate(180deg);
        }

        .mobile-collapsible-content {
          max-height: 0;
          overflow: hidden;
          transition: max-height 0.3s ease;
        }

        .mobile-collapsible-content.expanded {
          max-height: 2000px;
          padding: 1rem;
        }

        .mobile-section-empty-state {
          color: var(--gray);
          font-size: 0.9rem;
          font-style: italic;
        }

        /* Advanced Options collapsed by default on mobile */
        #advancedContent {
          max-height: 0;
        }
        
        #advancedIcon {
          transform: rotate(0deg);
        }

        /* Disability section should not be collapsible - always show */
        #disabilities-tab {
          display: block !important;
        }
        
        /* Make sure disability inputs are prominent */
        .disability-item {
          background: white;
          border: 2px solid #e5e7eb;
          border-radius: 12px;
          padding: 1.25rem;
          margin-bottom: 1rem;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }
        
        /* Highlight the section header */
        .section-title {
          background: linear-gradient(135deg, rgba(0, 40, 104, 0.08), rgba(0, 40, 104, 0.03));
          padding: 1rem;
          border-radius: 10px;
          margin-bottom: 1rem;
          display: flex;
          align-items: center;
          gap: 0.5rem;
        }
        
        .section-title::before {
          content: "ðŸŽ–ï¸";
          font-size: 1.5rem;
        }

        /* Touch feedback */
        .mobile-collapsible-header:active {
          background: linear-gradient(135deg, rgba(0, 40, 104, 0.1), rgba(0, 40, 104, 0.05));
          transform: scale(0.98);
        }

        button:active,
        .btn:active {
          transform: scale(0.95);
          transition: transform 0.1s ease;
        }

        /* Smooth transitions */
        * {
          -webkit-tap-highlight-color: rgba(0, 40, 104, 0.1);
          transition: background-color 0.2s ease, transform 0.1s ease;
        }

        /* Loading state for calculations */
        .calculating {
          opacity: 0.6;
          pointer-events: none;
        }

        /* Pulse animation for new results */
        @keyframes pulse {
          0% { transform: scale(1); }
          50% { transform: scale(1.05); }
          100% { transform: scale(1); }
        }

        .mobile-results-sticky.updated {
          animation: pulse 0.3s ease;
        }

        .mobile-tab-select {
          font-size: 16px !important; /* Prevent iOS zoom */
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .mobile-tab-select:focus {
          outline: none;
          border-color: var(--secondary);
          box-shadow: 0 0 0 3px rgba(191, 10, 48, 0.1);
        }

        /* Hide desktop-only elements */
        .breadcrumb {
          display: none !important;
        }

        .quick-stats {
          display: none !important;
        }

        .calculator-info-box {
          display: none !important;
        }

        /* Simplify header on mobile */
        .calculator-header-compact p:last-of-type {
          display: none; /* Hide "last updated" text */
        }

        .trust-badge .separator {
          display: none; /* Hide separators to save space */
        }

        /* Hide complex calculation breakdown on mobile - show in modal instead */
        .breakdown-container {
          display: none !important;
        }

        /* Path to 100% - make more compact */
        #pathTo100Section {
          padding: 1rem;
          margin: 1rem 0;
        }

        #pathTo100Section h3 {
          font-size: 1.1rem;
        }

        #pathTo100Section p {
          font-size: 0.9rem;
        }

        /* Compact the results display in tab */
        #results-tab .result-card {
          padding: 1rem;
          margin-bottom: 0.75rem;
        }

        /* Since we have sticky bar, make results tab more detailed */
        #results-tab {
          padding-bottom: 120px; /* Extra space for sticky bar */
        }

        /* Force single column layout on mobile */
        .ratings-layout {
          grid-template-columns: 1fr !important;
          gap: 1rem !important;
        }

        .disability-inputs {
          min-height: 50px !important;
          padding: 0.5rem 0;
        }

        .disability-item {
          min-height: 60px !important;
        }

        /* Ensure proper spacing with sticky bar */
        .calculator-main {
          padding-bottom: 120px;
          min-height: 100vh;
        }

        /* Improve form field spacing */
        .disability-item,
        .checkbox-group,
        .input-group {
          margin-bottom: 1rem;
        }

        /* Make labels more prominent */
        label {
          font-weight: 600;
          color: var(--dark);
          font-size: 0.95rem;
        }

        /* Better focus states for accessibility */
        input:focus,
        select:focus,
        button:focus {
          outline: 3px solid rgba(0, 40, 104, 0.3);
          outline-offset: 2px;
        }

        /* Prevent text selection on UI elements */
        .mobile-collapsible-header,
        button,
        .btn {
          user-select: none;
          -webkit-user-select: none;
        }

        /* Optimize images and icons */
        svg,
        img {
          max-width: 100%;
          height: auto;
        }

        /* Loading spinner for calculations */
        .loading-spinner {
          display: inline-block;
          width: 20px;
          height: 20px;
          border: 3px solid rgba(0, 40, 104, 0.3);
          border-top-color: var(--primary);
          border-radius: 50%;
          animation: spin 0.6s linear infinite;
        }

        @keyframes spin {
          to { transform: rotate(360deg); }
        }

        /* Results section mobile visibility */
        .results-section-prominent {
          display: block !important;
          background: white;
          padding: 1rem;
          border-radius: 12px;
          margin-bottom: 1rem;
        }

        .results-header {
          display: flex !important;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 1rem;
          padding-bottom: 0.75rem;
          border-bottom: 2px solid var(--primary);
        }

        .results-header h2 {
          display: block !important;
          font-size: 1.2rem !important;
          font-weight: 700 !important;
          color: var(--dark) !important;
          margin: 0 !important;
        }

        .clear-btn {
          display: flex !important;
          align-items: center;
          gap: 0.5rem;
          padding: 0.5rem 1rem;
          background: #ef4444;
          color: white;
          border: none;
          border-radius: 8px;
          font-size: 0.85rem;
          font-weight: 600;
          cursor: pointer;
          min-height: 44px;
        }

        .clear-btn span {
          font-size: 1.2rem;
        }

        /* Payment display mobile improvements */
        .payment-display {
          background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(34, 197, 94, 0.05)) !important;
          border: 2px solid var(--success) !important;
          border-radius: 12px;
          padding: 1.5rem;
          text-align: center;
          margin-bottom: 1rem;
        }

        /* Breakdown section mobile styling */
        .breakdown {
          background: #f7fafc !important;
          border-radius: 10px;
          padding: 1rem;
          border: 1px solid #e5e7eb;
        }

        .breakdown h4 {
          font-size: 1rem !important;
          font-weight: 700 !important;
          color: var(--dark) !important;
          margin: 0 0 1rem 0 !important;
          padding-bottom: 0.5rem;
          border-bottom: 1px solid #e5e7eb;
        }

        .breakdown-item {
          display: flex !important;
          justify-content: space-between !important;
          align-items: center;
          padding: 0.75rem 0;
          font-size: 0.95rem;
          border-bottom: 1px solid #f1f5f9;
        }

        .breakdown-item:last-child {
          border-bottom: none;
          padding-bottom: 0;
        }

        .breakdown-item span:first-child {
          font-weight: 600;
          color: var(--dark);
        }

        .breakdown-item span:last-child {
          font-weight: 700;
          color: var(--primary);
          font-size: 1.1rem;
        }

        /* How to Use Section - Mobile Optimized */
        .how-to-section {
          padding: 1.5rem 1rem;
          margin: 1rem 0;
          background: white;
          border-radius: 12px;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }

        .how-to-section h2 {
          font-size: 1.4rem !important;
          margin-bottom: 1.5rem;
          text-align: center;
          color: var(--primary);
          font-weight: 700;
          line-height: 1.3;
          padding: 0 0.5rem;
        }

        .how-to-step {
          background: linear-gradient(135deg, rgba(0, 40, 104, 0.03), rgba(191, 10, 48, 0.02));
          border: 2px solid #e5e7eb;
          border-left: 4px solid var(--primary);
          border-radius: 12px;
          padding: 1.25rem;
          margin-bottom: 1.25rem;
          position: relative;
        }

        .how-to-step:last-child {
          margin-bottom: 0;
        }

        .how-to-step-number {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          width: 40px;
          height: 40px;
          background: var(--primary);
          color: white;
          border-radius: 50%;
          font-size: 1.25rem;
          font-weight: 800;
          margin-bottom: 0.75rem;
          box-shadow: 0 2px 8px rgba(0, 40, 104, 0.3);
        }

        .how-to-step-title {
          font-size: 1.1rem !important;
          font-weight: 700;
          color: var(--primary);
          margin-bottom: 0.75rem;
          line-height: 1.4;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .how-to-step-content {
          font-size: 0.95rem;
          line-height: 1.7;
          color: var(--dark);
          margin: 0;
        }

        /* Collapsible Version Styles */
        .how-to-collapsible {
          background: white;
          border: 2px solid #e5e7eb;
          border-radius: 12px;
          margin-bottom: 0.75rem;
          overflow: hidden;
        }

        .how-to-collapsible-header {
          display: flex;
          align-items: center;
          gap: 0.75rem;
          padding: 1rem;
          cursor: pointer;
          background: linear-gradient(135deg, rgba(0, 40, 104, 0.05), rgba(0, 40, 104, 0.02));
          user-select: none;
          touch-action: manipulation;
          transition: background 0.2s ease;
        }

        .how-to-collapsible-header:active {
          background: linear-gradient(135deg, rgba(0, 40, 104, 0.1), rgba(0, 40, 104, 0.05));
        }

        .how-to-collapsible-header .step-number {
          flex-shrink: 0;
          width: 36px;
          height: 36px;
          background: var(--primary);
          color: white;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 1.1rem;
          font-weight: 800;
          box-shadow: 0 2px 6px rgba(0, 40, 104, 0.3);
        }

        .how-to-collapsible-header .step-title {
          flex: 1;
          font-size: 1rem;
          font-weight: 700;
          color: var(--dark);
          line-height: 1.3;
          margin: 0;
        }

        .how-to-collapsible-header .chevron {
          flex-shrink: 0;
          font-size: 1.2rem;
          color: var(--primary);
          transition: transform 0.3s ease;
        }

        .how-to-collapsible-header.expanded .chevron {
          transform: rotate(180deg);
        }

        .how-to-collapsible-content {
          max-height: 0;
          overflow: hidden;
          transition: max-height 0.3s ease;
        }

        .how-to-collapsible-content.expanded {
          max-height: 500px;
          padding: 1rem;
          border-top: 1px solid #e5e7eb;
        }

        .how-to-collapsible-content p {
          font-size: 0.9rem;
          line-height: 1.7;
          color: var(--dark);
          margin: 0;
        }

        /* Extra small screens optimization */
        @media (max-width: 400px) {
          .how-to-section {
            padding: 1rem 0.75rem;
          }
          
          .how-to-step {
            padding: 1rem;
          }
          
          .how-to-step-number {
            width: 36px;
            height: 36px;
            font-size: 1.1rem;
          }
          
          .how-to-step-title {
            font-size: 1rem !important;
          }
          
          .how-to-step-content {
            font-size: 0.9rem;
          }
        }

        /* ===== MOBILE ONLY - How to Use Collapsible Styles ===== */
        /* Desktop is completely unaffected by these styles */

        /* On mobile, convert each step to collapsible card */
        .how-to-step-item {
          background: white !important;
          border: 2px solid #e5e7eb !important;
          border-radius: 12px !important;
          margin-bottom: 0.75rem !important;
          overflow: hidden !important;
          display: block !important;
          padding: 0 !important;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08) !important;
          cursor: pointer !important;
        }

        /* Step number and title in header */
        .how-to-step-item > div:first-child {
          /* Number circle */
          display: inline-flex !important;
          margin: 1rem !important;
          flex-shrink: 0 !important;
          vertical-align: top !important;
        }

        .how-to-step-item > div:last-child {
          /* Content container */
          display: inline-block !important;
          width: calc(100% - 70px) !important;
          vertical-align: top !important;
          padding: 1rem 1rem 0 0 !important;
        }

        .how-to-step-item h3 {
          font-size: 0.95rem !important;
          margin: 0 !important;
          padding: 0 1rem 0 0 !important;
          cursor: pointer !important;
          user-select: none !important;
          position: relative !important;
          line-height: 1.3 !important;
        }

        /* Chevron indicator */
        .how-to-step-item h3::after {
          content: 'â–¼';
          position: absolute;
          right: 0;
          top: 0;
          font-size: 0.9rem;
          color: var(--primary);
          transition: transform 0.3s ease;
        }

        /* Content paragraph - hidden by default on mobile */
        .how-to-step-item p {
          max-height: 0 !important;
          overflow: hidden !important;
          opacity: 0 !important;
          transition: max-height 0.3s ease, opacity 0.3s ease, margin 0.3s ease !important;
          font-size: 0.88rem !important;
          line-height: 1.6 !important;
          margin: 0 !important;
          padding: 0 1rem 0 0 !important;
        }

        /* Expanded state */
        .how-to-step-item.mobile-expanded p {
          max-height: 800px !important;
          opacity: 1 !important;
          margin-top: 0.75rem !important;
          margin-bottom: 1rem !important;
        }

        /* Rotate chevron when expanded */
        .how-to-step-item.mobile-expanded h3::after {
          transform: rotate(180deg);
        }

        /* Make whole card tappable on mobile */
        .how-to-step-item.mobile-collapsed {
          cursor: pointer;
        }

        /* Reduce padding on mobile for compactness */
        .how-to-guide-wrapper {
          padding: 1rem !important;
        }

        .how-to-guide-wrapper h2 {
          font-size: 1.2rem !important;
          margin-bottom: 1rem !important;
          text-align: center !important;
        }

        /* Reduce section padding on mobile */
        #how-to-use-calculator {
          padding: 0 1rem !important;
          margin: 1rem auto !important;
        }

        /* Fix "People Also Search For" horizontal overflow */
        /* Target all grid lists with 3 columns on mobile */
        ul[style*="grid-template-columns: repeat(3, 1fr)"] {
          grid-template-columns: 1fr !important;
          gap: 0.75rem !important;
          display: grid !important;
        }

        /* Target li elements in those grids */
        section li[style*="display: flex"] {
          max-width: 100% !important;
          box-sizing: border-box !important;
          padding: 0.875rem 1rem !important;
          font-size: 0.9rem !important;
        }

        /* Make sure section containers don't overflow */
        section[style*="max-width: 1200px"] {
          padding: 0 1rem !important;
          margin: 2rem auto !important;
          overflow-x: hidden !important;
        }
      }

      .hidden {
        display: none;
      }

      /* Hide mobile tab select on desktop */
      .mobile-tab-select {
        display: none;
      }

      /* Hide mobile footer links on desktop */
      .footer-mobile-links {
        display: none;
      }

      /* Comprehensive Guide Sections */
      .comprehensive-guide {
        max-width: 1200px;
        width: 100%;
        margin: 2rem auto;
        padding: 0 1rem;
        padding-top: 80px; /* Add space for floating button */
      }

      .comprehensive-guide h2 {
        font-size: 2rem;
        font-weight: 700;
        color: var(--dark);
        text-align: center;
        margin-bottom: 2rem;
        border-bottom: 3px solid var(--primary);
        padding-bottom: 1rem;
      }

      .guide-section {
        margin-bottom: 1.5rem;
        border: 1px solid #e2e8f0;
        border-radius: 8px;
        overflow: hidden;
        background: white;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .guide-section summary {
        cursor: pointer;
        padding: 1.5rem;
        background: #f8fafc;
        font-weight: 600;
        font-size: 1.1rem;
        color: var(--dark);
        border: none;
        outline: none;
        position: relative;
        transition: background-color 0.2s ease;
      }

      .guide-section summary:hover {
        background: #f1f5f9;
      }

      .guide-section summary::marker {
        display: none;
      }

      .guide-section summary::before {
        content: "â–¶";
        position: absolute;
        right: 1.5rem;
        top: 50%;
        transform: translateY(-50%);
        transition: transform 0.2s ease;
        color: var(--primary);
        font-size: 0.8rem;
      }

      .guide-section[open] summary::before {
        transform: translateY(-50%) rotate(90deg);
      }

      .guide-section[open] summary {
        border-bottom: 1px solid #e2e8f0;
      }

      .guide-content {
        padding: 1.5rem;
        color: var(--dark);
        line-height: 1.7;
        font-size: 1rem;
      }

      .guide-content h3 {
        font-size: 1.3rem;
        font-weight: 600;
        color: var(--primary);
        margin-top: 1.5rem;
        margin-bottom: 0.8rem;
      }

      .guide-content h3:first-child {
        margin-top: 0;
      }

      .guide-content ul,
      .guide-content ol {
        margin: 1rem 0;
        padding-left: 1.5rem;
      }

      .guide-content li {
        margin-bottom: 0.5rem;
      }

      .example-box {
        background: #f8fafc;
        border: 1px solid #e2e8f0;
        border-radius: 6px;
        padding: 1rem;
        margin: 1rem 0;
      }

      .example-box strong {
        color: var(--primary);
      }

      /* Quick Stats Section */
      .quick-stats {
        max-width: 1200px;
        width: 100%;
        margin: 2rem auto;
        padding: 0 1rem;
      }

      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 1rem;
        margin-bottom: 2rem;
      }

      .stat-card {
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        border: 1px solid #cbd5e1;
        border-radius: 12px;
        padding: 1.5rem 1rem;
        text-align: center;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .stat-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
      }

      .stat-icon {
        font-size: 1.5rem;
        margin-bottom: 0.5rem;
        display: block;
      }

      .stat-value {
        font-size: 1.2rem;
        font-weight: 700;
        color: var(--primary);
        margin-bottom: 0.25rem;
        line-height: 1.2;
      }

      .stat-label {
        font-size: 0.85rem;
        color: var(--gray);
        font-weight: 500;
        line-height: 1.3;
      }

      /* VA Disability Resources Section */
      .va-resources {
        max-width: 1200px;
        width: 100%;
        margin: 2rem auto;
        padding: 0 1rem;
      }

      .resources-title {
        font-size: 2rem;
        font-weight: 700;
        color: var(--dark);
        text-align: center;
        margin-bottom: 2rem;
        border-bottom: 3px solid var(--primary);
        padding-bottom: 1rem;
      }

      .resources-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 1.5rem;
        margin-bottom: 2rem;
      }

      .resource-card {
        background: white;
        border: 1px solid #e2e8f0;
        border-radius: 12px;
        padding: 1.5rem;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .resource-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
      }

      .resource-card h3 {
        font-size: 1.3rem;
        font-weight: 600;
        color: var(--primary);
        margin-bottom: 1rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .resource-card h3 .card-icon {
        font-size: 1.5rem;
      }

      .resource-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .resource-list li {
        margin-bottom: 0.75rem;
        padding-bottom: 0.75rem;
        border-bottom: 1px solid #f1f5f9;
      }

      .resource-list li:last-child {
        margin-bottom: 0;
        padding-bottom: 0;
        border-bottom: none;
      }

      .resource-link {
        color: var(--primary);
        text-decoration: none;
        font-weight: 500;
        display: block;
        margin-bottom: 0.25rem;
      }

      .resource-link:hover {
        text-decoration: underline;
      }

      .resource-description {
        color: var(--gray);
        font-size: 0.9rem;
        line-height: 1.4;
      }

      .condition-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.5rem;
      }

      .condition-name {
        font-weight: 500;
        color: var(--dark);
      }

      .condition-rating {
        font-size: 0.85rem;
        color: var(--primary);
        background: #f0f9ff;
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
        font-weight: 600;
      }

      .calculator-link {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        color: var(--primary);
        text-decoration: none;
        font-weight: 500;
        padding: 0.5rem 1rem;
        border: 1px solid var(--primary);
        border-radius: 6px;
        transition: all 0.2s ease;
        margin-top: 0.5rem;
      }

      .calculator-link:hover {
        background: var(--primary);
        color: white;
        text-decoration: none;
      }

      /* Content Sections */
      .content-sections {
        max-width: 1200px;
        width: 100%;
        margin: 2rem auto;
        padding: 0 1rem;
      }

      .content-section {
        background: var(--card-gradient);
        border-radius: 16px;
        box-shadow: 0 8px 32px var(--shadow-color);
        border: 1px solid rgba(255, 255, 255, 0.2);
        padding: 2rem;
        margin-bottom: 2rem;
      }

      .content-section h2 {
        color: var(--dark);
        margin-bottom: 1.5rem;
        font-size: 2rem;
        border-bottom: 2px solid var(--primary);
        padding-bottom: 0.5rem;
      }

      .content-section h3 {
        color: var(--dark);
        margin-bottom: 1rem;
        font-size: 1.5rem;
      }

      .content-section h4 {
        color: var(--dark);
        margin-bottom: 0.75rem;
        font-size: 1.2rem;
      }

      .content-section p {
        margin-bottom: 1rem;
        line-height: 1.8;
        color: var(--gray);
      }

      .example-box {
        background: #f7fafc;
        border-left: 4px solid var(--primary);
        padding: 1.5rem;
        margin: 1.5rem 0;
        border-radius: 0 12px 12px 0;
      }

      .example-box h4 {
        color: var(--dark);
        margin-bottom: 1rem;
      }

      /* Pay Chart */
      .pay-chart {
        overflow-x: auto;
        margin: 1.5rem 0;
      }

      .pay-chart table {
        width: 100%;
        border-collapse: collapse;
        background: white;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      .pay-chart th {
        background: var(--primary);
        color: white;
        padding: 1rem;
        text-align: left;
        font-weight: 600;
      }

      .pay-chart td {
        padding: 1rem;
        border-bottom: 1px solid #e5e7eb;
      }

      .pay-chart tr:nth-child(even) {
        background: #f7fafc;
      }

      .pay-chart tr:hover {
        background: #edf2f7;
      }

      /* FAQ Styles */
      .faq-item {
        border: 1px solid #e5e7eb;
        border-radius: 12px;
        margin-bottom: 1rem;
        overflow: hidden;
      }

      .faq-question {
        background: #f7fafc;
        padding: 1.5rem;
        cursor: pointer;
        font-weight: 600;
        color: var(--dark);
        transition: background-color 0.3s ease;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .faq-question:hover {
        background: #edf2f7;
      }

      .faq-answer {
        padding: 0 1.5rem;
        max-height: 0;
        overflow: hidden;
        transition: all 0.3s ease;
        background: white;
      }

      .faq-answer.active {
        padding: 1.5rem;
        max-height: 500px;
      }

      .faq-icon {
        transition: transform 0.3s ease;
      }

      .faq-icon.rotated {
        transform: rotate(180deg);
      }

      /* Rating Guide */
      .rating-guide {
        display: grid;
        gap: 1rem;
        margin: 1.5rem 0;
      }

      .rating-item {
        background: #f7fafc;
        padding: 1rem;
        border-radius: 8px;
        border-left: 4px solid var(--success);
      }

      /* Benefits List */
      .benefits-list {
        display: grid;
        gap: 1.5rem;
        margin: 1.5rem 0;
      }

      .benefit-item {
        background: #f7fafc;
        padding: 1.5rem;
        border-radius: 12px;
        border: 1px solid #e5e7eb;
      }

      .benefit-item h4 {
        color: var(--primary);
        margin-bottom: 0.75rem;
      }

      /* Footer */
      .footer {
        background: #0f172a;
        color: white;
        padding: 80px 0 40px;
        margin-top: 60px;
        width: 100vw;
        margin-left: calc(-50vw + 50%);
      }

      .footer-content {
        display: grid;
        grid-template-columns: 2fr 3fr;
        gap: 60px;
        margin-bottom: 40px;
      }

      .footer-links {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 60px;
        justify-items: start;
      }

      .footer-brand .logo {
        margin-bottom: 12px;
        font-size: 24px;
        font-weight: 700;
        color: white;
      }

      .footer-brand p {
        color: #9ca3af;
        margin: 12px 0;
      }

      .footer-powered {
        margin-top: 20px;
        font-size: 14px;
      }

      .footer-column h4 {
        font-size: 14px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 1px;
        margin-bottom: 16px;
        color: white;
      }

      .footer-column a {
        display: block;
        color: #9ca3af;
        text-decoration: none;
        margin-bottom: 12px;
        transition: color 0.3s;
      }

      .footer-column a:hover {
        color: white;
      }

      .footer-subsection {
        margin-bottom: 20px;
      }

      .footer-subsection h5 {
        font-size: 12px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 12px;
        color: #d1d5db;
      }

      .footer-bottom {
        padding-top: 32px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        display: flex;
        justify-content: space-between;
        align-items: center;
        color: #6b7280;
        font-size: 14px;
      }

      .footer-bottom-right {
        display: flex;
        align-items: center;
      }

      .footer-contact-link {
        color: #9ca3af;
        text-decoration: none;
        font-size: 14px;
        font-weight: 500;
        transition: color 0.3s;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .footer-contact-link:hover {
        color: white;
      }

      .footer-bottom-left p {
        color: #6b7280;
        font-size: 14px;
        margin: 0;
      }

      .footer-note {
        margin-top: 8px !important;
        font-style: italic;
      }

      /* Disclaimer */
      .disclaimer {
        background: #fff5f5;
        border: 1px solid #fed7d7;
        border-radius: 12px;
        padding: 1.5rem;
        margin-top: 2rem;
        color: #742a2a;
        font-size: 0.9rem;
        line-height: 1.6;
      }

      /* Mobile Responsive for Content */
      @media (max-width: 768px) {
        .quick-stats {
          padding: 0 0.5rem;
        }

        .stats-grid {
          grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
          gap: 0.75rem;
        }

        .stat-card {
          padding: 1rem 0.75rem;
        }

        .stat-value {
          font-size: 1.1rem;
        }

        .stat-label {
          font-size: 0.8rem;
        }

        .comprehensive-guide {
          padding: 0 0.5rem;
          padding-top: 100px; /* Extra space on mobile for floating button */
        }

        .comprehensive-guide h2 {
          font-size: 1.5rem;
        }

        .guide-section summary {
          padding: 1rem;
          font-size: 1rem;
        }

        .guide-section summary::before {
          right: 1rem;
        }

        .guide-content {
          padding: 1rem;
          font-size: 0.95rem;
        }

        .va-resources {
          padding: 0 0.5rem;
        }

        .resources-title {
          font-size: 1.5rem;
        }

        .resources-grid {
          grid-template-columns: 1fr;
          gap: 1rem;
        }

        .resource-card {
          padding: 1rem;
        }

        .content-sections {
          padding: 0 0.5rem;
        }

        .content-section {
          padding: 1rem;
        }

        .content-section h2 {
          font-size: 1.5rem;
        }

        .pay-chart {
          font-size: 0.9rem;
        }

        .pay-chart th,
        .pay-chart td {
          padding: 0.75rem 0.5rem;
        }

        /* Footer styles moved to mobile section above */

        /* How to Use Calculator - Mobile Collapsible */
        .how-to-use-toggle {
          cursor: pointer;
        }

        .mobile-toggle-icon {
          display: inline-block !important;
        }

        .how-to-use-content {
          display: none !important;
        }

        .how-to-use-content.expanded {
          display: grid !important;
          animation: slideDown 0.3s ease-out;
        }
      }

      @media (max-width: 968px) {
        .footer-links {
          grid-template-columns: repeat(2, 1fr);
          gap: 40px;
        }
      }

      .faq-answer.active {
        max-height: 1000px !important;
        padding-top: 1.5rem !important;
      }
      .faq-icon.rotated {
        transform: rotate(180deg);
      }
      .faq-question:hover {
        background: linear-gradient(135deg, rgba(0, 40, 104, 0.1), rgba(191, 10, 48, 0.1)) !important;
      }
    </style>


    <!-- Google Analytics loaded via cookie-consent-secure.js after user consent -->
    
    <!-- Filter Live Server Console Messages -->
    <script>
      (function() {
        const originalLog = console.log;
        console.log = function(...args) {
          // Filter out Live Server reload messages
          if (args.length > 0 && typeof args[0] === 'string') {
            if (args[0].includes('Live reload') || 
                args[0].includes('livereload') ||
                args[0].includes('connected to server')) {
              return; // Suppress these messages
            }
          }
          originalLog.apply(console, args);
        };
      })();
    </script>
  </head>
  <body>
    <nav>
      <div class="container">
        <a href="/" class="logo">
          <svg width="240" height="80" viewBox="0 0 240 80" xmlns="http://www.w3.org/2000/svg">
            <g transform="translate(15, 15)">
              <path d="M 15 35 L 12 40 L 48 40 L 45 35 Z" fill="#1E293B" stroke="#0066FF" stroke-width="0.5"/>
              <rect x="18" y="30" width="24" height="5" fill="#334155" rx="1"/>
              <rect x="16" y="28" width="28" height="2" fill="#475569"/>
              <line x1="20" y1="32" x2="40" y2="32" stroke="#0066FF" stroke-width="0.5" opacity="0.6"/>
              <line x1="22" y1="34" x2="38" y2="34" stroke="#00D4AA" stroke-width="0.5" opacity="0.6"/>
              <g transform="rotate(-30 30 25)">
                <rect x="28" y="15" width="4" height="18" fill="#0066FF" rx="0.5"/>
                <path d="M 25 12 L 35 12 L 36 16 L 24 16 Z" fill="#0052CC"/>
                <rect x="24" y="13" width="2" height="2" fill="#00D4AA"/>
                <rect x="34" y="13" width="2" height="2" fill="#00D4AA"/>
              </g>
              <g transform="rotate(30 30 25)">
                <rect x="28" y="15" width="4" height="18" fill="#0066FF" rx="0.5"/>
                <path d="M 25 12 L 35 12 L 36 16 L 24 16 Z" fill="#0052CC"/>
                <rect x="24" y="13" width="2" height="2" fill="#00D4AA"/>
                <rect x="34" y="13" width="2" height="2" fill="#00D4AA"/>
              </g>
              <path d="M 28 10 L 30 5 L 31 8 L 33 3 L 33 10 L 31 8 L 29 11 Z" fill="#FF6B35" opacity="0.9"/>
              <path d="M 26 12 L 27 9 L 28 11 L 29 8 L 29 13 Z" fill="#FFA500" opacity="0.8"/>
              <path d="M 31 12 L 32 9 L 33 11 L 34 8 L 34 13 Z" fill="#FFA500" opacity="0.8"/>
              <rect x="12" y="20" width="2" height="2" fill="#00D4AA" opacity="0.8"/>
              <rect x="46" y="20" width="2" height="2" fill="#00D4AA" opacity="0.8"/>
            </g>
            <text x="75" y="45" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="28" font-weight="800" fill="#0A0E27">Forge</text>
            <text x="150" y="45" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="28" font-weight="400" fill="#6B7280">APIs</text>
            <text x="75" y="63" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="9" fill="#9CA3AF" letter-spacing="0.5">PRODUCTION-READY APIS</text>
          </svg>
        </a>
        <div class="nav-links">
          <a href="#calculator">Calculator</a>
          <a href="#how-to-use-calculator">How To Use</a>
          <a href="#faq">FAQ</a>
        </div>
        <button class="mobile-menu-btn" id="mobileMenuBtn">
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </button>
      </div>
    </nav>

    <!-- Breadcrumb Container -->
    <div id="breadcrumb-container">
      <nav class="breadcrumb" aria-label="Breadcrumb">
        <div class="container">
          <ol class="breadcrumb-list" style="list-style: none; margin: 0; padding: 0;">
            <li class="breadcrumb-item" style="display: inline;">
              <a href="/" class="breadcrumb-link" style="color: #0066ff; text-decoration: none;">Home</a>
              <span style="color: #9ca3af; margin: 0 8px;">â€º</span>
            </li>
            <li class="breadcrumb-item" style="display: inline;">
              <span class="breadcrumb-current" style="color: #1a1a2e; font-weight: 600;">VA Disability Calculator</span>
            </li>
          </ol>
        </div>
      </nav>
    </div>
    
    <div class="main-content-wrapper" style="flex: 1;">

    <!-- Calculator Layout -->
    <div id="calculator" class="calculator-wrapper" style="scroll-margin-top: 100px;">
      <!-- Main Calculator -->
      <main class="calculator-main">
        <div class="calculator-card">
          <div class="calculator-header-compact">
            <h1>Veterans Affairs Disability Calculator 2025</h1>
            <p
              style="
                text-align: center;
                color: var(--gray);
                font-size: 0.9rem;
                margin: -15px 0 10px 0;
                font-weight: 500;
              "
            >
              Last updated: January 2025 | Using official 2025 VA compensation
              rates (3.2% COLA increase)
            </p>
          </div>

          <!-- Tab Interface -->
          <div class="tab-container">
            <!-- Mobile Tab Dropdown (hidden on desktop) -->
            <select class="mobile-tab-select" onchange="switchTabMobile(this.value)" style="
              width: 100%;
              padding: 1rem;
              font-size: 1rem;
              font-weight: 600;
              border: 2px solid var(--primary);
              border-radius: 12px;
              background: white;
              color: var(--dark);
              margin-bottom: 1rem;
              appearance: none;
              background-image: url('data:image/svg+xml;utf8,<svg fill=&quot;%23002868&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot; width=&quot;24&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;><path d=&quot;M7 10l5 5 5-5z&quot;/></svg>');
              background-repeat: no-repeat;
              background-position: right 1rem center;
              background-size: 24px;
              cursor: pointer;
              min-height: 56px;
            ">
              <option value="ratings">ðŸŽ–ï¸ Disability Ratings</option>
              <option value="dependents">ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ Dependents</option>
              <option value="results">ðŸ“Š View Results</option>
            </select>

            <div class="tab-buttons">
              <button class="tab-button active" onclick="switchTab('ratings')">
                Disability Ratings
              </button>
              <button class="tab-button" onclick="switchTab('dependents')">
                Dependents
              </button>
              <button class="tab-button" onclick="switchTab('retroactive')">
                Retroactive Calculator
              </button>
              <button class="tab-button" onclick="switchTab('benefits')">
                State Benefits
              </button>
            </div>

            <div class="tab-content">
              <!-- Disability Ratings Tab -->
              <div class="tab-panel active" id="ratings-tab">
                <h2 class="section-title">Disability Ratings</h2>

                <!-- Two-column layout for disability ratings (single column on mobile) -->
                <div
                  style="
                    display: grid;
                    grid-template-columns: 1fr 1fr;
                    gap: 2rem;
                    align-items: start;
                  "
                  class="ratings-layout"
                >
                  <!-- Left Column: Disability Inputs -->
                  <div style="min-height: 100px;">
                    <div class="disability-inputs" id="disabilityInputs">
                      <!-- Disability inputs will be generated here -->
                    </div>
                  </div>

                  <!-- Right Column: Add Button and Combined Rating -->
                  <div style="min-height: 100px;">
                    <button class="add-disability-btn" id="addDisabilityBtn">
                      <span>ðŸŽ–ï¸</span>
                      Add Disability Rating
                    </button>

                    <!-- Combined Rating Display - Compact -->
                    <div
                      class="combined-rating-compact"
                      id="combinedRatingDisplay"
                    >
                      <div class="rating-summary">
                        <span class="rating-label">Combined Rating:</span>
                        <span class="rating-number" id="ratingNumber">0%</span>
                      </div>
                      <div class="progress-bar">
                        <div
                          class="progress-fill"
                          id="progressFill"
                          style="width: 0%"
                        ></div>
                      </div>
                      <p id="ratingExplanation">
                        Add your disability ratings to see your combined rating
                      </p>
                      
                      <!-- Calculation Breakdown -->
                      <div id="calculationBreakdown" style="margin-top: 1rem; padding: 1rem; background: rgba(6, 102, 255, 0.03); border-radius: 8px; border: 1px solid rgba(6, 102, 255, 0.1); display: none;">
                        <h4 style="margin: 0 0 0.75rem 0; font-size: 0.95rem; font-weight: 700; color: var(--primary); display: flex; align-items: center; gap: 0.5rem;">
                          <span style="font-size: 1.2rem;">ðŸ”¢</span> Step-by-Step Calculation
                        </h4>
                        <div id="breakdownSteps" style="font-size: 0.9rem; line-height: 1.8; color: var(--dark);">
                          <!-- Steps will be populated here -->
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Dependents Tab -->
              <div class="tab-panel" id="dependents-tab">
                <h2 class="section-title">Dependents</h2>
                <div class="dependents-section">
                  <div class="dependent-group">
                    <h4>ðŸ‘¥ Marital Status</h4>
                    <div class="checkbox-group">
                      <input
                        type="checkbox"
                        id="married"
                        onchange="calculatePayment()"
                      />
                      <label for="married">ðŸ‘¥ Married</label>
                    </div>
                    <div class="checkbox-group">
                      <input
                        type="checkbox"
                        id="spouseAidAttendance"
                        onchange="calculatePayment()"
                      />
                      <label for="spouseAidAttendance"
                        >ðŸ¥ Spouse requires Aid & Attendance
                        (+$160/month)</label
                      >
                    </div>
                  </div>

                  <div class="dependent-group">
                    <h4>ðŸ‘¶ Children</h4>
                    <div class="input-group">
                      <label for="childrenUnder18">ðŸ‘¶ Children under 18:</label>
                      <input
                        type="number"
                        id="childrenUnder18"
                        min="0"
                        max="20"
                        value="0"
                        onchange="calculatePayment()"
                      />
                    </div>
                    <div class="input-group">
                      <label for="childrenInSchool"
                        >ðŸŽ“ Children 18-23 in school:</label
                      >
                      <input
                        type="number"
                        id="childrenInSchool"
                        min="0"
                        max="10"
                        value="0"
                        onchange="calculatePayment()"
                      />
                    </div>
                  </div>

                  <div class="dependent-group">
                    <h4>ðŸ‘´ðŸ‘µ Parents</h4>
                    <div class="checkbox-group">
                      <input
                        type="checkbox"
                        id="oneParent"
                        onchange="calculatePayment()"
                      />
                      <label for="oneParent">ðŸ‘´ One parent dependent</label>
                    </div>
                    <div class="checkbox-group">
                      <input
                        type="checkbox"
                        id="twoParents"
                        onchange="calculatePayment()"
                      />
                      <label for="twoParents">ðŸ‘µ Two parents dependent</label>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Retroactive Calculator Tab -->
              <div class="tab-panel" id="retroactive-tab">
                <h2 class="section-title">ðŸ“… Retroactive Pay Calculator</h2>
                <p style="color: var(--gray); font-size: 0.95rem; margin-bottom: 1.5rem; line-height: 1.6;">
                  Calculate your estimated retroactive payment based on your claim filing date, approval date, and rating changes over time.
                </p>

                <div style="display: grid; gap: 1.5rem; margin-bottom: 2rem;">
                  <div class="input-group">
                    <label for="claimFiledDate">ðŸ“‹ Claim Filed Date:</label>
                    <input type="date" id="claimFiledDate" style="padding: 0.75rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem; width: 100%;" onchange="calculateRetroactive()" />
                  </div>

                  <div class="input-group">
                    <label for="approvalDate">âœ… Approval Date:</label>
                    <input type="date" id="approvalDate" style="padding: 0.75rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem; width: 100%;" onchange="calculateRetroactive()" />
                  </div>

                  <div class="input-group">
                    <label for="initialRating">ðŸŽ–ï¸ Initial Rating (%):</label>
                    <select id="initialRating" style="padding: 0.75rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem; width: 100%; background: white;" onchange="calculateRetroactive()">
                      <option value="0">0%</option>
                      <option value="10">10%</option>
                      <option value="20">20%</option>
                      <option value="30">30%</option>
                      <option value="40">40%</option>
                      <option value="50">50%</option>
                      <option value="60">60%</option>
                      <option value="70">70%</option>
                      <option value="80">80%</option>
                      <option value="90">90%</option>
                      <option value="100">100%</option>
                    </select>
                  </div>

                  <div class="input-group">
                    <label for="currentRating">ðŸŽ–ï¸ Current Rating (if increased):</label>
                    <select id="currentRating" style="padding: 0.75rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem; width: 100%; background: white;" onchange="calculateRetroactive()">
                      <option value="0">No increase</option>
                      <option value="10">10%</option>
                      <option value="20">20%</option>
                      <option value="30">30%</option>
                      <option value="40">40%</option>
                      <option value="50">50%</option>
                      <option value="60">60%</option>
                      <option value="70">70%</option>
                      <option value="80">80%</option>
                      <option value="90">90%</option>
                      <option value="100">100%</option>
                    </select>
                  </div>

                  <div class="input-group">
                    <label for="increaseDate">ðŸ“… Rating Increase Date (if applicable):</label>
                    <input type="date" id="increaseDate" style="padding: 0.75rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem; width: 100%;" onchange="calculateRetroactive()" />
                  </div>

                  <div class="checkbox-group" style="padding: 1rem; background: var(--light-gray); border-radius: 8px;">
                    <h4 style="margin: 0 0 0.5rem 0; font-size: 0.95rem; font-weight: 700; color: var(--primary);">ðŸ‘¥ Marital Status (during back pay period)</h4>
                    <input type="checkbox" id="retroactiveMarried" onchange="calculateRetroactive()" />
                    <label for="retroactiveMarried" style="margin-left: 0.5rem;">Married during this period</label>
                  </div>
                </div>

                <!-- Retroactive Results -->
                <div id="retroactiveResults" style="display: none; background: rgba(34, 197, 94, 0.05); border: 2px solid #22c55e; border-radius: 12px; padding: 1.5rem;">
                  <h3 style="color: #16a34a; font-size: 1.3rem; margin-bottom: 1rem; font-weight: 800;">ðŸ’° Estimated Retroactive Payment</h3>
                  <div id="retroactiveTotal" style="text-align: center; font-size: 2.5rem; font-weight: 900; color: #16a34a; margin-bottom: 1rem;">$0.00</div>
                  
                  <div style="background: white; padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                    <h4 style="margin: 0 0 0.75rem 0; font-size: 0.95rem; font-weight: 700; color: var(--primary); cursor: pointer;" onclick="toggleMonthBreakdown()">ðŸ“Š Month-by-Month Breakdown <span id="breakdownToggle" style="font-size: 0.85rem;">â–¼</span></h4>
                    <div id="monthBreakdown" style="display: none; font-size: 0.9rem; line-height: 1.8; color: var(--dark);">
                      <!-- Monthly breakdown will be populated here -->
                    </div>
                  </div>

                  <div style="background: rgba(6, 102, 255, 0.05); padding: 1rem; border-radius: 8px; border-left: 4px solid var(--primary);">
                    <p style="margin: 0; font-size: 0.9rem; color: var(--dark); line-height: 1.6;">
                      <strong>ðŸ“Œ Important Notes:</strong> This is an estimate only. Actual retroactive payments are calculated by the VA based on your effective date. COLA adjustments for different years have been applied. Your payment may vary based on dependent status changes during the period.
                    </p>
                  </div>
                </div>
              </div>

              <!-- State Benefits Tab -->
              <div class="tab-panel" id="benefits-tab">
                <h2 class="section-title">ðŸ›ï¸ State Benefits for Veterans</h2>
                <p style="color: var(--gray); font-size: 0.95rem; margin-bottom: 1.5rem; line-height: 1.6;">
                  VA disability compensation is federally tax-free nationwide. Many states offer additional benefits including property tax exemptions, income tax exemptions, vehicle registration discounts, and more for disabled veterans.
                </p>

                <!-- Property Tax Exemption Quick Reference -->
                <div style="background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(34, 197, 94, 0.05)); border: 2px solid #22c55e; border-radius: 12px; padding: 1.5rem; margin-bottom: 2rem;">
                  <h3 style="color: #16a34a; font-size: 1.2rem; margin: 0 0 1rem 0; font-weight: 800;">ðŸ’° Property Tax Exemptions at 100% Disability</h3>
                  <p style="margin: 0 0 1rem 0; color: var(--dark); line-height: 1.7;">
                    Veterans rated 100% disabled by the VA can receive property tax exemptions in most states. Here are the top states with full exemptions:
                  </p>
                  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                    <div style="background: white; padding: 1rem; border-radius: 8px; border-left: 4px solid #22c55e;">
                      <div style="font-weight: 700; color: #16a34a; margin-bottom: 0.5rem;">Florida</div>
                      <div style="font-size: 0.9rem; color: var(--gray);">Complete property tax exemption for 100% disabled veterans</div>
                    </div>
                    <div style="background: white; padding: 1rem; border-radius: 8px; border-left: 4px solid #22c55e;">
                      <div style="font-weight: 700; color: #16a34a; margin-bottom: 0.5rem;">Texas</div>
                      <div style="font-size: 0.9rem; color: var(--gray);">Full homestead exemption for 100% disabled veterans</div>
                    </div>
                    <div style="background: white; padding: 1rem; border-radius: 8px; border-left: 4px solid #22c55e;">
                      <div style="font-weight: 700; color: #16a34a; margin-bottom: 0.5rem;">Virginia</div>
                      <div style="font-size: 0.9rem; color: var(--gray);">Complete property tax exemption at 100% rating</div>
                    </div>
                  </div>
                </div>

                <!-- State List -->
                <div style="margin-bottom: 1.5rem;">
                  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                    <h3 style="margin: 0; color: var(--primary); font-size: 1.2rem; font-weight: 800;">ðŸ“‹ State Benefits by State</h3>
                  </div>
                  
                  <input type="text" id="stateSearch" placeholder="ðŸ” Search states..." style="width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 8px; margin-bottom: 1rem; font-size: 0.95rem; min-height: 48px;" oninput="filterStates()" />
                  
                  <div id="stateList" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1rem;">
                    <!-- States will be populated here by JavaScript -->
                  </div>
                </div>

                <div style="background: rgba(6, 102, 255, 0.05); padding: 1.5rem; border-radius: 10px; border-left: 4px solid var(--primary); margin-top: 2rem;">
                  <h4 style="margin: 0 0 0.75rem 0; color: var(--primary); font-size: 1rem; font-weight: 700;">ðŸ’¡ Important Information</h4>
                  <p style="margin: 0; font-size: 0.9rem; color: var(--dark); line-height: 1.7;">
                    State benefits vary by state and change frequently. Always verify current requirements and application procedures with your state's veterans affairs department or county tax assessor's office. Eligibility typically requires service-connected disability ratings and may include residency requirements.
                  </p>
                </div>
              </div>
            </div>
          </div>

          <!-- Results Section - Prominent -->
          <div class="results-section-prominent" id="resultsSection">
            <div class="results-header">
              <h2>Your Monthly Compensation</h2>
              <button class="clear-btn" onclick="clearAll()">
                <span>ðŸ—‘ï¸</span>
                Clear All
              </button>
            </div>
            <div class="payment-display">
              <div class="monthly-payment" id="monthlyPayment">$0.00</div>
              <div class="annual-payment" id="annualPayment">Annual: $0.00</div>
            </div>

            <div class="breakdown" id="breakdown">
              <h4>Payment Breakdown</h4>
              <div class="breakdown-item">
                <span>Base Rate:</span>
                <span id="baseRate">$0.00</span>
              </div>
              <div
                class="breakdown-item"
                id="dependentAdditions"
                style="display: none"
              >
                <span>Dependent Additions:</span>
                <span id="dependentAmount">$0.00</span>
              </div>
            </div>
          </div>

          <!-- TDIU Eligibility Check Section -->
          <section id="tdiuSection" style="max-width: 1200px; margin: 1.5rem auto; padding: 0 2rem; display: none;">
            <div style="background: rgba(34, 197, 94, 0.05); border: 2px solid #22c55e; border-radius: 12px; padding: 1.5rem; box-shadow: 0 0 20px rgba(34, 197, 94, 0.15);">
              <h3 style="color: #16a34a; font-size: 1.2rem; margin-bottom: 1rem; font-weight: 800; display: flex; align-items: center; gap: 0.5rem;">
                <span style="font-size: 1.5rem;">ðŸ’¼</span> Total Disability Based on Individual Unemployability (TDIU)
              </h3>
              
              <div id="tdiuCheck">
                <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                  <input type="checkbox" id="tdiuCheckbox" onchange="checkTDIUEligibility()" style="width: 20px; height: 20px; cursor: pointer;">
                  <label for="tdiuCheckbox" style="font-size: 1rem; font-weight: 600; color: var(--dark); cursor: pointer;">Check TDIU eligibility and payment</label>
                </div>
              </div>
              
              <div id="tdiuResult" style="display: none;">
                <!-- Results will be populated here -->
              </div>
            </div>
          </section>

          <!-- Path to 100% Section -->
          <section id="pathTo100Section" style="max-width: 1200px; margin: 1.5rem auto; padding: 0 2rem; display: none;">
            <div style="background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(255, 215, 0, 0.1)); border: 2px solid var(--secondary); border-radius: 12px; padding: 1.5rem; box-shadow: 0 0 20px rgba(239, 68, 68, 0.2);">
              <h3 style="color: var(--secondary); font-size: 1.3rem; margin-bottom: 1rem; font-weight: 900; display: flex; align-items: center; gap: 0.5rem;">
                <span style="font-size: 1.5rem;">ðŸŽ¯</span> Path to 100% Rating
              </h3>
              
              <div id="pathTo100Content">
                <div style="background: white; padding: 1.25rem; border-radius: 10px; margin-bottom: 1rem; border-left: 5px solid var(--secondary);">
                  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 1rem;">
                    <div>
                      <div style="font-size: 0.85rem; color: var(--gray); margin-bottom: 0.25rem;">Your Current Rating</div>
                      <div id="currentUnroundedRating" style="font-size: 1.5rem; font-weight: 900; color: var(--primary);">0%</div>
                    </div>
                    <div>
                      <div style="font-size: 0.85rem; color: var(--gray); margin-bottom: 0.25rem;">Target to Reach 100%</div>
                      <div id="targetRating" style="font-size: 1.5rem; font-weight: 900; color: var(--secondary);">95%</div>
                    </div>
                    <div>
                      <div style="font-size: 0.85rem; color: var(--gray); margin-bottom: 0.25rem;">Additional Rating Needed</div>
                      <div id="additionalNeeded" style="font-size: 1.5rem; font-weight: 900; color: #dc2626;">0%</div>
                    </div>
                  </div>
                  
                  <!-- Visual Progress Bar -->
                  <div style="margin-bottom: 1rem;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                      <span style="font-size: 0.85rem; font-weight: 600; color: var(--gray);">Progress to 100%</span>
                      <span id="progressPercentage" style="font-size: 0.85rem; font-weight: 600; color: var(--primary);">0%</span>
                    </div>
                    <div style="background: #e5e7eb; height: 28px; border-radius: 14px; overflow: hidden; position: relative;">
                      <div id="pathProgressFill" style="background: linear-gradient(90deg, var(--secondary), #f59e0b); height: 100%; width: 0%; transition: width 0.5s ease; border-radius: 14px; box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);"></div>
                    </div>
                  </div>
                  
                  <p id="pathMessage" style="font-size: 0.95rem; line-height: 1.6; color: var(--dark); margin: 0;">
                    <!-- Message will be populated by JavaScript -->
                  </p>
                </div>
                
                <div style="background: rgba(34, 197, 94, 0.05); border: 1px solid #22c55e; border-radius: 10px; padding: 1rem;">
                  <h4 style="color: #16a34a; font-size: 1rem; margin: 0 0 0.5rem 0; font-weight: 700;">ðŸ’¡ Alternative Path: Individual Unemployability (TDIU)</h4>
                  <p style="font-size: 0.9rem; line-height: 1.6; color: var(--dark); margin: 0;">
                    <strong>Did you know?</strong> You may qualify for 100% compensation without additional ratings through TDIU. If you have a single disability rated at 60% or higher, OR a combined rating of 70% or higher with at least one disability at 40% or higher, you may be eligible. TDIU provides the same 100% payment rate without needing to reach 95% combined rating. Check the "TDIU Eligibility Check" section above for more information.
                  </p>
                </div>
              </div>
            </div>
          </section>

          <!-- Legal Disclaimer -->
          <section style="max-width: 1200px; margin: 2rem auto; padding: 0 2rem;">
            <div style="background: rgba(6, 102, 255, 0.03); border: 1px solid rgba(6, 102, 255, 0.2); border-radius: 10px; padding: 1.5rem; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);">
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; cursor: pointer;" onclick="toggleDisclaimerSection()">
                <h3 style="color: var(--primary); font-size: 1rem; margin: 0; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; display: flex; align-items: center; gap: 0.5rem;">
                  âš–ï¸ Important Legal Disclaimer
                </h3>
                <span id="disclaimerToggle" style="font-size: 1.5rem; color: var(--primary); transition: transform 0.3s ease;">â–¶</span>
              </div>
              
              <div id="disclaimerContent" style="display: none; font-size: 0.9rem; line-height: 1.8; color: var(--dark);">
                <p style="margin: 0 0 0.75rem 0;">
                  <strong>This calculator is not affiliated with, sponsored by, or endorsed by the U.S. Department of Veterans Affairs (VA) or any government agency.</strong> This is an unofficial, independent tool created to assist veterans in estimating their potential disability compensation.
                </p>
                
                <p style="margin: 0 0 0.75rem 0;">
                  <strong>Estimates Only:</strong> The calculations and information provided by this calculator are for estimation purposes only. They should not be used as the sole basis for financial planning decisions, claim filing strategies, or any other significant decisions regarding your VA disability benefits.
                </p>
                
                <p style="margin: 0 0 0.75rem 0;">
                  <strong>Not Legal Advice:</strong> This tool does not constitute legal advice, representation, or counseling regarding VA disability claims. The information provided is general in nature and may not apply to your specific situation.
                </p>
                
                <p style="margin: 0 0 0.75rem 0;">
                  <strong>Payment Rates:</strong> The compensation rates shown reflect the 2025 VA disability rates effective as of December 1, 2024, including the 2.5% Cost-of-Living Adjustment (COLA). Rates are updated periodically and may not reflect the most current figures at the time of use.
                </p>
                
                <p style="margin: 0 0 0.75rem 0;">
                  <strong>Consult Professionals:</strong> We strongly encourage veterans to consult with accredited Veterans Service Officers (VSOs), VA-accredited attorneys, or claims agents for personalized guidance, claim filing assistance, and appeals support. These professionals provide free or low-cost services and are trained in navigating the complex VA claims process.
                </p>
                
                <p style="margin: 0; padding-top: 0.75rem; border-top: 1px solid rgba(6, 102, 255, 0.2);">
                  <strong>Official Resources:</strong> For official VA disability information, current compensation rates, claim filing procedures, and appeals processes, visit <a href="https://www.va.gov/disability/" target="_blank" rel="noopener noreferrer" style="color: var(--primary); font-weight: 600; text-decoration: underline;">VA.gov</a> or contact your local VA Regional Office at 1-800-827-1000.
                </p>
              </div>
            </div>
          </section>

          <!-- Educational Section: Why Don't Percentages Add Directly? -->
          <section class="educational-section" id="educationalSection" style="max-width: 1200px; margin: 1.5rem auto; padding: 0 2rem;">
            <div style="background: linear-gradient(135deg, rgba(6, 102, 255, 0.1), rgba(191, 10, 48, 0.05)); border: 2px solid var(--primary); border-radius: 12px; padding: 1.5rem; box-shadow: 0 0 20px rgba(6, 102, 255, 0.15), inset 0 0 15px rgba(6, 102, 255, 0.05); backdrop-filter: blur(10px); position: relative; overflow: hidden;">
              <div style="position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 50%, var(--accent) 100%); box-shadow: 0 0 10px rgba(6, 102, 255, 0.5);"></div>
              
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; cursor: pointer;" onclick="toggleEducationalSection()">
                <h2 style="color: var(--primary); font-size: 1.3rem; margin: 0; font-weight: 900; display: flex; align-items: center; gap: 0.5rem;">
                  <span style="font-size: 1.5rem;">ðŸ“</span> Why Doesn't 50% + 50% = 100%?
                </h2>
                <span id="educationalToggle" style="font-size: 1.5rem; color: var(--primary); transition: transform 0.3s ease;">â–¼</span>
              </div>

              <div id="educationalContent" style="display: block; animation: slideDown 0.3s ease-out;">
                <p style="font-size: 1rem; color: var(--dark); margin-bottom: 1.5rem; line-height: 1.8;">
                  Many veterans wonder why two 50% disabilities don't equal 100% combined. The answer lies in the VA's <strong>"whole person"</strong> concept. The VA views your total disability through the lens of remaining functional ability, not simple addition.
                </p>

                <div style="background: white; padding: 1.5rem; border-radius: 10px; border-left: 5px solid var(--primary); margin-bottom: 1.5rem; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);">
                  <h3 style="color: var(--primary); font-size: 1.1rem; margin: 0 0 1rem 0; font-weight: 800;">Visual Example: 50% + 50%</h3>
                  
                  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin-bottom: 1.5rem;">
                    <div style="background: linear-gradient(135deg, rgba(6, 102, 255, 0.1), rgba(6, 102, 255, 0.05)); padding: 1rem; border-radius: 8px;">
                      <div style="font-weight: 700; color: var(--primary); margin-bottom: 0.5rem;">Starting Point</div>
                      <div style="font-size: 1.1rem;">100% Whole Person</div>
                    </div>
                    <div style="background: linear-gradient(135deg, rgba(191, 10, 48, 0.1), rgba(191, 10, 48, 0.05)); padding: 1rem; border-radius: 8px;">
                      <div style="font-weight: 700; color: var(--secondary); margin-bottom: 0.5rem;">After 1st Disability</div>
                      <div style="font-size: 1.1rem;">50% Disabled</div>
                      <div style="font-size: 0.9rem; color: var(--gray); margin-top: 0.25rem;">50% ability remains</div>
                    </div>
                    <div style="background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 215, 0, 0.1)); padding: 1rem; border-radius: 8px;">
                      <div style="font-weight: 700; color: #b8860b; margin-bottom: 0.5rem;">After 2nd Disability</div>
                      <div style="font-size: 1.1rem;">50% of remaining 50%</div>
                      <div style="font-size: 0.9rem; color: var(--gray); margin-top: 0.25rem;">= 25% additional</div>
                    </div>
                    <div style="background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(34, 197, 94, 0.05)); padding: 1rem; border-radius: 8px; border: 2px solid #22c55e;">
                      <div style="font-weight: 700; color: #16a34a; margin-bottom: 0.5rem;">Final Result</div>
                      <div style="font-size: 1.5rem; font-weight: 900;">75% Combined</div>
                      <div style="font-size: 0.9rem; color: var(--gray); margin-top: 0.25rem;">Rounds to 80%</div>
                    </div>
                  </div>

                  <div style="background: var(--light-gray); padding: 1.25rem; border-radius: 8px; border: 1px solid #e5e7eb;">
                    <h4 style="margin: 0 0 0.75rem 0; font-size: 0.95rem; font-weight: 700; color: var(--primary);">Step-by-Step Calculation:</h4>
                    <ol style="margin: 0; padding-left: 1.5rem; line-height: 2;">
                      <li style="margin-bottom: 0.5rem;"><strong>Start:</strong> You begin as 100% able-bodied</li>
                      <li style="margin-bottom: 0.5rem;"><strong>First 50% disability:</strong> You lose 50% of ability, leaving 50% functional</li>
                      <li style="margin-bottom: 0.5rem;"><strong>Second 50% disability:</strong> This affects your remaining 50% ability (not the whole 100%)</li>
                      <li style="margin-bottom: 0.5rem;"><strong>Calculation:</strong> 50% Ã— 50% = 25% additional disability</li>
                      <li style="margin-bottom: 0;"><strong>Total:</strong> 50% + 25% = 75%, which rounds to <strong>80% combined rating</strong></li>
                    </ol>
                  </div>
                </div>

                <div style="background: rgba(6, 102, 255, 0.05); padding: 1rem; border-radius: 8px; border: 1px solid rgba(6, 102, 255, 0.2);">
                  <p style="margin: 0; color: var(--dark); font-size: 0.95rem; line-height: 1.7;">
                    <strong>ðŸ’¡ Why This System Exists:</strong> The VA recognizes that disabilities interact with each other. This prevents ratings from exceeding 100% (since you can't be more than 100% disabled) while ensuring veterans with multiple conditions receive fair compensation. The <strong>efficiency method</strong> is the official calculation used by VA rating specialists.
                  </p>
                </div>

                <p style="margin: 1.5rem 0 0 0; font-size: 0.9rem; color: var(--gray); text-align: center;">
                  ðŸ“š <strong>Official Source:</strong> <a href="https://www.ecfr.gov/current/title-38/chapter-I/part-4/subpart-A/section-4.25" target="_blank" rel="noopener noreferrer" style="color: var(--primary); font-weight: 600; text-decoration: underline;">38 CFR Â§4.25 - Combined evaluation table</a>
                </p>
              </div>
            </div>
          </section>

          <!-- Quick Reference Guide -->
          <section style="max-width: 1200px; margin: 1.5rem auto; padding: 0 2rem;">
            <div style="background: linear-gradient(135deg, rgba(0, 40, 104, 0.1), rgba(191, 10, 48, 0.05)); border: 2px solid var(--primary); border-radius: 12px; padding: 1.5rem; box-shadow: 0 0 20px rgba(0, 40, 104, 0.2), inset 0 0 15px rgba(0, 40, 104, 0.05); backdrop-filter: blur(10px); position: relative;">
              <div style="position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 50%, var(--accent) 100%); box-shadow: 0 0 10px rgba(0, 40, 104, 0.5);"></div>
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; cursor: pointer;" onclick="toggleRateReference()">
                <h2 style="color: var(--primary); font-size: 1.3rem; margin: 0; font-weight: 900; display: flex; align-items: center; gap: 0.5rem; text-transform: uppercase; letter-spacing: 1px;">
                  <span style="font-size: 1.5rem;">ðŸ‡ºðŸ‡¸</span> Quick VA Disability Rate Reference (2025)
                </h2>
                <span id="rateReferenceToggle" style="font-size: 1.5rem; color: var(--primary); transition: transform 0.3s ease;">â–¼</span>
              </div>
              <div id="rateReferenceContent" style="display: none; animation: slideDown 0.3s ease-out;">
              <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1rem;">
                
                <div style="background: rgba(255, 255, 255, 0.95); padding: 1rem; border-radius: 8px; border-left: 4px solid #94a3b8; backdrop-filter: blur(5px); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);">
                  <p style="margin: 0; font-size: 0.85rem; color: var(--gray); font-weight: 600;">10% Disability</p>
                  <p style="margin: 0.25rem 0 0; font-size: 1.3rem; font-weight: 900; color: #94a3b8;">$175.51</p>
                  <p style="margin: 0.25rem 0 0; font-size: 0.75rem; color: var(--gray);">No dependents</p>
                </div>

                <div style="background: rgba(255, 255, 255, 0.95); padding: 1rem; border-radius: 8px; border-left: 4px solid #60a5fa; backdrop-filter: blur(5px); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);">
                  <p style="margin: 0; font-size: 0.85rem; color: var(--gray); font-weight: 600;">30% Disability</p>
                  <p style="margin: 0.25rem 0 0; font-size: 1.3rem; font-weight: 900; color: #60a5fa;">$543.54</p>
                  <p style="margin: 0.25rem 0 0; font-size: 0.75rem; color: var(--gray);">+ Dependent benefits</p>
                </div>

                <div style="background: rgba(255, 255, 255, 0.95); padding: 1rem; border-radius: 8px; border-left: 4px solid #f59e0b; backdrop-filter: blur(5px); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);">
                  <p style="margin: 0; font-size: 0.85rem; color: var(--gray); font-weight: 600;">50% Disability</p>
                  <p style="margin: 0.25rem 0 0; font-size: 1.3rem; font-weight: 900; color: #f59e0b;">$1,114.02</p>
                  <p style="margin: 0.25rem 0 0; font-size: 0.75rem; color: var(--gray);">+ Commissary access</p>
                </div>

                <div style="background: rgba(255, 255, 255, 0.95); padding: 1rem; border-radius: 8px; border-left: 4px solid #ef4444; backdrop-filter: blur(5px); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);">
                  <p style="margin: 0; font-size: 0.85rem; color: var(--gray); font-weight: 600;">70% Disability</p>
                  <p style="margin: 0.25rem 0 0; font-size: 1.3rem; font-weight: 900; color: #ef4444;">$1,759.19</p>
                  <p style="margin: 0.25rem 0 0; font-size: 0.75rem; color: var(--gray);">+ Priority healthcare</p>
                </div>

                <div style="background: rgba(255, 255, 255, 0.95); padding: 1rem; border-radius: 8px; border-left: 4px solid var(--accent); backdrop-filter: blur(5px); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15); border: 2px solid var(--accent);">
                  <p style="margin: 0; font-size: 0.85rem; color: var(--gray); font-weight: 600;">100% Disability</p>
                  <p style="margin: 0.25rem 0 0; font-size: 1.3rem; font-weight: 900; color: var(--primary);">$3,831.30 <span style="font-size: 0.65rem; background: var(--accent); color: var(--dark); padding: 0.2rem 0.4rem; border-radius: 4px; margin-left: 0.25rem; font-weight: 900;">MAX</span></p>
                  <p style="margin: 0.25rem 0 0; font-size: 0.75rem; color: var(--gray);">+ Full benefits</p>
                </div>

              </div>
              <p style="margin: 1rem 0 0; font-size: 0.85rem; color: var(--dark); text-align: center; font-style: italic; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                ðŸ’¡ Tip: Veterans rated 30%+ receive additional compensation for dependents | Rates adjusted annually for COLA
              </p>
              </div>
            </div>
          </section>

          <!-- How to Use This Calculator Guide -->
          <section id="how-to-use-calculator" style="max-width: 1200px; margin: 1.5rem auto; padding: 0 2rem; scroll-margin-top: 100px;">
            <div style="background: linear-gradient(135deg, rgba(191, 10, 48, 0.1), rgba(191, 10, 48, 0.05)); border: 2px solid var(--secondary); border-radius: 12px; padding: 1.5rem; box-shadow: 0 0 20px rgba(191, 10, 48, 0.2), inset 0 0 15px rgba(191, 10, 48, 0.05); backdrop-filter: blur(10px); position: relative;">
              <div style="position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, var(--secondary) 0%, var(--primary) 50%, var(--accent) 100%); box-shadow: 0 0 10px rgba(191, 10, 48, 0.5);"></div>
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.25rem; cursor: pointer;" onclick="toggleHowToUseCalculator()" class="how-to-use-toggle">
                <h2 style="color: var(--dark); font-size: 1.3rem; margin: 0; font-weight: 900; display: flex; align-items: center; gap: 0.5rem; text-transform: uppercase; letter-spacing: 1px;">
                  <span style="font-size: 1.5rem;">ðŸ“‹</span> How to Use This VA Disability Calculator
                </h2>
                <span id="howToUseToggle" style="font-size: 1.5rem; color: var(--secondary); transition: transform 0.3s ease; display: none;" class="mobile-toggle-icon">â–¶</span>
              </div>
              
              <div id="howToUseContent" style="display: grid; gap: 1rem;" class="how-to-use-content">
                
                <div style="display: flex; align-items: start; gap: 1rem; padding: 1rem; background: rgba(255, 255, 255, 0.95); border-radius: 8px; backdrop-filter: blur(5px); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);">
                  <div style="min-width: 36px; height: 36px; background: var(--primary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 900; font-size: 1.1rem; border: 2px solid var(--secondary); box-shadow: 0 0 10px rgba(0, 40, 104, 0.4); flex-shrink: 0;">1</div>
                  <div>
                    <h3 style="margin: 0 0 0.5rem; color: var(--primary); font-size: 1.05rem; font-weight: 800; text-transform: uppercase; letter-spacing: 0.5px;">Enter Your Disability Ratings</h3>
                    <p style="margin: 0; color: var(--dark); line-height: 1.6; font-size: 0.95rem;">Input each individual disability rating (0% to 100%) from your VA rating decision letter. Use the "Add Another Disability" button for multiple conditions. The calculator accepts all standard VA percentages in 10% increments.</p>
                  </div>
                </div>

                <div style="display: flex; align-items: start; gap: 1rem; padding: 1rem; background: rgba(255, 255, 255, 0.95); border-radius: 8px; backdrop-filter: blur(5px); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);">
                  <div style="min-width: 36px; height: 36px; background: var(--primary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 900; font-size: 1.1rem; border: 2px solid var(--secondary); box-shadow: 0 0 10px rgba(0, 40, 104, 0.4); flex-shrink: 0;">2</div>
                  <div>
                    <h3 style="margin: 0 0 0.5rem; color: var(--primary); font-size: 1.05rem; font-weight: 800; text-transform: uppercase; letter-spacing: 0.5px;">Mark Bilateral Disabilities</h3>
                    <p style="margin: 0; color: var(--dark); line-height: 1.6; font-size: 0.95rem;">For disabilities affecting paired body parts (arms, legs, hands, feet, knees, shoulders, etc.), check the 'Left Side' or 'Right Side' boxes. When you have disabilities on BOTH sides of paired body parts, the calculator automatically applies a 10% bilateral factor bonus to recognize the increased impact.</p>
                  </div>
                </div>

                <div style="display: flex; align-items: start; gap: 1rem; padding: 1rem; background: rgba(255, 255, 255, 0.95); border-radius: 8px; backdrop-filter: blur(5px); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);">
                  <div style="min-width: 36px; height: 36px; background: var(--primary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 900; font-size: 1.1rem; border: 2px solid var(--secondary); box-shadow: 0 0 10px rgba(0, 40, 104, 0.4); flex-shrink: 0;">3</div>
                  <div>
                    <h3 style="margin: 0 0 0.5rem; color: var(--primary); font-size: 1.05rem; font-weight: 800; text-transform: uppercase; letter-spacing: 0.5px;">Add Your Dependents</h3>
                    <p style="margin: 0; color: var(--dark); line-height: 1.6; font-size: 0.95rem;">Check boxes for spouse, children under 18, children over 18 in school, parents, and spouse requiring aid and attendance. Dependent benefits apply only if you're rated 30% or higher.</p>
                  </div>
                </div>

                <div style="display: flex; align-items: start; gap: 1rem; padding: 1rem; background: rgba(255, 255, 255, 0.95); border-radius: 8px; backdrop-filter: blur(5px); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);">
                  <div style="min-width: 36px; height: 36px; background: var(--primary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 900; font-size: 1.1rem; border: 2px solid var(--secondary); box-shadow: 0 0 10px rgba(0, 40, 104, 0.4); flex-shrink: 0;">4</div>
                  <div>
                    <h3 style="margin: 0 0 0.5rem; color: var(--primary); font-size: 1.05rem; font-weight: 800; text-transform: uppercase; letter-spacing: 0.5px;">Enable TDIU if Applicable</h3>
                    <p style="margin: 0; color: var(--dark); line-height: 1.6; font-size: 0.95rem;">If you qualify for Total Disability Individual Unemployability (TDIU), check the TDIU box. This automatically calculates your payment at the 100% rate even if your combined rating is 70-90%, reflecting your inability to maintain substantially gainful employment.</p>
                  </div>
                </div>

                <div style="display: flex; align-items: start; gap: 1rem; padding: 1rem; background: rgba(255, 255, 255, 0.95); border-radius: 8px; backdrop-filter: blur(5px); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);">
                  <div style="min-width: 36px; height: 36px; background: var(--primary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 900; font-size: 1.1rem; border: 2px solid var(--secondary); box-shadow: 0 0 10px rgba(0, 40, 104, 0.4); flex-shrink: 0;">5</div>
                  <div>
                    <h3 style="margin: 0 0 0.5rem; color: var(--primary); font-size: 1.05rem; font-weight: 800; text-transform: uppercase; letter-spacing: 0.5px;">Review Combined Rating & Calculation Breakdown</h3>
                    <p style="margin: 0; color: var(--dark); line-height: 1.6; font-size: 0.95rem;">The calculator shows your combined VA disability rating using the official formula, always rounded to nearest 10%. Click 'Show Step-by-Step Calculation' to see exactly how each disability was combined, including any bilateral factor bonuses applied.</p>
                  </div>
                </div>

                <div style="display: flex; align-items: start; gap: 1rem; padding: 1rem; background: rgba(255, 255, 255, 0.95); border-radius: 8px; backdrop-filter: blur(5px); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);">
                  <div style="min-width: 36px; height: 36px; background: var(--primary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 900; font-size: 1.1rem; border: 2px solid var(--secondary); box-shadow: 0 0 10px rgba(0, 40, 104, 0.4); flex-shrink: 0;">6</div>
                  <div>
                    <h3 style="margin: 0 0 0.5rem; color: var(--primary); font-size: 1.05rem; font-weight: 800; text-transform: uppercase; letter-spacing: 0.5px;">Check Path to 100%</h3>
                    <p style="margin: 0; color: var(--dark); line-height: 1.6; font-size: 0.95rem;">If you're rated between 70-94%, the calculator shows you exactly what additional rating percentage you need to reach 95% (which rounds to 100%). This helps you understand how close you are to maximum compensation.</p>
                  </div>
                </div>

                <div style="display: flex; align-items: start; gap: 1rem; padding: 1rem; background: rgba(255, 255, 255, 0.95); border-radius: 8px; backdrop-filter: blur(5px); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);">
                  <div style="min-width: 36px; height: 36px; background: var(--primary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 900; font-size: 1.1rem; border: 2px solid var(--secondary); box-shadow: 0 0 10px rgba(0, 40, 104, 0.4); flex-shrink: 0;">7</div>
                  <div>
                    <h3 style="margin: 0 0 0.5rem; color: var(--primary); font-size: 1.05rem; font-weight: 800; text-transform: uppercase; letter-spacing: 0.5px;">View Monthly Payment with Full Breakdown</h3>
                    <p style="margin: 0; color: var(--dark); line-height: 1.6; font-size: 0.95rem;">See your estimated monthly VA compensation based on 2025 rates. The calculator shows base payment, dependent allowances, total monthly benefit, and annual payment. It also displays a month-by-month breakdown if you have retroactive effective dates.</p>
                  </div>
                </div>

                <div style="display: flex; align-items: start; gap: 1rem; padding: 1rem; background: rgba(255, 255, 255, 0.95); border-radius: 8px; backdrop-filter: blur(5px); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);">
                  <div style="min-width: 36px; height: 36px; background: var(--primary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 900; font-size: 1.1rem; border: 2px solid var(--secondary); box-shadow: 0 0 10px rgba(0, 40, 104, 0.4); flex-shrink: 0;">8</div>
                  <div>
                    <h3 style="margin: 0 0 0.5rem; color: var(--primary); font-size: 1.05rem; font-weight: 800; text-transform: uppercase; letter-spacing: 0.5px;">Save or Print Results</h3>
                    <p style="margin: 0; color: var(--dark); line-height: 1.6; font-size: 0.95rem;">Use the save button to store your calculation locally, or print your results for VSO appointments, financial planning, or personal records. Results can also be copied to clipboard.</p>
                  </div>
                </div>

              </div>

              <p style="margin: 1.25rem 0 0; padding-top: 1rem; border-top: 2px solid rgba(0, 40, 104, 0.2); color: var(--dark); font-size: 0.9rem; text-align: center; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                ðŸ‡ºðŸ‡¸ No registration required â€¢ 100% free â€¢ VA.gov verified rates â€¢ Veteran-focused design
              </p>
              </div>
            </div>
          </section>
        </div>
      </main>
    </div>

    <!-- Calculator Information Box -->
    <div
      class="calculator-info-box"
      style="max-width: 1200px; width: 100%; margin: 2rem auto; padding: 0 1rem"
    >
      <div
        style="
          background: white;
          padding: 2rem;
          border-radius: 6px;
          border: 2px solid var(--accent);
          box-shadow: 0 4px 12px rgba(0, 40, 104, 0.1);
        "
      >
        <div style="text-align: center; margin-bottom: 1.5rem">
          <div
            class="trust-badge"
            style="display: inline-flex; justify-content: center; margin: 0"
          >
            <span class="checkmark">âœ“</span>
            <span>2025 Official Rates</span>
            <span class="separator">â€¢</span>
            <span>Accurate VA Formula</span>
            <span class="separator">â€¢</span>
            <span>Verified Monthly</span>
          </div>
        </div>

        <div
          style="
            text-align: center;
            color: var(--gray);
            line-height: 1.8;
            max-width: 800px;
            margin: 0 auto;
          "
        >
          <p style="margin-bottom: 1rem; font-size: 16px">
            Calculate your monthly VA disability compensation using the latest
            2025 rates. Enter your disability ratings and dependent information
            to get an accurate estimate.
            <a
              href="#complete-guide"
              style="
                color: var(--primary);
                font-weight: 600;
                text-decoration: none;
              "
              >Learn more about VA disability â†“</a
            >
          </p>

          <p style="margin: 0; font-size: 15px">
            <strong style="color: var(--dark)">How to use:</strong> Enter your
            disability ratings in the first tab, then add any dependents in the
            second tab. Your monthly compensation will update automatically.
          </p>
        </div>
      </div>
    </div>

    <!-- Quick Stats Section -->
    <div class="quick-stats">
      <div class="stats-grid">
        <div class="stat-card">
          <span class="stat-icon">ðŸ’°</span>
          <div class="stat-value">$3,737.85</div>
          <div class="stat-label">2025 Max Monthly</div>
        </div>
        <div class="stat-card">
          <span class="stat-icon">ðŸ’‘</span>
          <div class="stat-value">+$208.41</div>
          <div class="stat-label">With Spouse</div>
        </div>
        <div class="stat-card">
          <span class="stat-icon">ðŸ‘¶</span>
          <div class="stat-value">+$31-$137</div>
          <div class="stat-label">Per Child</div>
        </div>
        <div class="stat-card">
          <span class="stat-icon">ðŸŽ–ï¸</span>
          <div class="stat-value">5.2M+</div>
          <div class="stat-label">Veterans Served</div>
        </div>
      </div>
    </div>

    <!-- Mobile Guide Toggle Button -->

    <!-- Comprehensive Guide Section -->
    <div id="complete-guide" class="comprehensive-guide">
      <h2>Complete Veterans Affairs Disability Guide</h2>

      <details class="guide-section">
        <summary>How VA Disability Compensation Works</summary>
        <div class="guide-content">
          <p>
            VA disability compensation is a monthly tax-free benefit paid to
            veterans who are disabled due to injury or disease incurred or
            aggravated during active military service. This program recognizes
            the sacrifices made by service members and provides financial
            support to help maintain quality of life after service.
          </p>

          <h3>Who Qualifies for VA Disability?</h3>
          <p>
            To be eligible for VA disability compensation, you must meet three
            basic requirements:
          </p>
          <ul>
            <li>
              <strong>Military Service:</strong> You must have served on active
              duty, active duty for training, or inactive duty for training
            </li>
            <li>
              <strong>Disability Rating:</strong> You must have a current
              disability rated at least 10% disabling
            </li>
            <li>
              <strong>Service Connection:</strong> The disability must be
              connected to your military service (service-connected)
            </li>
          </ul>

          <h3>Understanding Disability Ratings</h3>
          <p>
            The VA rates disabilities on a scale from 0% to 100% in increments
            of 10%. These ratings reflect the severity of your disability and
            its impact on your ability to work and perform daily activities. A
            0% rating means you have a service-connected disability but it
            doesn't significantly impair your ability to work, while a 100%
            rating indicates total disability.
          </p>

          <p>
            Your disability rating determines your monthly compensation amount.
            Veterans with multiple disabilities receive a combined rating that
            may be different from simply adding percentages together due to VA's
            unique calculation method. The higher your combined rating, the more
            compensation you receive each month.
          </p>

          <h3>Types of Service Connection</h3>
          <p>
            VA recognizes several ways a disability can be connected to military
            service:
          </p>
          <ul>
            <li>
              <strong>Direct Service Connection:</strong> Disability caused by
              an event or injury during service
            </li>
            <li>
              <strong>Aggravated Service Connection:</strong> Pre-existing
              condition made worse by military service
            </li>
            <li>
              <strong>Presumptive Service Connection:</strong> Certain
              conditions presumed to be service-connected based on exposure or
              service location
            </li>
            <li>
              <strong>Secondary Service Connection:</strong> Disability caused
              or aggravated by an already service-connected condition
            </li>
          </ul>
        </div>
      </details>

      <details class="guide-section">
        <summary>Understanding VA Math (Combined Ratings)</summary>
        <div class="guide-content">
          <p>
            VA disability math, officially called "combined ratings," uses a
            specific formula that doesn't simply add percentages together.
            Instead, the VA calculates combined ratings by considering how much
            "ability" remains after each disability. This system ensures fair
            compensation while preventing ratings from exceeding 100%.
          </p>

          <h3>How VA Math Works</h3>
          <p>
            The VA uses a bilateral factor calculation that works as follows:
          </p>
          <ol>
            <li>Start with your highest-rated disability</li>
            <li>
              Calculate the remaining "whole person" percentage (100% -
              disability %)
            </li>
            <li>
              Apply the next disability as a percentage of the remaining ability
            </li>
            <li>Continue this process for each additional disability</li>
            <li>Round the final result to the nearest 10%</li>
          </ol>

          <div class="example-box">
            <h3>Example 1: Two Disabilities</h3>
            <p><strong>Scenario:</strong> 30% back injury + 20% knee injury</p>
            <p><strong>Calculation:</strong></p>
            <ul>
              <li>Start with 30% back injury</li>
              <li>Remaining ability: 100% - 30% = 70%</li>
              <li>20% knee injury of remaining 70% = 14%</li>
              <li>Combined rating: 30% + 14% = 44%</li>
              <li><strong>Final rating: 40% (rounded down)</strong></li>
            </ul>
          </div>

          <div class="example-box">
            <h3>Example 2: Three Disabilities</h3>
            <p>
              <strong>Scenario:</strong> 50% PTSD + 30% back injury + 10%
              tinnitus
            </p>
            <p><strong>Calculation:</strong></p>
            <ul>
              <li>Start with 50% PTSD</li>
              <li>Remaining ability: 100% - 50% = 50%</li>
              <li>30% back injury of remaining 50% = 15%</li>
              <li>New total: 50% + 15% = 65%</li>
              <li>Remaining ability: 100% - 65% = 35%</li>
              <li>10% tinnitus of remaining 35% = 3.5%</li>
              <li>Combined rating: 65% + 3.5% = 68.5%</li>
              <li><strong>Final rating: 70% (rounded up)</strong></li>
            </ul>
          </div>

          <div class="example-box">
            <h3>Example 3: Multiple Ratings Reaching 100%</h3>
            <p>
              <strong>Scenario:</strong> 60% PTSD + 40% back injury + 30% knee
              injury
            </p>
            <p><strong>Calculation:</strong></p>
            <ul>
              <li>Start with 60% PTSD</li>
              <li>Remaining ability: 100% - 60% = 40%</li>
              <li>40% back injury of remaining 40% = 16%</li>
              <li>New total: 60% + 16% = 76%</li>
              <li>Remaining ability: 100% - 76% = 24%</li>
              <li>30% knee injury of remaining 24% = 7.2%</li>
              <li>Combined rating: 76% + 7.2% = 83.2%</li>
              <li><strong>Final rating: 80% (rounded down)</strong></li>
            </ul>
          </div>

          <h3>Why VA Math Exists</h3>
          <p>
            This calculation method prevents veterans from receiving more than
            100% disability compensation while ensuring that multiple
            disabilities are properly compensated. It recognizes that
            disabilities don't simply add together but interact in complex ways
            that affect overall functioning.
          </p>
        </div>
      </details>

      <details class="guide-section">
        <summary>2025 VA Rates and COLA Adjustments</summary>
        <div class="guide-content">
          <p>
            VA disability compensation rates are adjusted annually based on the
            Cost of Living Adjustment (COLA) determined by the Social Security
            Administration. For 2025, veterans received a 3.2% increase in their
            monthly disability compensation, reflecting the rising cost of
            living and ensuring benefits maintain their purchasing power.
          </p>

          <h3>What is COLA?</h3>
          <p>
            The Cost of Living Adjustment is calculated using the Consumer Price
            Index for Urban Wage Earners and Clerical Workers (CPI-W). This
            index measures changes in the prices of goods and services that
            urban wage earners typically purchase. When inflation occurs, COLA
            increases help veterans maintain their standard of living.
          </p>

          <h3>2025 Rate Increases</h3>
          <p>
            The 3.2% increase for 2025 means that veterans at all disability
            rating levels received higher monthly payments. For example, a
            veteran with a 100% disability rating saw their monthly compensation
            increase from approximately $3,737 to $3,857. Even smaller ratings
            received proportional increases, ensuring all disabled veterans
            benefit from the adjustment.
          </p>

          <h3>Factors Affecting Your Rates</h3>
          <p>
            Several factors determine your exact monthly compensation amount:
          </p>
          <ul>
            <li>
              <strong>Disability Rating:</strong> Your combined disability
              percentage (10% to 100%)
            </li>
            <li>
              <strong>Dependent Status:</strong> Spouse, children, and dependent
              parents increase compensation
            </li>
            <li>
              <strong>Special Circumstances:</strong> Aid and attendance
              benefits for severely disabled veterans
            </li>
            <li>
              <strong>Bilateral Factors:</strong> Additional compensation for
              disabilities affecting both arms or legs
            </li>
          </ul>

          <h3>When Rates Take Effect</h3>
          <p>
            COLA adjustments typically take effect on December 1st of each year,
            with the first increased payment arriving in January. Veterans don't
            need to apply for these increases - they're automatically applied to
            all eligible compensation payments. The VA typically announces the
            new rates in October, giving veterans advance notice of their
            increased benefits.
          </p>
        </div>
      </details>

      <details class="guide-section">
        <summary>Dependent Benefits Explained</summary>
        <div class="guide-content">
          <p>
            VA disability compensation increases when you have dependents,
            recognizing that disabled veterans often have additional financial
            responsibilities. The VA defines dependents as spouses, children,
            and dependent parents who rely on the veteran for financial support.
            Understanding these benefits helps ensure you receive the maximum
            compensation you're entitled to.
          </p>

          <h3>Spouse Benefits</h3>
          <p>
            If you're married, you automatically receive additional compensation
            for your spouse. The amount varies based on your disability rating
            and whether your spouse qualifies for additional benefits. For
            veterans with 30% or higher ratings, spouse compensation ranges from
            approximately $54 per month (30% rating) to $195 per month (100%
            rating) in 2025.
          </p>

          <h3>Children Benefits</h3>
          <p>
            Children under age 18, or under 23 if attending school, qualify as
            dependents. The VA also recognizes children over 18 who became
            permanently incapable of self-support before age 18 due to a
            disability. Compensation for children varies by:
          </p>
          <ul>
            <li>
              <strong>Number of Children:</strong> First child, second child,
              and additional children each have different rates
            </li>
            <li>
              <strong>Child's Age:</strong> School-age children (18-23) receive
              slightly higher benefits
            </li>
            <li>
              <strong>Special Circumstances:</strong> Disabled adult children
              may qualify for additional benefits
            </li>
          </ul>

          <h3>Dependent Parent Benefits</h3>
          <p>
            Parents who depend on the veteran for financial support may also
            qualify for additional compensation. To qualify, parents must have
            limited income and resources, typically less than $13,000 annually.
            The veteran must be providing at least half of the parent's
            financial support. Benefits for dependent parents range from
            approximately $65 to $169 per month depending on the veteran's
            disability rating.
          </p>

          <h3>Combined Family Benefits</h3>
          <p>
            When you have multiple dependents, the benefits stack together. For
            example, a veteran with a 100% disability rating, a spouse, and two
            children under 18 could receive over $4,000 per month in 2025. The
            exact amount depends on the specific combination of dependents and
            their qualifying circumstances.
          </p>

          <h3>How to Add Dependents</h3>
          <p>
            To receive dependent benefits, you must add your dependents to your
            VA claim. This can be done when initially filing for disability or
            by submitting a separate form (VA Form 21-686c) to add dependents
            later. You'll need to provide documentation such as marriage
            certificates, birth certificates, and proof of dependency for
            parents.
          </p>

          <p>
            It's important to keep your dependent information current. Notify
            the VA immediately of changes such as marriage, divorce, birth of
            children, or changes in dependent status. Failure to report changes
            can result in overpayment that must be repaid.
          </p>
        </div>
      </details>

      <details class="guide-section">
        <summary>Filing and Appealing Your VA Claim</summary>
        <div class="guide-content">
          <p>
            Navigating the VA claims process can seem overwhelming, but
            understanding the steps and requirements makes it much more
            manageable. The VA has streamlined the process in recent years,
            offering multiple ways to file claims and providing better support
            for veterans throughout the process. With proper preparation and
            understanding of the system, you can successfully obtain the
            benefits you deserve.
          </p>

          <h3>Initial Claim Process</h3>
          <p>
            Filing your initial VA disability claim involves several key steps:
          </p>
          <ol>
            <li>
              <strong>Gather Evidence:</strong> Collect all relevant medical
              records, military service records, and supporting documentation
            </li>
            <li>
              <strong>Complete VA Form 21-526EZ:</strong> The Application for
              Disability Compensation and Related Compensation Benefits
            </li>
            <li>
              <strong>Submit Supporting Documents:</strong> Include medical
              evidence, service records, and any private medical records
            </li>
            <li>
              <strong>Schedule C&P Exam:</strong> Attend Compensation and
              Pension examination if requested
            </li>
            <li>
              <strong>Wait for Decision:</strong> VA typically takes 3-6 months
              to process initial claims
            </li>
          </ol>

          <h3>Types of Claims</h3>
          <p>
            The VA recognizes several types of claims, each with specific
            requirements:
          </p>
          <ul>
            <li>
              <strong>Original Claims:</strong> First-time applications for
              disability benefits
            </li>
            <li>
              <strong>Increased Rating Claims:</strong> Requests for higher
              disability ratings due to worsening conditions
            </li>
            <li>
              <strong>New Claims:</strong> Applications for additional
              disabilities not previously claimed
            </li>
            <li>
              <strong>Secondary Claims:</strong> Conditions caused or aggravated
              by already service-connected disabilities
            </li>
            <li>
              <strong>Presumptive Claims:</strong> Conditions presumed to be
              service-connected based on exposure or service location
            </li>
          </ul>

          <h3>Evidence Requirements</h3>
          <p>
            Strong evidence is crucial for successful claims. The VA looks for
            three types of evidence:
          </p>
          <ul>
            <li>
              <strong>Medical Evidence:</strong> Current diagnosis, treatment
              records, and medical opinions connecting the condition to service
            </li>
            <li>
              <strong>Service Records:</strong> Military medical records,
              incident reports, and documentation of in-service events
            </li>
            <li>
              <strong>Lay Evidence:</strong> Personal statements from the
              veteran, family members, and fellow service members
            </li>
          </ul>

          <h3>Understanding VA Decisions</h3>
          <p>
            When the VA makes a decision on your claim, you'll receive a
            detailed letter explaining their findings. The decision letter will
            include:
          </p>
          <ul>
            <li>
              <strong>Granted Conditions:</strong> Disabilities approved for
              service connection and their ratings
            </li>
            <li>
              <strong>Denied Conditions:</strong> Disabilities not approved and
              reasons for denial
            </li>
            <li><strong>Effective Dates:</strong> When your benefits begin</li>
            <li>
              <strong>Appeal Rights:</strong> Information about how to challenge
              unfavorable decisions
            </li>
          </ul>

          <h3>Appeals Process</h3>
          <p>
            If you disagree with the VA's decision, you have several appeal
            options:
          </p>
          <ul>
            <li>
              <strong>Higher-Level Review:</strong> Request review by a senior
              VA adjudicator within one year
            </li>
            <li>
              <strong>Supplemental Claim:</strong> Submit new evidence to
              support your claim
            </li>
            <li>
              <strong>Board of Veterans' Appeals:</strong> Appeal to the Board
              for a formal hearing
            </li>
          </ul>

          <p>
            Each appeal option has specific requirements and timelines. You
            typically have one year from the date of the VA's decision to file
            an appeal. Consider consulting with a Veterans Service Organization
            (VSO) or accredited representative to help navigate the appeals
            process.
          </p>

          <h3>Tips for Success</h3>
          <p>
            Several strategies can improve your chances of a successful claim:
          </p>
          <ul>
            <li>
              <strong>Be Thorough:</strong> Include all relevant medical
              evidence and don't assume the VA has access to your records
            </li>
            <li>
              <strong>Get Help:</strong> Work with a VSO, attorney, or claims
              agent familiar with VA processes
            </li>
            <li>
              <strong>Stay Organized:</strong> Keep copies of all documents and
              correspondence
            </li>
            <li>
              <strong>Be Patient:</strong> The process takes time, but
              persistence often pays off
            </li>
            <li>
              <strong>Follow Up:</strong> Check your claim status regularly and
              respond promptly to VA requests
            </li>
          </ul>
        </div>
      </details>
    </div>

        </div>
    <!-- End main content wrapper -->

      <!-- FAQ Section -->
      <section id="faq" style="max-width: 1200px; margin: 3rem auto; padding: 0 2rem; scroll-margin-top: 100px;">
      <div style="background: white; padding: 2.5rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0, 40, 104, 0.1); border: 1px solid rgba(0, 40, 104, 0.1);">
        <h2 style="color: var(--primary); font-size: 2rem; margin-bottom: 2rem; text-align: center; font-weight: 900; text-transform: uppercase; letter-spacing: 1px; border-bottom: 3px solid var(--secondary); padding-bottom: 1rem;">
          ðŸ‡ºðŸ‡¸ Frequently Asked Questions
        </h2>

        <div class="faq-item" style="margin-bottom: 1.5rem; border-bottom: 2px solid var(--light-gray); padding-bottom: 1.5rem;">
          <div class="faq-question" onclick="toggleFAQ(this)" style="cursor: pointer; padding: 1rem; background: linear-gradient(135deg, rgba(0, 40, 104, 0.05), rgba(191, 10, 48, 0.05)); border-radius: 8px; transition: all 0.3s ease; display: flex; justify-content: space-between; align-items: center;">
            <h3 style="color: var(--primary); font-size: 1.15rem; font-weight: 700; margin: 0;">How is VA combined disability rating calculated?</h3>
            <span class="faq-icon" style="font-size: 1.5rem; transition: transform 0.3s ease; color: var(--secondary);">â–¼</span>
          </div>
          <div class="faq-answer" style="padding: 1.5rem 1rem 0; line-height: 1.8; color: var(--dark); max-height: 0; overflow: hidden; transition: max-height 0.3s ease;">
            <p>VA combined disability rating uses a mathematical formula rather than simple addition to avoid over-compensation. The VA starts with your highest disability rating and applies each subsequent rating to the remaining "efficiency" (100% minus current combined rating). For example, if you have ratings of 50%, 30%, and 20%, the calculation works as follows: Start with 50% (leaving 50% efficiency remaining), then apply 30% to the remaining 50% efficiency (30% Ã— 50% = 15%), giving you 65% combined. Next, apply 20% to the remaining 35% efficiency (20% Ã— 35% = 7%), resulting in 72% combined. The final result is always rounded to the nearest 10%, so 72% rounds to 70%. This ensures veterans with multiple conditions receive fair compensation while preventing ratings from exceeding 100% efficiency loss.</p>
          </div>
        </div>

        <div class="faq-item" style="margin-bottom: 1.5rem; border-bottom: 2px solid var(--light-gray); padding-bottom: 1.5rem;">
          <div class="faq-question" onclick="toggleFAQ(this)" style="cursor: pointer; padding: 1rem; background: linear-gradient(135deg, rgba(0, 40, 104, 0.05), rgba(191, 10, 48, 0.05)); border-radius: 8px; transition: all 0.3s ease; display: flex; justify-content: space-between; align-items: center;">
            <h3 style="color: var(--primary); font-size: 1.15rem; font-weight: 700; margin: 0;">What are the 2025 VA disability payment rates?</h3>
            <span class="faq-icon" style="font-size: 1.5rem; transition: transform 0.3s ease; color: var(--secondary);">â–¼</span>
          </div>
          <div class="faq-answer" style="padding: 1.5rem 1rem 0; line-height: 1.8; color: var(--dark); max-height: 0; overflow: hidden; transition: max-height 0.3s ease;">
            <p>The 2025 VA disability compensation rates range from $171.23 monthly for 10% disability to $3,737.85 monthly for 100% disability (without dependents). Veterans rated 30% or higher receive additional compensation for dependents: married veterans receive extra monthly payments, children under 18 add approximately $31-75 per child depending on your rating tier, and children over 18 in school qualify for additional benefits. Veterans with a spouse requiring aid and attendance receive an additional $101 monthly at 30% rating or higher. Parents can also qualify as dependents, adding $86-141 per parent monthly. These rates are adjusted annually based on the Consumer Price Index to ensure benefits keep pace with inflation and cost of living increases across the United States.</p>
          </div>
        </div>

        <div class="faq-item" style="margin-bottom: 1.5rem; border-bottom: 2px solid var(--light-gray); padding-bottom: 1.5rem;">
          <div class="faq-question" onclick="toggleFAQ(this)" style="cursor: pointer; padding: 1rem; background: linear-gradient(135deg, rgba(0, 40, 104, 0.05), rgba(191, 10, 48, 0.05)); border-radius: 8px; transition: all 0.3s ease; display: flex; justify-content: space-between; align-items: center;">
            <h3 style="color: var(--primary); font-size: 1.15rem; font-weight: 700; margin: 0;">Do I qualify for dependent benefits?</h3>
            <span class="faq-icon" style="font-size: 1.5rem; transition: transform 0.3s ease; color: var(--secondary);">â–¼</span>
          </div>
          <div class="faq-answer" style="padding: 1.5rem 1rem 0; line-height: 1.8; color: var(--dark); max-height: 0; overflow: hidden; transition: max-height 0.3s ease;">
            <p>Veterans rated 30% or higher qualify for additional compensation for dependents. Eligible dependents include your spouse (legal marriage recognized by the state where you were married), unmarried children under 18 years old, children ages 18-23 enrolled full-time in approved educational institutions, children of any age who became permanently incapable of self-support before age 18, and dependent parents with income below VA-established limits (approximately $24,000 annually). Spouses requiring aid and attendance (needing assistance with daily activities like bathing, feeding, or dressing) qualify for additional monthly compensation. To receive dependent benefits, you must add dependents to your VA records by submitting VA Form 21-686c (Declaration of Status of Dependents) along with supporting documentation such as marriage certificates, birth certificates, and school enrollment verification.</p>
          </div>
        </div>

        <div class="faq-item" style="margin-bottom: 1.5rem; border-bottom: 2px solid var(--light-gray); padding-bottom: 1.5rem;">
          <div class="faq-question" onclick="toggleFAQ(this)" style="cursor: pointer; padding: 1rem; background: linear-gradient(135deg, rgba(0, 40, 104, 0.05), rgba(191, 10, 48, 0.05)); border-radius: 8px; transition: all 0.3s ease; display: flex; justify-content: space-between; align-items: center;">
            <h3 style="color: var(--primary); font-size: 1.15rem; font-weight: 700; margin: 0;">Is VA disability compensation taxable?</h3>
            <span class="faq-icon" style="font-size: 1.5rem; transition: transform 0.3s ease; color: var(--secondary);">â–¼</span>
          </div>
          <div class="faq-answer" style="padding: 1.5rem 1rem 0; line-height: 1.8; color: var(--dark); max-height: 0; overflow: hidden; transition: max-height 0.3s ease;">
            <p>No, VA disability compensation is completely tax-free at federal, state, and local levels. The IRS does not consider VA disability payments as taxable income, meaning you don't report these benefits on your tax return and they don't affect your adjusted gross income (AGI) or tax bracket. This tax-exempt status applies to all VA disability compensation including base payments, dependent allowances, special monthly compensation (SMC), and any retroactive payments you receive. Additionally, VA disability compensation doesn't count toward income limits for federal assistance programs like SNAP (food stamps), though it may affect state-specific benefit calculations. Veterans receiving concurrent retirement and disability pay (CRDP) should note that only the VA disability portion is tax-free; military retirement pay remains taxable unless it's combat-related special compensation (CRSC).</p>
          </div>
        </div>

        <div class="faq-item" style="margin-bottom: 1.5rem; border-bottom: 2px solid var(--light-gray); padding-bottom: 1.5rem;">
          <div class="faq-question" onclick="toggleFAQ(this)" style="cursor: pointer; padding: 1rem; background: linear-gradient(135deg, rgba(0, 40, 104, 0.05), rgba(191, 10, 48, 0.05)); border-radius: 8px; transition: all 0.3s ease; display: flex; justify-content: space-between; align-items: center;">
            <h3 style="color: var(--primary); font-size: 1.15rem; font-weight: 700; margin: 0;">How long does it take to receive VA disability payments?</h3>
            <span class="faq-icon" style="font-size: 1.5rem; transition: transform 0.3s ease; color: var(--secondary);">â–¼</span>
          </div>
          <div class="faq-answer" style="padding: 1.5rem 1rem 0; line-height: 1.8; color: var(--dark); max-height: 0; overflow: hidden; transition: max-height 0.3s ease;">
            <p>VA disability claim processing times vary significantly based on claim complexity, evidence requirements, and regional workload, but the VA aims to complete claims within 125 days of submission. Initial claims for first-time applicants typically take 3-6 months from submission to decision, while supplemental claims or appeals can take 6-18 months depending on the level of appeal (Supplemental Claim, Higher-Level Review, or Board of Veterans' Appeals). Once your claim is approved, you'll typically receive your first payment within 15 days of the decision date via direct deposit to your bank account. Retroactive payments (back pay) are included in your first payment, calculated from your effective date (usually your claim filing date or date of service separation, whichever is later). To expedite processing, submit a fully developed claim with all medical records, service records, and supporting evidence upfront, or work with an accredited Veterans Service Organization (VSO) representative who can help ensure your claim is complete.</p>
          </div>
        </div>

        <div class="faq-item" style="margin-bottom: 1.5rem; border-bottom: 2px solid var(--light-gray); padding-bottom: 1.5rem;">
          <div class="faq-question" onclick="toggleFAQ(this)" style="cursor: pointer; padding: 1rem; background: linear-gradient(135deg, rgba(0, 40, 104, 0.05), rgba(191, 10, 48, 0.05)); border-radius: 8px; transition: all 0.3s ease; display: flex; justify-content: space-between; align-items: center;">
            <h3 style="color: var(--primary); font-size: 1.15rem; font-weight: 700; margin: 0;">Can I work while receiving VA disability compensation?</h3>
            <span class="faq-icon" style="font-size: 1.5rem; transition: transform 0.3s ease; color: var(--secondary);">â–¼</span>
          </div>
          <div class="faq-answer" style="padding: 1.5rem 1rem 0; line-height: 1.8; color: var(--dark); max-height: 0; overflow: hidden; transition: max-height 0.3s ease;">
            <p>Yes, you can work and earn income while receiving VA disability compensation without any earnings restrictions or benefit reductions. Unlike Social Security Disability Insurance (SSDI) which has strict income limits, VA disability compensation has no income cap regardless of your disability rating percentage. However, if you're rated 100% disabled under Individual Unemployability (TDIU) status, the VA considers you unable to maintain substantially gainful employment, and earning above marginal employment thresholds ($13,000-14,000 annually as of 2025) may trigger a review of your TDIU status. Veterans rated 100% schedular (based on symptom severity rather than employability) can work without restrictions. If you receive Social Security benefits in addition to VA compensation, be aware that Social Security has separate earnings limits that could affect those benefits. The VA encourages veterans to pursue employment through vocational rehabilitation programs, and working doesn't automatically trigger disability re-evaluation unless your condition significantly improves.</p>
        </div>
      </div>

        <div class="faq-item" style="margin-bottom: 0;">
          <div class="faq-question" onclick="toggleFAQ(this)" style="cursor: pointer; padding: 1rem; background: linear-gradient(135deg, rgba(0, 40, 104, 0.05), rgba(191, 10, 48, 0.05)); border-radius: 8px; transition: all 0.3s ease; display: flex; justify-content: space-between; align-items: center;">
            <h3 style="color: var(--primary); font-size: 1.15rem; font-weight: 700; margin: 0;">What is the difference between VA disability rating and percentage?</h3>
            <span class="faq-icon" style="font-size: 1.5rem; transition: transform 0.3s ease; color: var(--secondary);">â–¼</span>
          </div>
          <div class="faq-answer" style="padding: 1.5rem 1rem 0; line-height: 1.8; color: var(--dark); max-height: 0; overflow: hidden; transition: max-height 0.3s ease;">
            <p>VA disability rating and percentage refer to the same concept - the VA uses these terms interchangeably to express the severity of your service-connected conditions. Your individual disability ratings (assigned to each specific condition like PTSD at 70%, tinnitus at 10%, back injury at 40%) represent how severely each condition impacts your ability to work and function. Your combined disability rating is the mathematical combination of all individual ratings using VA's combined ratings table, always rounded to the nearest 10% increment (0%, 10%, 20%, up to 100%). This combined rating determines your monthly compensation tier and benefit eligibility. For example, you might have individual ratings of 50%, 30%, and 20%, which combine to a 72% rating that rounds to 70% combined - that 70% is what determines your payment and benefits. Higher combined ratings unlock additional benefits like commissary access (50%), CHAMPVA for dependents (100%), and property tax exemptions in many states.</p>
        </div>
      </div>

          </div>
    </section>

    <!-- People Also Search For Section -->
    <section style="max-width: 1200px; margin: 3rem auto; padding: 0 2rem;">
      <div style="background: linear-gradient(135deg, rgba(0, 40, 104, 0.15) 0%, rgba(191, 10, 48, 0.1) 100%); padding: 2rem; border-radius: 12px; border: 1px solid rgba(0, 40, 104, 0.2); box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15), 0 0 20px rgba(0, 40, 104, 0.15); backdrop-filter: blur(10px); position: relative; overflow: hidden;">
        <div style="position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 50%, var(--accent) 100%); box-shadow: 0 0 10px rgba(0, 40, 104, 0.5);"></div>
        <h2 style="color: var(--primary); font-size: 1.8rem; margin-bottom: 1.5rem; text-align: center; font-weight: 800; text-transform: uppercase; letter-spacing: 1px;">
          ðŸ” People Also Search For
        </h2>
        <ul style="list-style: none; padding: 0; margin: 0; display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem;">
          
          <li style="background: rgba(255, 255, 255, 0.95); padding: 1rem 1.25rem; border-radius: 8px; color: var(--dark); font-size: 0.95rem; border: 1px solid rgba(0, 40, 104, 0.2); transition: all 0.3s ease; backdrop-filter: blur(5px); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); display: flex; align-items: center; gap: 0.75rem; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; cursor: default;" onmouseover="this.style.background='rgba(0, 40, 104, 0.1)'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 15px rgba(0, 40, 104, 0.25)';" onmouseout="this.style.background='rgba(255, 255, 255, 0.95)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0, 0, 0, 0.1)';">
            <span style="font-size: 1.5rem;">ðŸ’°</span>
            <span>VA disability pay chart 2025</span>
          </li>
          
          <li style="background: rgba(255, 255, 255, 0.95); padding: 1rem 1.25rem; border-radius: 8px; color: var(--dark); font-size: 0.95rem; border: 1px solid rgba(0, 40, 104, 0.2); transition: all 0.3s ease; backdrop-filter: blur(5px); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); display: flex; align-items: center; gap: 0.75rem; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; cursor: default;" onmouseover="this.style.background='rgba(0, 40, 104, 0.1)'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 15px rgba(0, 40, 104, 0.25)';" onmouseout="this.style.background='rgba(255, 255, 255, 0.95)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0, 0, 0, 0.1)';">
            <span style="font-size: 1.5rem;">ðŸ”„</span>
            <span>How to calculate combined VA rating</span>
          </li>
          
          <li style="background: rgba(255, 255, 255, 0.95); padding: 1rem 1.25rem; border-radius: 8px; color: var(--dark); font-size: 0.95rem; border: 1px solid rgba(0, 40, 104, 0.2); transition: all 0.3s ease; backdrop-filter: blur(5px); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); display: flex; align-items: center; gap: 0.75rem; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; cursor: default;" onmouseover="this.style.background='rgba(0, 40, 104, 0.1)'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 15px rgba(0, 40, 104, 0.25)';" onmouseout="this.style.background='rgba(255, 255, 255, 0.95)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0, 0, 0, 0.1)';">
            <span style="font-size: 1.5rem;">ðŸ‡ºðŸ‡¸</span>
            <span>VA dependent benefits eligibility</span>
          </li>
          
          <li style="background: rgba(255, 255, 255, 0.95); padding: 1rem 1.25rem; border-radius: 8px; color: var(--dark); font-size: 0.95rem; border: 1px solid rgba(0, 40, 104, 0.2); transition: all 0.3s ease; backdrop-filter: blur(5px); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); display: flex; align-items: center; gap: 0.75rem; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; cursor: default;" onmouseover="this.style.background='rgba(0, 40, 104, 0.1)'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 15px rgba(0, 40, 104, 0.25)';" onmouseout="this.style.background='rgba(255, 255, 255, 0.95)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0, 0, 0, 0.1)';">
            <span style="font-size: 1.5rem;">ðŸ“Š</span>
            <span>Best free VA disability calculator</span>
              </li>
          
          <li style="background: rgba(255, 255, 255, 0.95); padding: 1rem 1.25rem; border-radius: 8px; color: var(--dark); font-size: 0.95rem; border: 1px solid rgba(0, 40, 104, 0.2); transition: all 0.3s ease; backdrop-filter: blur(5px); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); display: flex; align-items: center; gap: 0.75rem; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; cursor: default;" onmouseover="this.style.background='rgba(0, 40, 104, 0.1)'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 15px rgba(0, 40, 104, 0.25)';" onmouseout="this.style.background='rgba(255, 255, 255, 0.95)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0, 0, 0, 0.1)';">
            <span style="font-size: 1.5rem;">ðŸ’µ</span>
            <span>VA COLA increase 2025</span>
              </li>
          
          <li style="background: rgba(255, 255, 255, 0.95); padding: 1rem 1.25rem; border-radius: 8px; color: var(--dark); font-size: 0.95rem; border: 1px solid rgba(0, 40, 104, 0.2); transition: all 0.3s ease; backdrop-filter: blur(5px); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); display: flex; align-items: center; gap: 0.75rem; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; cursor: default;" onmouseover="this.style.background='rgba(0, 40, 104, 0.1)'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 15px rgba(0, 40, 104, 0.25)';" onmouseout="this.style.background='rgba(255, 255, 255, 0.95)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0, 0, 0, 0.1)';">
            <span style="font-size: 1.5rem;">ðŸŽ¯</span>
            <span>100% VA disability benefits list</span>
              </li>
          
          <li style="background: rgba(255, 255, 255, 0.95); padding: 1rem 1.25rem; border-radius: 8px; color: var(--dark); font-size: 0.95rem; border: 1px solid rgba(0, 40, 104, 0.2); transition: all 0.3s ease; backdrop-filter: blur(5px); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); display: flex; align-items: center; gap: 0.75rem; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; cursor: default;" onmouseover="this.style.background='rgba(0, 40, 104, 0.1)'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 15px rgba(0, 40, 104, 0.25)';" onmouseout="this.style.background='rgba(255, 255, 255, 0.95)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0, 0, 0, 0.1)';">
            <span style="font-size: 1.5rem;">âš–ï¸</span>
            <span>VA disability rating vs percentage</span>
          </li>
          
          <li style="background: rgba(255, 255, 255, 0.95); padding: 1rem 1.25rem; border-radius: 8px; color: var(--dark); font-size: 0.95rem; border: 1px solid rgba(0, 40, 104, 0.2); transition: all 0.3s ease; backdrop-filter: blur(5px); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); display: flex; align-items: center; gap: 0.75rem; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; cursor: default;" onmouseover="this.style.background='rgba(0, 40, 104, 0.1)'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 15px rgba(0, 40, 104, 0.25)';" onmouseout="this.style.background='rgba(255, 255, 255, 0.95)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0, 0, 0, 0.1)';">
            <span style="font-size: 1.5rem;">ðŸ¥</span>
            <span>VA healthcare eligibility by rating</span>
              </li>
          
          <li style="background: rgba(255, 255, 255, 0.95); padding: 1rem 1.25rem; border-radius: 8px; color: var(--dark); font-size: 0.95rem; border: 1px solid rgba(0, 40, 104, 0.2); transition: all 0.3s ease; backdrop-filter: blur(5px); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); display: flex; align-items: center; gap: 0.75rem; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; cursor: default;" onmouseover="this.style.background='rgba(0, 40, 104, 0.1)'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 15px rgba(0, 40, 104, 0.25)';" onmouseout="this.style.background='rgba(255, 255, 255, 0.95)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0, 0, 0, 0.1)';">
            <span style="font-size: 1.5rem;">ðŸ“‹</span>
            <span>TDIU vs 100% schedular rating</span>
              </li>
          
          <li style="background: rgba(255, 255, 255, 0.95); padding: 1rem 1.25rem; border-radius: 8px; color: var(--dark); font-size: 0.95rem; border: 1px solid rgba(0, 40, 104, 0.2); transition: all 0.3s ease; backdrop-filter: blur(5px); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); display: flex; align-items: center; gap: 0.75rem; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; cursor: default;" onmouseover="this.style.background='rgba(0, 40, 104, 0.1)'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 15px rgba(0, 40, 104, 0.25)';" onmouseout="this.style.background='rgba(255, 255, 255, 0.95)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0, 0, 0, 0.1)';">
            <span style="font-size: 1.5rem;">ðŸ’¡</span>
            <span>How to increase VA disability rating</span>
              </li>
          
            </ul>
        <p style="text-align: center; margin-top: 1.5rem; color: var(--dark); font-size: 0.9rem; font-style: italic; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
          ðŸ’¡ These searches help us understand what veterans are looking for
        </p>
          </div>
    </section>

    <!-- VA Guide Link Paragraph -->
    <p style="margin: 2rem auto; max-width: 1200px; padding: 1.5rem 2rem; background: linear-gradient(135deg, rgba(0, 40, 104, 0.15) 0%, rgba(191, 10, 48, 0.1) 100%); border-radius: 12px; line-height: 1.8; border: 2px solid var(--primary); backdrop-filter: blur(10px); font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; box-shadow: 0 0 15px rgba(0, 40, 104, 0.25), inset 0 0 10px rgba(0, 40, 104, 0.05); text-align: center;">
      ðŸ‡ºðŸ‡¸ <strong style="color: var(--primary);">Want to learn more about VA disability benefits?</strong> <span style="color: var(--dark);">Read our comprehensive</span> <a href="guide.html" style="color: var(--secondary); font-weight: bold; text-decoration: underline;">VA Disability Guide 2025</a> <span style="color: var(--dark);">covering combined rating calculations with step-by-step examples, complete 2025 payment rate tables, dependent eligibility requirements (spouse, children, parents, aid and attendance), claim filing procedures with strategic tips, C&P examination guidance, the three-lane appeals process (Supplemental Claim, Higher-Level Review, Board Appeal), TDIU Individual Unemployability, Special Monthly Compensation (SMC), additional benefits by rating tier, and expert advice for maximizing your entitled compensation as a veteran.</span>
    </p>

    <!-- Related Tools Section -->
    <div style="background: var(--light-gray); padding: 2rem; margin: 3rem 0; border-radius: 12px; border: 1px solid rgba(0, 40, 104, 0.15); box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); position: relative; overflow: hidden; max-width: 1200px; margin-left: auto; margin-right: auto;">
      <div style="position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 50%, var(--accent) 100%); box-shadow: 0 0 10px rgba(0, 40, 104, 0.5);"></div>
      <h3 style="text-align: center; margin-bottom: 1.5rem; color: var(--primary); font-size: 1.8rem; font-weight: 800; text-transform: uppercase; letter-spacing: 1px;">
        ðŸ”§ More Financial & Gaming Calculators
      </h3>
      <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 1rem; padding: 0 2rem;">
        
        <a href="../gst-calculator/" style="padding: 0.75rem 1.25rem; background: white; border-radius: 8px; text-decoration: none; color: var(--dark); border: 2px solid var(--primary); transition: all 0.3s ease; box-shadow: 0 0 10px rgba(0, 40, 104, 0.15); font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;" onmouseover="this.style.background='var(--primary)'; this.style.color='white'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(0, 40, 104, 0.3)';" onmouseout="this.style.background='white'; this.style.color='var(--dark)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 0 10px rgba(0, 40, 104, 0.15)';">GST Calculator India</a>
        
        <a href="../gaming-calculators/robux/" style="padding: 0.75rem 1.25rem; background: white; border-radius: 8px; text-decoration: none; color: var(--dark); border: 2px solid var(--primary); transition: all 0.3s ease; box-shadow: 0 0 10px rgba(0, 40, 104, 0.15); font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;" onmouseover="this.style.background='var(--primary)'; this.style.color='white'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(0, 40, 104, 0.3)';" onmouseout="this.style.background='white'; this.style.color='var(--dark)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 0 10px rgba(0, 40, 104, 0.15)';">Robux Calculator</a>
        
        <a href="../gaming-calculators/vbucks/" style="padding: 0.75rem 1.25rem; background: white; border-radius: 8px; text-decoration: none; color: var(--dark); border: 2px solid var(--primary); transition: all 0.3s ease; box-shadow: 0 0 10px rgba(0, 40, 104, 0.15); font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;" onmouseover="this.style.background='var(--primary)'; this.style.color='white'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(0, 40, 104, 0.3)';" onmouseout="this.style.background='white'; this.style.color='var(--dark)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 0 10px rgba(0, 40, 104, 0.15)';">V-Bucks Calculator</a>
        
        <a href="../gaming-calculators/" style="padding: 0.75rem 1.25rem; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); border-radius: 8px; text-decoration: none; color: white; border: 2px solid var(--accent); font-weight: 900; box-shadow: 0 0 20px rgba(0, 40, 104, 0.4), 0 4px 15px rgba(0, 0, 0, 0.2); text-transform: uppercase; letter-spacing: 0.5px; transition: all 0.3s ease;" onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 0 30px rgba(0, 40, 104, 0.6), 0 6px 20px rgba(0, 0, 0, 0.3)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 0 20px rgba(0, 40, 104, 0.4), 0 4px 15px rgba(0, 0, 0, 0.2)';">All Calculators</a>
        
          </div>
          </div>

    <script>
      // 2025 VA Disability Rates
      const vaRates = {
        0: { single: 0, married: 0 },
        10: { single: 175.51, married: 175.51 },
        20: { single: 349.48, married: 349.48 },
        30: { single: 543.54, married: 608.24 },
        40: { single: 783.06, married: 869.26 },
        50: { single: 1114.02, married: 1221.17 },
        60: { single: 1410.00, married: 1541.49 },
        70: { single: 1759.19, married: 1911.79 },
        80: { single: 2045.17, married: 2219.03 },
        90: { single: 2298.29, married: 2499.60 },
        100: { single: 3831.30, married: 4052.10 },
      };

      let disabilityCount = 0;

      // Initialize calculator
      document.addEventListener("DOMContentLoaded", function () {
        addDisabilityInput();
        addDisabilityInput();
        loadSavedCalculation();
        setupEventListeners();
        generatePayChart();

      });

      function setupEventListeners() {
        // Add disability button
        document
          .getElementById("addDisabilityBtn")
          .addEventListener("click", function () {
            addDisabilityInput();
            if (disabilityCount >= 10) {
              this.style.display = "none";
            }
          });
      }

      function addDisabilityInput() {
        if (disabilityCount >= 10) return;

        disabilityCount++;
        const container = document.getElementById("disabilityInputs");
        const disabilityItem = document.createElement("div");
        disabilityItem.className = "disability-item";
        disabilityItem.innerHTML = `
          <label for="disability${disabilityCount}">Disability ${disabilityCount}:</label>
          <select class="disability-select" id="disability${disabilityCount}" onchange="calculateCombinedRating()">
            <option value="0">0%</option>
            <option value="10">10%</option>
            <option value="20">20%</option>
            <option value="30">30%</option>
            <option value="40">40%</option>
            <option value="50">50%</option>
            <option value="60">60%</option>
            <option value="70">70%</option>
            <option value="80">80%</option>
            <option value="90">90%</option>
            <option value="100">100%</option>
          </select>
          <div class="bilateral-checkboxes">
            <label>
              <input type="checkbox" class="bilateral-left" data-id="${disabilityCount}" onchange="calculateCombinedRating()">
              <span>ðŸ‘ˆ Left Side (for bilateral factor)</span>
            </label>
            <label>
              <input type="checkbox" class="bilateral-right" data-id="${disabilityCount}" onchange="calculateCombinedRating()">
              <span>ðŸ‘‰ Right Side (for bilateral factor)</span>
            </label>
          </div>
          <div style="font-size: 0.85rem; color: var(--gray); margin-top: 0.5rem; font-style: italic;">
            Check these if this disability affects a paired body part (arms, legs, hands, feet, etc.). Bilateral disabilities get a 10% bonus calculation.
          </div>
          <button class="remove-btn" onclick="removeDisability(this)" ${
            disabilityCount <= 2 ? 'style="display:none"' : ""
          }>Remove</button>
        `;
        container.appendChild(disabilityItem);
      }

      function removeDisability(button) {
        if (disabilityCount <= 2) return;
        button.parentElement.remove();
        disabilityCount--;
        calculateCombinedRating();
      }

      function detectBilateralPairs() {
        const pairs = new Map();
        const selects = document.querySelectorAll(".disability-select");
        
        selects.forEach((select) => {
          const disabilityId = select.id.replace("disability", "");
          const rating = parseInt(select.value);
          const leftCheckbox = select.parentElement.querySelector('.bilateral-left');
          const rightCheckbox = select.parentElement.querySelector('.bilateral-right');
          
          if (!leftCheckbox || !rightCheckbox || rating <= 0) return;
          
          const isLeft = leftCheckbox.checked;
          const isRight = rightCheckbox.checked;
          
          if (isLeft || isRight) {
            const side = isLeft ? 'left' : 'right';
            const pairKey = side;
            if (!pairs.has(pairKey)) {
              pairs.set(pairKey, []);
            }
            pairs.get(pairKey).push({
              id: disabilityId,
              rating: rating
            });
          }
        });
        
        // Find matching bilateral pairs (left and right with same characteristics)
        // Simplified: just collect pairs for now, matching logic can be enhanced
        return Array.from(pairs.values()).filter(group => group.length >= 1);
      }

      function calculateBilateralFactor(bilateralRatings) {
        if (bilateralRatings.length === 0) return null;
        
        // Per 38 CFR Â§4.26: First combine all bilateral disabilities using efficiency method
        // No rounding during intermediate calculations
        let combined = 0;
        let remaining = 100;
        
        bilateralRatings.forEach((rating) => {
          const additional = (rating * remaining) / 100;
          combined = combined + additional;
          remaining = remaining - additional;
        });
        
        // Add bilateral factor: 10% of the combined bilateral rating
        // Again, no rounding at this step
        const bilateralFactor = combined * 0.1;
        const total = combined + bilateralFactor;
        
        return {
          combined: combined,
          factor: bilateralFactor,
          total: total
        };
      }

      function calculateVACombined(disabilities, showBreakdown = false) {
        disabilities = disabilities.filter((d) => d > 0);
        if (disabilities.length === 0) return { result: 0, exact: 0, steps: [] };
        if (disabilities.length === 1) return { result: disabilities[0], exact: disabilities[0], steps: [] };

        // Sort disabilities from highest to lowest per VA efficiency method
        disabilities.sort((a, b) => b - a);
        
        // Efficiency method calculation (per 38 CFR Â§4.25)
        // Start with 100% efficiency (100% ability remaining)
        let combined = 0;
        let remaining = 100;
        const steps = showBreakdown ? [{ disability: disabilities[0], remaining: 100, before: 0, after: disabilities[0], efficiencyLeft: 100 - disabilities[0] }] : [];

        for (let i = 0; i < disabilities.length; i++) {
          const disability = disabilities[i];
          
          // Apply disability to remaining efficiency (not to total)
          // Formula: additional rating = (disability % Ã— remaining efficiency) / 100
          const additional = (disability * remaining) / 100;
          const newCombined = combined + additional;
          const newRemaining = remaining - additional;
          
          // Track breakdown for transparency
          if (showBreakdown && i > 0) {
            steps.push({
              disability: disability,
              remaining: remaining,
              before: combined,
              after: newCombined,
              efficiencyLeft: newRemaining
            });
          }
          
          // Update for next iteration (keep unrounded values)
          combined = newCombined;
          remaining = newRemaining;
        }
        
        // CRITICAL: Rounding occurs ONLY ONCE at the final step per 38 CFR Â§4.25
        // Rounding rules: final digit 0-4 rounds down, 5-9 rounds up to nearest 10
        // Example: 72% â†’ 70%, 75% â†’ 80%, 48.4% â†’ 50%
        const roundedResult = Math.round(combined / 10) * 10;
        
        return showBreakdown ? { result: roundedResult, exact: combined, steps: steps } : roundedResult;
      }

      function calculateCombinedRating() {
        const disabilities = [];
        const bilateralDisabilities = [];
        const selects = document.querySelectorAll(".disability-select");

        selects.forEach((select) => {
          const value = parseInt(select.value);
          const leftCheckbox = select.parentElement.querySelector('.bilateral-left');
          const rightCheckbox = select.parentElement.querySelector('.bilateral-right');
          const isBilateral = (leftCheckbox && leftCheckbox.checked) || (rightCheckbox && rightCheckbox.checked);
          
          if (value > 0) {
            if (isBilateral) {
              bilateralDisabilities.push(value);
            } else {
            disabilities.push(value);
            }
          }
        });

        let bilateralInfo = null;
        if (bilateralDisabilities.length > 0) {
          bilateralInfo = calculateBilateralFactor(bilateralDisabilities);
          // Add bilateral result as a single disability for further combination
          disabilities.push(bilateralInfo.total);
        }

        const calculationResult = calculateVACombined(disabilities, true);
        const exactCombined = calculationResult.exact;
        const roundedCombined = calculationResult.result;
        const steps = calculationResult.steps;

        document.getElementById("ratingNumber").textContent =
          roundedCombined + "%";

        // Update progress bar
        const progressFill = document.getElementById("progressFill");
        progressFill.style.width = roundedCombined + "%";

        // Update progress bar color
        progressFill.className = "progress-fill";
        if (roundedCombined <= 30) {
          progressFill.classList.add("progress-0-30");
        } else if (roundedCombined <= 60) {
          progressFill.classList.add("progress-40-60");
        } else if (roundedCombined <= 90) {
          progressFill.classList.add("progress-70-90");
        } else {
          progressFill.classList.add("progress-100");
        }

        // Update explanation with bilateral info
        const explanation = document.getElementById("ratingExplanation");
        if (bilateralInfo) {
          const bilateralText = `Bilateral Factor Applied: ${bilateralInfo.factor.toFixed(1)}% added to ${bilateralInfo.combined.toFixed(1)}% = ${bilateralInfo.total.toFixed(1)}%`;
        if (exactCombined !== roundedCombined) {
            explanation.innerHTML = `${bilateralText}<br>Exact calculation: ${exactCombined.toFixed(1)}% (rounds to ${roundedCombined}% for payment)`;
          } else {
            explanation.innerHTML = `${bilateralText}<br>Combined rating: ${roundedCombined}%`;
          }
        } else {
          if (exactCombined !== roundedCombined) {
            explanation.textContent = `Exact calculation: ${exactCombined.toFixed(1)}% (rounds to ${roundedCombined}% for payment)`;
        } else {
          explanation.textContent = `Combined rating: ${roundedCombined}%`;
          }
        }

        // Show calculation breakdown
        const breakdownDiv = document.getElementById("calculationBreakdown");
        const breakdownSteps = document.getElementById("breakdownSteps");
        
        if (disabilities.length > 0 && exactCombined > 0) {
          let breakdownHTML = '';
          
          // Show starting point
          breakdownHTML += `<div style="padding: 0.5rem; background: white; border-radius: 6px; margin-bottom: 0.5rem; border-left: 3px solid var(--primary);">
            <strong>Starting Point:</strong> 100% efficiency
          </div>`;
          
          // Show bilateral factor if applicable
          if (bilateralInfo) {
            breakdownHTML += `<div style="padding: 0.5rem; background: rgba(255, 215, 0, 0.1); border-radius: 6px; margin-bottom: 0.5rem; border-left: 3px solid #ffd700;">
              <strong>Bilateral Disabilities:</strong> ${bilateralDisabilities.join('%, ')}%<br>
              Combined: ${bilateralInfo.combined.toFixed(1)}% + ${bilateralInfo.factor.toFixed(1)}% factor = <strong>${bilateralInfo.total.toFixed(1)}%</strong>
            </div>`;
          }
          
          // Show each disability step
          const allDisabilities = [...disabilities].sort((a, b) => b - a);
          let currentTotal = 0;
          let remaining = 100;
          
          allDisabilities.forEach((rating, index) => {
            const remainingBefore = remaining;
            const additional = (rating * remaining) / 100;
            currentTotal = currentTotal + additional;
            remaining = remaining - additional;
            
            const isFirst = index === 0;
            const isBilateralTotal = bilateralInfo && index === 0 && rating === bilateralInfo.total;
            const label = isBilateralTotal ? 'Bilateral Total' : `Disability ${index + 1}`;
            
            breakdownHTML += `<div style="padding: 0.5rem; background: white; border-radius: 6px; margin-bottom: 0.5rem; border-left: 3px solid ${isFirst ? 'var(--primary)' : '#22c55e'};">
              <div><strong>${label}:</strong> ${rating}% applies to ${remainingBefore.toFixed(1)}% remaining</div>
              <div style="font-size: 0.85rem; color: var(--gray); margin-top: 0.25rem;">
                ${rating}% Ã— ${remainingBefore.toFixed(1)}% = ${additional.toFixed(1)}% â†’ Total: ${currentTotal.toFixed(1)}% (${remaining.toFixed(1)}% efficiency left)
              </div>
            </div>`;
          });
          
          // Show final result
          breakdownHTML += `<div style="padding: 0.75rem; background: linear-gradient(135deg, rgba(6, 102, 255, 0.1), rgba(191, 10, 48, 0.05)); border-radius: 6px; border: 2px solid var(--primary);">
            <strong>Final Result:</strong> ${exactCombined.toFixed(1)}% â†’ rounds to <strong>${roundedCombined}%</strong>
          </div>`;
          
          breakdownSteps.innerHTML = breakdownHTML;
          breakdownDiv.style.display = 'block';
        } else {
          breakdownDiv.style.display = 'none';
        }

        // Show/hide TDIU section
        const tdiuSection = document.getElementById("tdiuSection");
        const totalDisabilities = disabilities.length + bilateralDisabilities.length;
        if (totalDisabilities > 0) {
          tdiuSection.style.display = 'block';
        } else {
          tdiuSection.style.display = 'none';
        }

        // Show/hide Path to 100% section based on exact rating
        updatePathTo100(exactCombined, roundedCombined);

        calculatePayment();
      }

      function updatePathTo100(exactRating, roundedRating) {
        const pathSection = document.getElementById('pathTo100Section');
        
        // Only show for veterans between 70% and 94% (before rounding)
        if (exactRating >= 70 && exactRating < 95) {
          pathSection.style.display = 'block';
          
          // Calculate what additional rating is needed to reach 95% (which rounds to 100%)
          // To find needed rating, we need to solve: current + additional = 95%
          // Using efficiency method: additional = (needed / remaining) Ã— 100
          const remaining = 100 - exactRating;
          const neededTo95 = 95 - exactRating;
          const additionalRatingNeeded = (neededTo95 / remaining) * 100;
          
          // Update current unrounded rating
          document.getElementById('currentUnroundedRating').textContent = exactRating.toFixed(1) + '%';
          
          // Update target
          document.getElementById('targetRating').textContent = '95%';
          
          // Update additional needed (round to nearest whole percentage for clarity)
          const additionalNeededRounded = Math.round(additionalRatingNeeded);
          document.getElementById('additionalNeeded').textContent = additionalNeededRounded + '%';
          
          // Calculate progress percentage (how far toward 95%)
          const progress = (exactRating / 95) * 100;
          document.getElementById('progressPercentage').textContent = progress.toFixed(0) + '%';
          document.getElementById('pathProgressFill').style.width = progress + '%';
          
          // Generate personalized message
          let message = `You're at <strong>${exactRating.toFixed(1)}%</strong> (displays as ${roundedRating}%). `;
          
          if (additionalNeededRounded < 10) {
            message += `You need just <strong style="color: var(--secondary);">${additionalNeededRounded}% more</strong> to reach 95%, which rounds to 100% total disability. `;
            message += `You're very close to qualifying for maximum compensation!`;
          } else if (additionalNeededRounded < 20) {
            message += `You need <strong style="color: var(--secondary);">${additionalNeededRounded}% more</strong> to reach 95%, which rounds to 100%. `;
            message += `This is within reach - consider filing for any additional service-connected conditions.`;
          } else {
            message += `You need <strong style="color: var(--secondary);">${additionalNeededRounded}% more</strong> to reach 95%, which rounds to 100%. `;
            message += `Consider filing for secondary conditions or requesting an increase evaluation for your current disabilities.`;
          }
          
          document.getElementById('pathMessage').innerHTML = message;
        } else {
          pathSection.style.display = 'none';
        }
      }

      function calculatePayment() {
        const disabilities = [];
        const selects = document.querySelectorAll(".disability-select");

        selects.forEach((select) => {
          const value = parseInt(select.value);
          if (value > 0) {
            disabilities.push(value);
          }
        });

        const combinedRatingResult = calculateVACombined(disabilities);
        const combinedRating = typeof combinedRatingResult === 'object' ? combinedRatingResult.exact : combinedRatingResult;
        const roundedRating = typeof combinedRatingResult === 'object' ? combinedRatingResult.result : Math.round(combinedRating / 10) * 10;

        const dependents = {
          married: document.getElementById("married").checked,
          spouseAidAttendance: document.getElementById("spouseAidAttendance")
            .checked,
          childrenUnder18:
            parseInt(document.getElementById("childrenUnder18").value) || 0,
          childrenInSchool:
            parseInt(document.getElementById("childrenInSchool").value) || 0,
          oneParent: document.getElementById("oneParent").checked,
          twoParents: document.getElementById("twoParents").checked,
        };

        let baseRate = dependents.married
          ? vaRates[roundedRating].married
          : vaRates[roundedRating].single;
        let dependentAdditions = 0;

        // Add dependent amounts (only for 30% and above)
        if (roundedRating >= 30) {
          // Children Under 18 Rates (2025 Official)
          const childUnder18Rates = {
            30: [31, 0, 0], // [first child, second child, third+ child]
            40: [41, 20, 20],
            50: [56, 31, 31],
            60: [71, 41, 41],
            70: [92, 56, 56],
            80: [107, 71, 71],
            90: [122, 86, 86],
            100: [137, 102, 102],
          };

          // Calculate children under 18
          if (dependents.childrenUnder18 > 0) {
            const rates = childUnder18Rates[roundedRating];
            for (let i = 0; i < dependents.childrenUnder18; i++) {
              if (i === 0) dependentAdditions += rates[0]; // First child
              else if (i === 1) dependentAdditions += rates[1]; // Second child
              else dependentAdditions += rates[2]; // Third+ children
            }
          }

          // Children 18-23 In School Rates (2025 Official)
          const childInSchoolRates = {
            30: [101, 0, 0],
            40: [111, 31, 31],
            50: [127, 41, 41],
            60: [142, 56, 56],
            70: [163, 71, 71],
            80: [178, 86, 86],
            90: [193, 102, 102],
            100: [208, 117, 117],
          };

          // Calculate children 18-23 in school
          if (dependents.childrenInSchool > 0) {
            const rates = childInSchoolRates[roundedRating];
            for (let i = 0; i < dependents.childrenInSchool; i++) {
              if (i === 0) dependentAdditions += rates[0];
              else if (i === 1) dependentAdditions += rates[1];
              else dependentAdditions += rates[2];
            }
          }

          // Spouse Aid & Attendance Rates (2025 Official)
          const spouseAidRates = {
            30: 47,
            40: 62,
            50: 83,
            60: 104,
            70: 125,
            80: 146,
            90: 167,
            100: 172,
          };

          if (dependents.spouseAidAttendance) {
            dependentAdditions += spouseAidRates[roundedRating] || 0;
          }

          // Add parent dependent rates (2025 Official)
          if (dependents.oneParent) {
            dependentAdditions += getParentRate(roundedRating, 1);
          }
          if (dependents.twoParents) {
            dependentAdditions += getParentRate(roundedRating, 2);
          }
        }

        const monthlyPayment = baseRate + dependentAdditions;
        const annualPayment = monthlyPayment * 12;

        // Update display with animation
        animateValue("monthlyPayment", monthlyPayment, 1000);
        animateValue("annualPayment", annualPayment, 1000);

        // Update breakdown
        document.getElementById("baseRate").textContent =
          "$" + baseRate.toFixed(2);

        if (dependentAdditions > 0) {
          document.getElementById("dependentAdditions").style.display = "flex";
          document.getElementById("dependentAmount").textContent =
            "$" + dependentAdditions.toFixed(2);
        } else {
          document.getElementById("dependentAdditions").style.display = "none";
        }

        // Update mobile sticky results bar
        if (window.innerWidth <= 768) {
          const mobileSticky = document.getElementById('mobileResultsSticky');
          if (mobileSticky) {
            mobileSticky.style.display = 'block';
            const stickyRating = mobileSticky.querySelector('.mobile-sticky-rating');
            const stickyPayment = mobileSticky.querySelector('.mobile-sticky-payment');
            
            if (stickyRating) {
              stickyRating.textContent = roundedRating + '%';
            }
            if (stickyPayment) {
              stickyPayment.textContent = '$' + monthlyPayment.toFixed(2);
            }

            // Trigger pulse animation
            mobileSticky.classList.add('updated');
            setTimeout(() => {
              mobileSticky.classList.remove('updated');
            }, 300);
          }
        }
      }

      function getParentRate(rating, parentCount) {
        // 2025 Official VA Parent Dependent Rates
        const parentRates = {
          30: { 1: 45, 2: 90 },
          40: { 1: 60, 2: 115 },
          50: { 1: 75, 2: 145 },
          60: { 1: 90, 2: 175 },
          70: { 1: 105, 2: 205 },
          80: { 1: 120, 2: 235 },
          90: { 1: 135, 2: 265 },
          100: { 1: 150, 2: 295 },
        };

        return parentRates[rating] ? parentRates[rating][parentCount] || 0 : 0;
      }

      function animateValue(elementId, endValue, duration) {
        const element = document.getElementById(elementId);
        if (!element) return; // Safety check
        
        // Cancel any ongoing animation for this element
        const animationKey = elementId + "Animation";
        if (window[animationKey]) {
          cancelAnimationFrame(window[animationKey]);
        }
        
        // Parse start value - handle "Annual: $X.XX" format
        let startValueText = element.textContent.replace(/[$,]/g, "");
        if (elementId === "annualPayment") {
          // Remove "Annual: " prefix
          startValueText = startValueText.replace(/^Annual:\s*/i, "");
        }
        const startValue = parseFloat(startValueText) || 0;
        const startTime = performance.now();

        function updateValue(currentTime) {
          const elapsed = currentTime - startTime;
          const progress = Math.min(elapsed / duration, 1);
          const currentValue = startValue + (endValue - startValue) * progress;

          if (elementId === "monthlyPayment") {
            element.textContent = "$" + currentValue.toFixed(2);
          } else if (elementId === "annualPayment") {
            element.textContent = "Annual: $" + currentValue.toFixed(2);
          }

          if (progress < 1) {
            window[animationKey] = requestAnimationFrame(updateValue);
          } else {
            // Ensure final value is set exactly
            if (elementId === "monthlyPayment") {
              element.textContent = "$" + endValue.toFixed(2);
            } else if (elementId === "annualPayment") {
              element.textContent = "Annual: $" + endValue.toFixed(2);
            }
            window[animationKey] = null;
          }
        }

        window[animationKey] = requestAnimationFrame(updateValue);
      }

      function printResults() {
        const results = document.getElementById("resultsSection").innerHTML;
        const printWindow = window.open("", "_blank");
        const dateStr = new Date().toLocaleDateString();
        const htmlContent =
          "<html><head><title>VA Disability Calculator Results<\/title><style>body { font-family: Arial, sans-serif; padding: 20px; } .monthly-payment { font-size: 2rem; font-weight: bold; color: #48bb78; } .breakdown { background: #f7fafc; padding: 15px; border-radius: 8px; margin: 15px 0; } .breakdown-item { display: flex; justify-content: space-between; margin-bottom: 8px; }<\/style><\/head><body><h1>VA Disability Calculator Results<\/h1>" +
          results +
          "<p><small>Generated on " +
          dateStr +
          "<\/small><\/p><\/body><\/html>";
        printWindow.document.write(htmlContent);
        printWindow.document.close();
        printWindow.print();
      }

      function toggleMobileBreakdown() {
        const resultsSection = document.getElementById('resultsSection');
        if (resultsSection) {
          // Scroll to the results section smoothly
          resultsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      }

      function saveCalculation() {
        const calculation = {
          disabilities: Array.from(
            document.querySelectorAll(".disability-select")
          ).map((s) => parseInt(s.value)),
          dependents: {
            married: document.getElementById("married").checked,
            spouseAidAttendance: document.getElementById("spouseAidAttendance")
              .checked,
            childrenUnder18:
              parseInt(document.getElementById("childrenUnder18").value) || 0,
            childrenInSchool:
              parseInt(document.getElementById("childrenInSchool").value) || 0,
            oneParent: document.getElementById("oneParent").checked,
            twoParents: document.getElementById("twoParents").checked,
          },
          timestamp: new Date().toISOString(),
        };

        localStorage.setItem("vaCalculator", JSON.stringify(calculation));
        alert("Calculation saved successfully!");
      }

      function loadSavedCalculation() {
        const saved = localStorage.getItem("vaCalculator");
        if (saved) {
          try {
            const calculation = JSON.parse(saved);
            // Restore disabilities
            const selects = document.querySelectorAll(".disability-select");
            calculation.disabilities.forEach((rating, index) => {
              if (selects[index]) {
                selects[index].value = rating;
              }
            });

            // Restore dependents
            Object.keys(calculation.dependents).forEach((key) => {
              const element = document.getElementById(key);
              if (element) {
                if (element.type === "checkbox") {
                  element.checked = calculation.dependents[key];
                } else {
                  element.value = calculation.dependents[key];
                }
              }
            });

            calculateCombinedRating();
          } catch (e) {
            console.error("Error loading saved calculation:", e);
          }
        }
      }

      function clearAll() {
        // Reset all disability inputs
        const selects = document.querySelectorAll(".disability-select");
        selects.forEach((select) => {
          select.value = "0";
        });

        // Reset dependent inputs
        document.getElementById("married").checked = false;
        document.getElementById("spouseAidAttendance").checked = false;
        document.getElementById("childrenUnder18").value = "0";
        document.getElementById("childrenInSchool").value = "0";
        document.getElementById("oneParent").checked = false;
        document.getElementById("twoParents").checked = false;

        // Reset to 2 disability inputs
        while (disabilityCount > 2) {
          const lastItem = document.querySelector(
            ".disability-item:last-child"
          );
          if (lastItem) {
            lastItem.remove();
            disabilityCount--;
          }
        }

        // Update remove button visibility
        const removeButtons = document.querySelectorAll(".remove-btn");
        removeButtons.forEach((btn, index) => {
          btn.style.display = index < 2 ? "none" : "block";
        });

        calculateCombinedRating();
      }

      function checkTDIUEligibility() {
        const tdiuSection = document.getElementById("tdiuSection");
        const tdiuResult = document.getElementById("tdiuResult");
        const checkbox = document.getElementById("tdiuCheckbox");
        
        if (!checkbox.checked) {
          tdiuResult.style.display = 'none';
          return;
        }
        
        // Get current disabilities
        const disabilities = [];
        const selects = document.querySelectorAll(".disability-select");
        selects.forEach((select) => {
          const value = parseInt(select.value);
          if (value > 0) {
            disabilities.push(value);
          }
        });
        
        if (disabilities.length === 0) {
          tdiuResult.innerHTML = '<p style="color: var(--gray); margin: 0;">Add disability ratings first to check TDIU eligibility.</p>';
          tdiuResult.style.display = 'block';
          return;
        }
        
        // Check eligibility criteria
        const maxDisability = Math.max(...disabilities);
        const calculationResult = calculateVACombined(disabilities, true);
        const combinedRating = calculationResult.exact;
        
        let isEligible = false;
        let eligibilityReason = '';
        
        // Check for single disability â‰¥60%
        if (maxDisability >= 60) {
          isEligible = true;
          eligibilityReason = `Single disability of ${maxDisability}% meets the â‰¥60% threshold`;
        }
        // Check for combined â‰¥70% with at least one â‰¥40%
        else if (combinedRating >= 70 && maxDisability >= 40) {
          isEligible = true;
          eligibilityReason = `Combined rating of ${combinedRating.toFixed(1)}% with a ${maxDisability}% disability meets the requirements`;
        }
        
        if (isEligible) {
          // Calculate current payment (from existing calculation)
          const dependents = {
            married: document.getElementById("married")?.checked || false,
            spouseAidAttendance: document.getElementById("spouseAidAttendance")?.checked || false,
            childrenUnder18: parseInt(document.getElementById("childrenUnder18")?.value) || 0,
            childrenInSchool: parseInt(document.getElementById("childrenInSchool")?.value) || 0,
            oneParent: document.getElementById("oneParent")?.checked || false,
            twoParents: document.getElementById("twoParents")?.checked || false
          };
          
          const roundedRating = Math.round(combinedRating / 10) * 10;
          const currentMonthly = vaRates[roundedRating].single; // Simplified - should use actual calculation
          
          // TDIU pays at 100% rate regardless of rating
          const tdiuMonthly = vaRates[100].single;
          const monthlyDifference = tdiuMonthly - currentMonthly;
          const annualDifference = monthlyDifference * 12;
          
          tdiuResult.innerHTML = `
            <div style="background: linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(34, 197, 94, 0.05)); padding: 1.25rem; border-radius: 10px; border: 2px solid #22c55e; margin-bottom: 1rem;">
              <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.75rem;">
                <span style="font-size: 1.5rem;">âœ…</span>
                <h4 style="margin: 0; color: #16a34a; font-size: 1.1rem; font-weight: 800;">You May Qualify for TDIU</h4>
              </div>
              <p style="margin: 0 0 0.75rem 0; color: var(--dark); font-size: 0.95rem;">${eligibilityReason}</p>
            </div>
            
            <div style="background: white; padding: 1rem; border-radius: 8px; margin-bottom: 1rem; border: 1px solid #e5e7eb;">
              <h4 style="margin: 0 0 0.75rem 0; font-size: 0.95rem; font-weight: 700; color: var(--primary);">Payment Comparison:</h4>
              <div style="display: grid; gap: 0.5rem;">
                <div style="padding: 0.5rem; background: var(--light-gray); border-radius: 6px;">
                  <div style="font-weight: 600; color: var(--gray); font-size: 0.85rem;">Current Rating Payment:</div>
                  <div style="font-size: 1.1rem; font-weight: 700; color: var(--dark);">$${currentMonthly.toFixed(2)}/month (${roundedRating}%)</div>
                </div>
                <div style="padding: 0.5rem; background: rgba(34, 197, 94, 0.1); border-radius: 6px; border: 1px solid #22c55e;">
                  <div style="font-weight: 600; color: #16a34a; font-size: 0.85rem;">TDIU Payment (100% rate):</div>
                  <div style="font-size: 1.1rem; font-weight: 700; color: #16a34a;">$${tdiuMonthly.toFixed(2)}/month</div>
                </div>
                <div style="padding: 0.75rem; background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(255, 215, 0, 0.05)); border-radius: 8px; border: 2px solid #ffd700; text-align: center;">
                  <div style="font-weight: 600; color: #b8860b; font-size: 0.85rem; margin-bottom: 0.25rem;">Potential Annual Increase:</div>
                  <div style="font-size: 1.3rem; font-weight: 900; color: #b8860b;">$${annualDifference.toLocaleString()}</div>
                </div>
              </div>
            </div>
            
            <div style="background: rgba(6, 102, 255, 0.05); padding: 1rem; border-radius: 8px; border-left: 4px solid var(--primary); margin-bottom: 1rem;">
              <p style="margin: 0; font-size: 0.9rem; color: var(--dark); line-height: 1.6;">
                <strong>âš ï¸ Important Restrictions:</strong> TDIU is for veterans unable to maintain substantially gainful employment due to service-connected disabilities. Income limits apply - you cannot earn more than the poverty-level threshold (~$15,060 annually in 2025) from work. TDIU pays at 100% rate but doesn't change your actual disability rating.
              </p>
            </div>
            
            <div style="text-align: center;">
              <p style="margin: 0; font-size: 0.9rem; color: var(--gray);">
                ðŸ’¡ <strong>Learn More:</strong> <a href="#complete-guide" style="color: var(--primary); font-weight: 600; text-decoration: underline;" onclick="toggleMobileGuide(); return false;">View TDIU information in the complete guide</a>
              </p>
            </div>
          `;
        } else {
          tdiuResult.innerHTML = `
            <div style="background: rgba(239, 68, 68, 0.1); padding: 1.25rem; border-radius: 10px; border: 2px solid #ef4444;">
              <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.75rem;">
                <span style="font-size: 1.5rem;">âŒ</span>
                <h4 style="margin: 0; color: #dc2626; font-size: 1.1rem; font-weight: 800;">TDIU Eligibility Criteria Not Met</h4>
              </div>
              <p style="margin: 0; color: var(--dark); font-size: 0.95rem; line-height: 1.6;">
                To qualify for TDIU, you need either:
              </p>
              <ul style="margin: 0.5rem 0 0 1.5rem; padding: 0; color: var(--dark); font-size: 0.95rem; line-height: 1.8;">
                <li>A single disability rated at least <strong>60%</strong>, OR</li>
                <li>A <strong>combined rating of 70% or higher</strong> with at least one disability rated at least <strong>40%</strong></li>
              </ul>
              <p style="margin: 0.75rem 0 0; font-size: 0.9rem; color: var(--gray);">
                Your current ratings: ${disabilities.join('%, ')}% (combined: ${Math.round(combinedRating).toFixed(1)}%)
              </p>
            </div>
          `;
        }
        
        tdiuResult.style.display = 'block';
      }

      function toggleMobileGuide() {
        const guide = document.getElementById("complete-guide");
        const button = document.querySelector(".mobile-guide-toggle");

        if (guide.classList.contains("show")) {
          guide.classList.remove("show");
          button.innerHTML = "ðŸ“– Show Complete VA Disability Guide";
          // Smooth scroll to top of calculator
          document.querySelector(".calculator-wrapper").scrollIntoView({
            behavior: "smooth",
          });
        } else {
          guide.classList.add("show");
          button.innerHTML = "ðŸ”¼ Hide Complete Guide";
          // Smooth scroll to guide
          guide.scrollIntoView({
            behavior: "smooth",
          });
        }
      }

      // Show/hide remove buttons
      document.addEventListener("change", function (e) {
        if (e.target.classList.contains("disability-select")) {
          const removeButtons = document.querySelectorAll(".remove-btn");
          removeButtons.forEach((btn, index) => {
            btn.style.display = index < 2 ? "none" : "block";
          });
        }
      });

      // Generate Pay Chart
      function generatePayChart() {
        const tbody = document.getElementById("payChartBody");
        if (!tbody) {
          // Pay chart table not present in this version
          return;
        }
        
        tbody.innerHTML = "";

        for (let rating = 10; rating <= 100; rating += 10) {
          const row = document.createElement("tr");
          const withSpouse = vaRates[rating].married;
          const withSpouseAndChild = withSpouse + 31; // Add one child under 18

          row.innerHTML = `
            <td>${rating}%</td>
            <td>$${vaRates[rating].single.toFixed(2)}</td>
            <td>$${withSpouse.toFixed(2)}</td>
            <td>$${withSpouseAndChild.toFixed(2)}</td>
            <td>$31.00</td>
            <td>$101.00</td>
          `;
          tbody.appendChild(row);
        }
      }

      // Toggle FAQ
      function toggleFAQ(element) {
        const answer = element.nextElementSibling;
        const icon = element.querySelector(".faq-icon");

        answer.classList.toggle("active");
        icon.classList.toggle("rotated");
      }

      // Historical VA Rates for Retroactive Calculator
      const historicalRates = {
        2025: { single: 3831.30, married: 4052.10 },
        2024: { single: 3737.85, married: 3946.25 },
        2023: { single: 3621.95, married: 3830.70 },
        2022: { single: 3331.39, married: 3526.51 },
        2021: { single: 3142.89, married: 3327.53 },
        2020: { single: 3040.73, married: 3219.13 }
      };

      // State Benefits Data
      const stateBenefits = [
        { name: 'Alabama', type: 'Partial', rating: '100%', details: 'Up to $13,000 property tax exemption', website: 'https://revenue.alabama.gov/property-tax/homestead-exemptions/' },
        { name: 'Alaska', type: 'None', rating: 'N/A', details: 'No state property tax exemption', website: 'https://veterans.alaska.gov' },
        { name: 'Arizona', type: 'Full', rating: '100%', details: 'Complete property tax exemption for 100% disabled veterans', website: 'https://dvs.az.gov' },
        { name: 'Arkansas', type: 'Full', rating: '100%', details: 'Full homestead property tax exemption', website: 'https://www.dfa.arkansas.gov/income-tax/veterans' },
        { name: 'California', type: 'Partial', rating: '100%', details: 'Exemption varies by county, typically $1,000-4,000', website: 'https://www.calvet.ca.gov/pages/property-tax-assistance-program.aspx' },
        { name: 'Colorado', type: 'Partial', rating: '50%+', details: '50% exemption for 50%+ rating', website: 'https://cdmva.colorado.gov' },
        { name: 'Connecticut', type: 'Full', rating: '100%', details: 'Complete property tax exemption', website: 'https://portal.ct.gov/DVA' },
        { name: 'Delaware', type: 'Full', rating: '100%', details: 'Full property tax exemption at 100% rating', website: 'https://veterans.delaware.gov' },
        { name: 'Florida', type: 'Full', rating: '100%', details: 'Complete property tax exemption for permanent residents', website: 'https://www.floridavets.org' },
        { name: 'Georgia', type: 'Full', rating: '100%', details: 'Full homestead property tax exemption', website: 'https://veterans.georgia.gov' },
        { name: 'Hawaii', type: 'Full', rating: '100%', details: 'Complete property tax exemption', website: 'https://dod.hawaii.gov/ovs/' },
        { name: 'Idaho', type: 'Full', rating: '100%', details: 'Complete property tax exemption', website: 'https://veterans.idaho.gov' },
        { name: 'Illinois', type: 'Partial', rating: '70%+', details: 'Exemption varies by county and rating', website: 'https://veterans.illinois.gov' },
        { name: 'Indiana', type: 'Partial', rating: '10%+', details: 'Exemption varies by disability rating percentage', website: 'https://www.in.gov/dva' },
        { name: 'Iowa', type: 'Partial', rating: '100%', details: 'Up to $7,718 exemption for 100% disabled veterans', website: 'https://va.iowa.gov' },
        { name: 'Kansas', type: 'Full', rating: '50%+', details: 'Full property tax exemption for 50%+ disabled veterans', website: 'https://kcsdv.org' },
        { name: 'Kentucky', type: 'Full', rating: '100%', details: 'Complete property tax exemption', website: 'https://veterans.ky.gov' },
        { name: 'Louisiana', type: 'Full', rating: '100%', details: 'Complete property tax exemption for homestead', website: 'https://www.vetaffairs.la.gov' },
        { name: 'Maine', type: 'Full', rating: '100%', details: 'Complete property tax exemption for permanent 100% rating', website: 'https://www.maine.gov/dvem' },
        { name: 'Maryland', type: 'Full', rating: '100%', details: 'Complete property tax exemption', website: 'https://veterans.maryland.gov' },
        { name: 'Massachusetts', type: 'Partial', rating: '10%+', details: 'Variable exemption based on rating and local programs', website: 'https://www.mass.gov/massachusetts-department-of-veterans-services' },
        { name: 'Michigan', type: 'Full', rating: '100%', details: 'Complete property tax exemption', website: 'https://www.michigan.gov/mvaa' },
        { name: 'Minnesota', type: 'Partial', rating: '70%+', details: 'Up to $150,000 value exemption for qualified veterans', website: 'https://mn.gov/mdva' },
        { name: 'Mississippi', type: 'Full', rating: '100%', details: 'Complete homestead property tax exemption', website: 'https://www.msva.ms.gov' },
        { name: 'Missouri', type: 'Full', rating: '100%', details: 'Complete property tax exemption for 100% rating', website: 'https://mvc.dps.mo.gov' },
        { name: 'Montana', type: 'Full', rating: '100%', details: 'Complete property tax exemption', website: 'https://montanaveterans.mt.gov' },
        { name: 'Nebraska', type: 'Full', rating: '50%+', details: 'Property tax exemption varies by rating', website: 'https://veterans.nebraska.gov' },
        { name: 'Nevada', type: 'Full', rating: '100%', details: 'Complete property tax exemption', website: 'https://veterans.nv.gov' },
        { name: 'New Hampshire', type: 'Partial', rating: '100%', details: 'Variable exemption by municipality', website: 'https://www.nh.gov/veterans' },
        { name: 'New Jersey', type: 'Full', rating: '100%', details: 'Complete property tax exemption', website: 'https://nj.gov/military/veterans' },
        { name: 'New Mexico', type: 'Full', rating: '100%', details: 'Complete property tax exemption for 100% rating', website: 'https://www.dvs.state.nm.us' },
        { name: 'New York', type: 'Partial', rating: '40%+', details: 'Exemption varies by county and rating', website: 'https://veterans.ny.gov' },
        { name: 'North Carolina', type: 'Partial', rating: '50%+', details: 'Up to $45,000 property tax exemption', website: 'https://www.nc.gov/services/veterans-military' },
        { name: 'North Dakota', type: 'Partial', rating: '50%+', details: 'Variable exemption based on rating', website: 'https://www.nd.gov/dtvs' },
        { name: 'Ohio', type: 'Full', rating: '100%', details: 'Complete property tax exemption for 100% disabled veterans', website: 'https://dvs.ohio.gov' },
        { name: 'Oklahoma', type: 'Full', rating: '100%', details: 'Complete property tax exemption', website: 'https://www.ok.gov/odva' },
        { name: 'Oregon', type: 'Partial', rating: '40%+', details: 'Property tax exemption varies by disability percentage', website: 'https://www.oregon.gov/odva/Pages/default.aspx' },
        { name: 'Pennsylvania', type: 'Full', rating: '100%', details: 'Complete property tax exemption at 100% rating', website: 'https://www.dmva.pa.gov/veterans' },
        { name: 'Rhode Island', type: 'Full', rating: '100%', details: 'Complete property tax exemption', website: 'https://dvs.ri.gov' },
        { name: 'South Carolina', type: 'Full', rating: '100%', details: 'Complete property tax exemption for 100% rating', website: 'https://scdva.sc.gov' },
        { name: 'South Dakota', type: 'Full', rating: '100%', details: 'Complete property tax exemption for 100% disabled veterans', website: 'https://vetaffairs.sd.gov' },
        { name: 'Tennessee', type: 'Full', rating: '100%', details: 'Complete property tax exemption', website: 'https://www.tn.gov/veteran.html' },
        { name: 'Texas', type: 'Full', rating: '100%', details: 'Complete homestead property tax exemption', website: 'https://www.tvc.texas.gov' },
        { name: 'Utah', type: 'Full', rating: '100%', details: 'Complete property tax exemption for 100% rating', website: 'https://veterans.utah.gov' },
        { name: 'Vermont', type: 'Partial', rating: '50%+', details: 'Property tax exemptions vary by town', website: 'https://veterans.vermont.gov' },
        { name: 'Virginia', type: 'Full', rating: '100%', details: 'Complete property tax exemption at 100% rating', website: 'https://www.dvs.virginia.gov' },
        { name: 'Washington', type: 'Partial', rating: '30%+', details: 'Property tax exemption varies by rating and county', website: 'https://www.dva.wa.gov' },
        { name: 'West Virginia', type: 'Full', rating: '100%', details: 'Complete property tax exemption for 100% rating', website: 'https://veterans.wv.gov' },
        { name: 'Wisconsin', type: 'Partial', rating: '70%+', details: 'Property tax credit program for qualified veterans', website: 'https://dva.wi.gov' },
        { name: 'Wyoming', type: 'Full', rating: '100%', details: 'Complete property tax exemption', website: 'https://wyomilitary.wyo.gov' }
      ];

      function populateStates() {
        const stateListDiv = document.getElementById('stateList');
        stateListDiv.innerHTML = stateBenefits.map(state => `
          <div class="state-card" data-name="${state.name.toLowerCase()}" style="background: white; padding: 1rem; border-radius: 8px; border: 1px solid #e5e7eb; transition: all 0.2s ease; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
            <h4 style="margin: 0 0 0.5rem 0; color: var(--primary); font-size: 1.1rem; font-weight: 800; border-bottom: 2px solid var(--primary); padding-bottom: 0.25rem;">${state.name}</h4>
            <div style="margin-bottom: 0.5rem;">
              <span style="background: ${state.type === 'Full' ? '#dcfce7' : state.type === 'Partial' ? '#fef3c7' : '#fee2e2'}; color: ${state.type === 'Full' ? '#16a34a' : state.type === 'Partial' ? '#d97706' : '#dc2626'}; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.85rem; font-weight: 700; display: inline-block; margin-bottom: 0.5rem;">${state.type} Exemption</span>
            </div>
            <div style="margin-bottom: 0.5rem; font-size: 0.9rem; color: var(--gray);">
              <strong>Rating Required:</strong> ${state.rating}
            </div>
            <div style="margin-bottom: 0.75rem; font-size: 0.9rem; color: var(--dark); line-height: 1.5;">
              ${state.details}
            </div>
            <a href="${state.website}" target="_blank" rel="noopener noreferrer" style="color: var(--primary); font-size: 0.85rem; font-weight: 600; text-decoration: underline;">Learn More â†’</a>
          </div>
        `).join('');
      }

      function filterStates() {
        const searchTerm = document.getElementById('stateSearch').value.toLowerCase();
        const cards = document.querySelectorAll('.state-card');
        
        cards.forEach(card => {
          const stateName = card.dataset.name;
          if (stateName.includes(searchTerm)) {
            card.style.display = 'block';
          } else {
            card.style.display = 'none';
          }
        });
      }

      // Initialize states when page loads
      document.addEventListener('DOMContentLoaded', function() {
        populateStates();
      });

      // TEST CASES - Verification of correct rounding logic per 38 CFR Â§4.25
      // Test Case 1: 50% + 30% + 20% = 72% â†’ 70% (rounds down)
      //   Step 1: 50% of 100% = 50%, remaining = 50%
      //   Step 2: 30% of 50% = 15%, total = 65%, remaining = 35%
      //   Step 3: 20% of 35% = 7%, total = 72%, remaining = 28%
      //   Final: 72% rounded to nearest 10 = 70% âœ“
      //
      // Test Case 2: 50% + 50% = 75% â†’ 80% (rounds up)
      //   Step 1: 50% of 100% = 50%, remaining = 50%
      //   Step 2: 50% of 50% = 25%, total = 75%, remaining = 25%
      //   Final: 75% rounded to nearest 10 = 80% âœ“
      //
      // Test Case 3: 30% (left) + 20% (right) bilateral = 44% + 4.4% = 48.4% â†’ 50%
      //   Combine: 30% of 100% = 30%, remaining = 70%
      //            20% of 70% = 14%, total = 44%, remaining = 56%
      //   Add bilateral factor: 44% Ã— 10% = 4.4%
      //   Total: 44% + 4.4% = 48.4%
      //   Final: 48.4% rounded to nearest 10 = 50% âœ“
      //
      // Note: All intermediate calculations maintain decimals (no premature rounding)
      // Rounding occurs ONLY at the final step to nearest 10%
      function testVACalculations() {
        console.log('Testing VA Combined Rating Calculations (38 CFR Â§4.25):');
        
        // Test Case 1
        const test1 = calculateVACombined([50, 30, 20]);
        console.log('Test 1 - 50% + 30% + 20%:', test1, 'Expected: 70%');
        
        // Test Case 2
        const test2 = calculateVACombined([50, 50]);
        console.log('Test 2 - 50% + 50%:', test2, 'Expected: 80%');
        
        // Test Case 3 - Bilateral
        const bilateralResult = calculateBilateralFactor([30, 20]);
        const bilateralTotal = bilateralResult ? bilateralResult.total : 0;
        const test3 = Math.round(bilateralTotal / 10) * 10;
        console.log('Test 3 - 30% (left) + 20% (right) bilateral:', test3, 'Expected: 50%');
        console.log('Bilateral details:', bilateralResult);
      }

      function calculateRetroactive() {
        const claimDate = new Date(document.getElementById('claimFiledDate').value);
        const approvalDate = new Date(document.getElementById('approvalDate').value);
        const initialRating = parseInt(document.getElementById('initialRating').value);
        const currentRating = parseInt(document.getElementById('currentRating').value);
        const increaseDate = document.getElementById('increaseDate').value ? new Date(document.getElementById('increaseDate').value) : null;
        const isMarried = document.getElementById('retroactiveMarried').checked;

        if (!claimDate || !approvalDate || initialRating === 0) {
          document.getElementById('retroactiveResults').style.display = 'none';
          return;
        }

        // Calculate months between claim and approval
        const months = [];
        const startDate = new Date(claimDate);
        const endDate = new Date(approvalDate);

        for (let d = new Date(startDate); d <= endDate; d.setMonth(d.getMonth() + 1)) {
          const year = d.getFullYear();
          const monthRate = initialRating <= 100 ? vaRates[initialRating][isMarried ? 'married' : 'single'] : 0;
          
          // Use historical rates if available, otherwise use current rate
          const yearRates = historicalRates[year] || historicalRates[2025];
          const rateRatio = (yearRates[isMarried ? 'married' : 'single']) / historicalRates[2025][isMarried ? 'married' : 'single'];
          const adjustedRate = monthRate * rateRatio;

          months.push({
            date: new Date(d),
            year: year,
            rating: initialRating,
            payment: adjustedRate,
            rounded: adjustedRate
          });
        }

        // Handle rating increase if applicable
        if (currentRating > initialRating && increaseDate) {
          const increase = new Date(increaseDate);
          months.forEach(month => {
            if (month.date >= increase) {
              const yearRates = historicalRates[month.year] || historicalRates[2025];
              const rateRatio = (yearRates[isMarried ? 'married' : 'single']) / historicalRates[2025][isMarried ? 'married' : 'single'];
              month.rating = currentRating;
              month.payment = vaRates[currentRating][isMarried ? 'married' : 'single'] * rateRatio;
            }
          });
        }

        // Calculate total
        const total = months.reduce((sum, month) => sum + month.payment, 0);

        // Display results
        document.getElementById('retroactiveTotal').textContent = '$' + total.toFixed(2).toLocaleString();
        document.getElementById('retroactiveResults').style.display = 'block';

        // Generate month-by-month breakdown
        let breakdownHTML = '';
        months.forEach((month, index) => {
          if (index < 12 || index % 3 === 0 || index === months.length - 1) {
            breakdownHTML += `<div style="padding: 0.5rem; background: ${index % 2 === 0 ? 'white' : 'var(--light-gray)'}; border-radius: 6px; margin-bottom: 0.25rem;">
              ${month.date.toLocaleDateString('en-US', { year: 'numeric', month: 'long' })}: ${month.rating}% rating = $${month.payment.toFixed(2)}
            </div>`;
          }
        });
        document.getElementById('monthBreakdown').innerHTML = breakdownHTML;
      }

      function toggleMonthBreakdown() {
        const breakdown = document.getElementById('monthBreakdown');
        const toggle = document.getElementById('breakdownToggle');
        
        if (breakdown.style.display === 'none') {
          breakdown.style.display = 'block';
          toggle.textContent = 'â–²';
        } else {
          breakdown.style.display = 'none';
          toggle.textContent = 'â–¼';
        }
      }

      function toggleEducationalSection() {
        const content = document.getElementById("educationalContent");
        const toggle = document.getElementById("educationalToggle");
        
        if (content.style.display === "none") {
          content.style.display = "block";
          toggle.textContent = "â–¼";
          toggle.style.transform = "rotate(0deg)";
        } else {
          content.style.display = "none";
          toggle.textContent = "â–¶";
          toggle.style.transform = "rotate(0deg)";
        }
      }

      function toggleDisclaimerSection() {
        const content = document.getElementById("disclaimerContent");
        const toggle = document.getElementById("disclaimerToggle");
        
        if (content.style.display === "none") {
          content.style.display = "block";
          toggle.textContent = "â–¼";
          toggle.style.transform = "rotate(0deg)";
        } else {
          content.style.display = "none";
          toggle.textContent = "â–¶";
          toggle.style.transform = "rotate(0deg)";
        }
      }

      function toggleRateReference() {
        const content = document.getElementById("rateReferenceContent");
        const toggle = document.getElementById("rateReferenceToggle");
        
        if (content.style.display === "none") {
          content.style.display = "block";
          toggle.textContent = "â–¼";
          toggle.style.transform = "rotate(0deg)";
        } else {
          content.style.display = "none";
          toggle.textContent = "â–¶";
          toggle.style.transform = "rotate(0deg)";
        }
      }

      function toggleHowToUseCalculator() {
        // Only toggle on mobile
        if (window.innerWidth > 768) return;
        
        const content = document.getElementById("howToUseContent");
        const toggle = document.getElementById("howToUseToggle");
        
        if (content && toggle) {
          if (content.classList.contains("expanded")) {
            content.classList.remove("expanded");
            toggle.textContent = "â–¶";
            toggle.style.transform = "rotate(0deg)";
          } else {
            content.classList.add("expanded");
            toggle.textContent = "â–¼";
            toggle.style.transform = "rotate(0deg)";
          }
        }
      }

      function toggleHowToStep(header) {
        const content = header.nextElementSibling;
        const isExpanded = header.classList.contains('expanded');
        
        // Close all other sections first (accordion behavior - only one open at a time)
        document.querySelectorAll('.how-to-collapsible-header.expanded').forEach(h => {
          if (h !== header) {
            h.classList.remove('expanded');
            h.nextElementSibling.classList.remove('expanded');
          }
        });
        
        // Toggle the clicked section
        if (!isExpanded) {
          header.classList.add('expanded');
          content.classList.add('expanded');
        } else {
          header.classList.remove('expanded');
          content.classList.remove('expanded');
        }
      }

      // Mobile-only collapsible "How to Use" steps
      // Desktop is completely unaffected
      document.addEventListener('DOMContentLoaded', function() {
        
        // Function to setup mobile collapsible behavior
        function setupMobileHowTo() {
          // ONLY run on mobile viewports
          if (window.innerWidth <= 768) {
            const howToSteps = document.querySelectorAll('.how-to-step-item');
            
            // Start all steps collapsed on mobile
            howToSteps.forEach(step => {
              step.classList.add('mobile-collapsed');
              step.classList.remove('mobile-expanded');
            });
            
            // Add click handlers to each step
            howToSteps.forEach(step => {
              // Remove any existing click listeners to avoid duplicates
              const newStep = step.cloneNode(true);
              step.parentNode.replaceChild(newStep, step);
              
              // Add click to entire card
              newStep.addEventListener('click', function(e) {
                const isCollapsed = newStep.classList.contains('mobile-collapsed');
                
                if (isCollapsed) {
                  // Expand this step
                  newStep.classList.remove('mobile-collapsed');
                  newStep.classList.add('mobile-expanded');
                } else {
                  // Collapse this step
                  newStep.classList.remove('mobile-expanded');
                  newStep.classList.add('mobile-collapsed');
                }
              });
            });
          }
        }
        
        // Setup on initial load
        setupMobileHowTo();
        
        // Re-setup if user resizes from desktop to mobile
        let resizeTimer;
        window.addEventListener('resize', function() {
          clearTimeout(resizeTimer);
          resizeTimer = setTimeout(function() {
            // Only re-run if now on mobile
            if (window.innerWidth <= 768) {
              setupMobileHowTo();
            }
          }, 250);
        });
        
      });

      // Tab Switching Function
      function switchTab(tabName) {
        // Remove active class from all tabs and panels
        document
          .querySelectorAll(".tab-button")
          .forEach((btn) => btn.classList.remove("active"));
        document
          .querySelectorAll(".tab-panel")
          .forEach((panel) => panel.classList.remove("active"));

        // Add active class to clicked tab and corresponding panel
        if (event && event.target) {
          event.target.classList.add("active");
        }
        document.getElementById(tabName + "-tab").classList.add("active");

        // Update mobile dropdown to match
        const mobileSelect = document.querySelector(".mobile-tab-select");
        if (mobileSelect) {
          mobileSelect.value = tabName;
        }
      }

      function switchTabMobile(tabName) {
        // Remove active class from all panels
        document
          .querySelectorAll(".tab-panel")
          .forEach((panel) => panel.classList.remove("active"));

        // Add active class to selected panel
        const activePanel = document.getElementById(tabName + "-tab");
        if (activePanel) {
          activePanel.classList.add("active");
          
          // Smooth scroll to top of panel on mobile
          if (window.innerWidth <= 768) {
            setTimeout(() => {
              activePanel.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);
          }
        }

        // Update desktop tabs to match (if visible)
        document
          .querySelectorAll(".tab-button")
          .forEach((btn) => btn.classList.remove("active"));

        const buttons = document.querySelectorAll(".tab-button");
        buttons.forEach((btn) => {
          if (btn.onclick && btn.onclick.toString().includes(tabName)) {
            btn.classList.add("active");
          }
        });
      }

      // Smooth scroll to guide section
      function scrollToGuide() {
        const guideSection = document.getElementById("complete-guide");
        if (guideSection) {
          // On mobile, first show the guide if it's hidden
          if (
            window.innerWidth <= 768 &&
            !guideSection.classList.contains("show")
          ) {
            guideSection.classList.add("show");

            // Update mobile guide toggle button if it exists
            const mobileToggleButton = document.querySelector(
              ".mobile-guide-toggle"
            );
            if (mobileToggleButton) {
              mobileToggleButton.innerHTML = "ðŸ”¼ Hide Complete Guide";
            }

            // Wait a moment for the guide to show, then scroll
            setTimeout(() => {
              guideSection.scrollIntoView({
                behavior: "smooth",
              });
            }, 100);
          } else {
            // Desktop behavior - just scroll to the guide
            const offset = 100;
            const elementPosition = guideSection.offsetTop - offset;

            window.scrollTo({
              top: elementPosition,
              behavior: "smooth",
            });
          }
        }
      }
    </script>


    <script>
      // Mobile collapsible sections functionality
      function toggleMobileSection(sectionName) {
        if (window.innerWidth > 768) return; // Only on mobile
        
        const content = document.getElementById(sectionName + 'Content');
        const icon = document.getElementById(sectionName + 'Icon');
        
        if (content && icon) {
          const isExpanded = content.classList.contains('expanded');
          
          if (isExpanded) {
            content.classList.remove('expanded');
            icon.classList.remove('expanded');
          } else {
            content.classList.add('expanded');
            icon.classList.add('expanded');
          }
        }
      }

      function updateDependentsBadge() {
        if (window.innerWidth > 768) return;
        
        const married = document.getElementById('married').checked;
        const childrenUnder18 = parseInt(document.getElementById('childrenUnder18').value) || 0;
        const childrenInSchool = parseInt(document.getElementById('childrenInSchool').value) || 0;
        const oneParent = document.getElementById('oneParent').checked;
        const twoParents = document.getElementById('twoParents').checked;
        const spouseAid = document.getElementById('spouseAidAttendance').checked;
        
        let count = 0;
        if (married) count++;
        count += childrenUnder18;
        count += childrenInSchool;
        if (oneParent) count++;
        if (twoParents) count++;
        if (spouseAid) count++;
        
        const badge = document.getElementById('dependentsBadge');
        if (badge) {
          if (count > 0) {
            badge.style.display = 'inline-block';
            badge.textContent = 'âœ“ ' + count;
          } else {
            badge.style.display = 'none';
          }
        }
      }

      function updateAdvancedBadge() {
        if (window.innerWidth > 768) return;
        
        const tdiuChecked = document.getElementById('tdiuEnable')?.checked;
        const effectiveDate = document.getElementById('effectiveDate')?.value;
        
        const badge = document.getElementById('advancedBadge');
        if (badge) {
          if (tdiuChecked || effectiveDate) {
            badge.style.display = 'inline-block';
          } else {
            badge.style.display = 'none';
          }
        }
      }

      function showMobileLoading() {
        const sticky = document.getElementById('mobileResultsSticky');
        if (sticky && window.innerWidth <= 768) {
          sticky.classList.add('calculating');
        }
      }

      function hideMobileLoading() {
        const sticky = document.getElementById('mobileResultsSticky');
        if (sticky) {
          sticky.classList.remove('calculating');
        }
      }

      // Call updateDependentsBadge() whenever any dependent field changes
      document.addEventListener('DOMContentLoaded', function() {
        const dependentFields = ['married', 'spouseAidAttendance', 'childrenUnder18', 'childrenInSchool', 'oneParent', 'twoParents'];
        dependentFields.forEach(function(fieldId) {
          const field = document.getElementById(fieldId);
          if (field) {
            field.addEventListener('change', function() {
              updateDependentsBadge();
            });
          }
        });
      });

      // Auto-update on any input change
      document.addEventListener('DOMContentLoaded', function() {
        // Update dependents badge on any dependent change
        const dependentInputs = [
          'married', 'spouseAidAttendance', 'childrenUnder18', 
          'childrenInSchool', 'oneParent', 'twoParents'
        ];
        
        dependentInputs.forEach(id => {
          const element = document.getElementById(id);
          if (element) {
            element.addEventListener('change', () => {
              updateDependentsBadge();
              calculateCombinedRating();
            });
          }
        });
        
        // Update advanced badge on TDIU or date change
        const advancedInputs = ['tdiuEnable', 'effectiveDate'];
        advancedInputs.forEach(id => {
          const element = document.getElementById(id);
          if (element) {
            element.addEventListener('change', () => {
              updateAdvancedBadge();
              calculateCombinedRating();
            });
          }
        });
        
        // Initialize on page load
        if (window.innerWidth <= 768) {
          updateDependentsBadge();
          updateAdvancedBadge();
        }
        
        // Re-initialize on window resize
        let resizeTimer;
        window.addEventListener('resize', () => {
          clearTimeout(resizeTimer);
          resizeTimer = setTimeout(() => {
            if (window.innerWidth <= 768) {
              updateDependentsBadge();
              updateAdvancedBadge();
            }
          }, 250);
        });
      });
    </script>

    <!-- Floating Guide Button - Mobile Only -->
    <button class="floating-guide-btn" onclick="scrollToGuide()">
      <span class="guide-emoji">ðŸ“š</span>
      <span>VA Guide</span>
    </button>

    <!-- Footer -->
        <!-- Footer Container - Populated by footer.js -->
    <div id="footer-container"></div>

    <!-- Mobile Sticky Results Bar -->
    <div class="mobile-results-sticky" id="mobileResultsSticky" style="display: none;">
      <div style="display: flex; justify-content: space-between; align-items: center; gap: 1rem;">
        <div style="flex: 1;">
          <div style="font-size: 0.75rem; color: var(--gray); margin-bottom: 0.25rem;">Combined Rating</div>
          <div class="mobile-sticky-rating" style="font-size: 1.5rem; font-weight: 800; color: var(--primary);">0%</div>
        </div>
        <div style="flex: 1;">
          <div style="font-size: 0.75rem; color: var(--gray); margin-bottom: 0.25rem;">Monthly Payment</div>
          <div class="mobile-sticky-payment" style="font-size: 1.25rem; font-weight: 700; color: var(--success);">$0.00</div>
        </div>
        <button onclick="toggleMobileBreakdown()" style="padding: 0.75rem 1rem; background: var(--primary); color: white; border: none; border-radius: 8px; font-size: 0.85rem; font-weight: 600; white-space: nowrap; cursor: pointer;">
          Details
        </button>
      </div>
    </div>
      
    <!-- Footer System - Load config first, then generator -->
    <script src="../footer-config.js"></script>
    <script src="../footer.js"></script>
    
    <!-- Cookie Consent Banner -->
    <div
      id="cookieConsent"
      style="
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: #1a1a2e;
        color: white;
        padding: 20px;
        display: none;
        z-index: 9999;
        box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.2);
      "
    >
      <div
        style="
          max-width: 1200px;
          margin: 0 auto;
          display: flex;
          align-items: center;
          justify-content: space-between;
          flex-wrap: wrap;
          gap: 20px;
        "
      >
        <div style="flex: 1; min-width: 300px">
          <p style="margin: 0; font-size: 14px">
            ðŸª We use cookies to improve your experience and analyze site
            traffic.
            <a href="../cookies.html" style="color: #00d4aa">Learn more</a>
          </p>
        </div>
        <div style="display: flex; gap: 10px">
          <button
            id="cookie-accept-btn"
            style="
              background: #00d4aa;
              color: #1a1a2e;
              border: none;
              padding: 10px 20px;
              border-radius: 5px;
              font-weight: 600;
              cursor: pointer;
            "
          >
            Accept All
          </button>
          <button
            id="cookie-reject-btn"
            style="
              background: transparent;
              color: white;
              border: 1px solid white;
              padding: 10px 20px;
              border-radius: 5px;
              font-weight: 600;
              cursor: pointer;
            "
          >
            Reject Non-Essential
          </button>
        </div>
      </div>
    </div>
    <script src="../cookie-consent-secure.js" defer></script>
  </body>
</html>
